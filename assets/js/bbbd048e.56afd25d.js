"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1048],{4976:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>a,contentTitle:()=>i,default:()=>h,frontMatter:()=>t,metadata:()=>d,toc:()=>c});var s=n(4848),l=n(8453);const t={},i="MevBoostRelayAllowedList",d={id:"contracts/mev-boost-relays-allowed-list",title:"MevBoostRelayAllowedList",description:"- Source Code",source:"@site/docs/contracts/mev-boost-relays-allowed-list.md",sourceDirName:"contracts",slug:"/contracts/mev-boost-relays-allowed-list",permalink:"/contracts/mev-boost-relays-allowed-list",draft:!1,unlisted:!1,editUrl:"https://github.com/adminseedlatam/lido-docs-spanish/edit/main/docs/contracts/mev-boost-relays-allowed-list.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"LidoExecutionLayerRewardsVault",permalink:"/contracts/lido-execution-layer-rewards-vault"},next:{title:"TRP VestingEscrow",permalink:"/contracts/trp-vesting-escrow"}},a={},c=[{value:"View methods",id:"view-methods",level:2},{value:"get_owner()",id:"get_owner",level:3},{value:"get_manager()",id:"get_manager",level:3},{value:"get_relays_amount()",id:"get_relays_amount",level:3},{value:"get_relays()",id:"get_relays",level:3},{value:"get_relay_by_uri()",id:"get_relay_by_uri",level:3},{value:"Parameters:",id:"parameters",level:4},{value:"get_allowed_list_version()",id:"get_allowed_list_version",level:3},{value:"Methods",id:"methods",level:2},{value:"add_relay()",id:"add_relay",level:3},{value:"Parameters:",id:"parameters-1",level:4},{value:"remove_relay()",id:"remove_relay",level:3},{value:"Parameters:",id:"parameters-2",level:4},{value:"change_owner()",id:"change_owner",level:3},{value:"Parameters:",id:"parameters-3",level:4},{value:"set_manager()",id:"set_manager",level:3},{value:"Parameters:",id:"parameters-4",level:4},{value:"dismiss_manager()",id:"dismiss_manager",level:3},{value:"recover_erc20()",id:"recover_erc20",level:3}];function o(e){const r={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.h1,{id:"mevboostrelayallowedlist",children:"MevBoostRelayAllowedList"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://github.com/lidofinance/mev-boost-relay-allowed-list/blob/main/contracts/MEVBoostRelayAllowedList.vy",children:"Source Code"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://etherscan.io/address/0xf95f069f9ad107938f6ba802a3da87892298610e",children:"Deployed Contract (mainnet)"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://holesky.etherscan.io/address/0x2d86C5855581194a386941806E38cA119E50aEA3",children:"Deployed Contract (hole\u0161ky)"})}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:["MEV-Boost relay allowed list is a simple contract storing a list of relays that have been approved by DAO for use in ",(0,s.jsx)(r.a,{href:"https://github.com/flashbots/mev-boost",children:"MEV-Boost"})," setups. The data from the contract is used to generate a configuration file that contains a list of relays that should be connected to by the Node Operators participating in Lido."]}),"\n",(0,s.jsx)(r.h2,{id:"view-methods",children:"View methods"}),"\n",(0,s.jsx)(r.h3,{id:"get_owner",children:"get_owner()"}),"\n",(0,s.jsx)(r.p,{children:"Retrieves the current contract owner."}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-vyper",children:"@view\n@external\ndef get_owner() -> address\n"})}),"\n",(0,s.jsx)(r.h3,{id:"get_manager",children:"get_manager()"}),"\n",(0,s.jsx)(r.p,{children:"Retrieves the current manager entity (returns zero address if no entity is assigned)."}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-vyper",children:"@view\n@external\ndef get_manager() -> address\n"})}),"\n",(0,s.jsx)(r.h3,{id:"get_relays_amount",children:"get_relays_amount()"}),"\n",(0,s.jsx)(r.p,{children:"Retrieves the current total amount of allowed relays."}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-vyper",children:"@view\n@external\ndef get_relays_amount() -> uint256\n"})}),"\n",(0,s.jsx)(r.h3,{id:"get_relays",children:"get_relays()"}),"\n",(0,s.jsx)(r.p,{children:"Retrieves all of the currently allowed relays."}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-vyper",children:"@view\n@external\ndef get_relays() -> DynArray[Relay, MAX_NUM_RELAYS]\n"})}),"\n",(0,s.jsx)(r.h3,{id:"get_relay_by_uri",children:"get_relay_by_uri()"}),"\n",(0,s.jsx)(r.p,{children:"Retrieves the relay with the provided uri."}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-vyper",children:"@view\n@external\ndef get_relay_by_uri(relay_uri: String[MAX_STRING_LENGTH]) -> bool\n"})}),"\n",(0,s.jsx)(r.h4,{id:"parameters",children:"Parameters:"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Name"}),(0,s.jsx)(r.th,{children:"Type"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsx)(r.tbody,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"relay_uri"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"String[MAX_STRING_LENGTH]"})}),(0,s.jsx)(r.td,{children:"URI of the relay"})]})})]}),"\n",(0,s.jsx)(r.admonition,{type:"note",children:(0,s.jsx)(r.p,{children:"Reverts if no relay found."})}),"\n",(0,s.jsx)(r.h3,{id:"get_allowed_list_version",children:"get_allowed_list_version()"}),"\n",(0,s.jsx)(r.p,{children:"Retrieves the current version of the allowed relays list."}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-vyper",children:"@view\n@external\ndef get_allowed_list_version() -> uint256:\n"})}),"\n",(0,s.jsx)(r.h2,{id:"methods",children:"Methods"}),"\n",(0,s.jsx)(r.h3,{id:"add_relay",children:"add_relay()"}),"\n",(0,s.jsx)(r.p,{children:"Appends relay to the allowed list.\nBumps the allowed list version."}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-vyper",children:"@external\ndef add_relay(\n    uri: String[MAX_STRING_LENGTH],\n    operator: String[MAX_STRING_LENGTH],\n    is_mandatory: bool,\n    description: String[MAX_STRING_LENGTH]\n)\n"})}),"\n",(0,s.jsx)(r.h4,{id:"parameters-1",children:"Parameters:"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Name"}),(0,s.jsx)(r.th,{children:"Type"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"uri"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"String[MAX_STRING_LENGTH]"})}),(0,s.jsx)(r.td,{children:"URI of the relay"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"operator"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"String[MAX_STRING_LENGTH]"})}),(0,s.jsx)(r.td,{children:"Name of the relay operator"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"is_mandatory"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"bool"})}),(0,s.jsx)(r.td,{children:"If the relay is mandatory for usage for Lido Node Operator"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"description"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"String[MAX_STRING_LENGTH]"})}),(0,s.jsx)(r.td,{children:"Description of the relay in free format"})]})]})]}),"\n",(0,s.jsxs)(r.admonition,{type:"note",children:[(0,s.jsx)(r.p,{children:"Reverts if any of the following is true:"}),(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"called by anyone except the owner or manager"}),"\n",(0,s.jsxs)(r.li,{children:["relay with provided ",(0,s.jsx)(r.code,{children:"uri"})," already allowed"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"uri"})," is empty"]}),"\n"]})]}),"\n",(0,s.jsx)(r.h3,{id:"remove_relay",children:"remove_relay()"}),"\n",(0,s.jsx)(r.p,{children:"Removes the previously allowed relay from the set.\nBumps the allowed list version."}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-vyper",children:"@external\ndef remove_relay(uri: String[MAX_STRING_LENGTH]):\n"})}),"\n",(0,s.jsx)(r.h4,{id:"parameters-2",children:"Parameters:"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Name"}),(0,s.jsx)(r.th,{children:"Type"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsx)(r.tbody,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"uri"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"String[MAX_STRING_LENGTH]"})}),(0,s.jsx)(r.td,{children:"URI of the relay"})]})})]}),"\n",(0,s.jsxs)(r.admonition,{type:"note",children:[(0,s.jsx)(r.p,{children:"Reverts if any of the following is true:"}),(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"called by anyone except the owner or manager"}),"\n",(0,s.jsxs)(r.li,{children:["if relay with provided ",(0,s.jsx)(r.code,{children:"uri"})," is not allowed"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"uri"})," is empty"]}),"\n"]})]}),"\n",(0,s.jsx)(r.h3,{id:"change_owner",children:"change_owner()"}),"\n",(0,s.jsx)(r.p,{children:"Change current owner to the new one."}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-vyper",children:"@external\ndef change_owner(owner: address)\n"})}),"\n",(0,s.jsx)(r.h4,{id:"parameters-3",children:"Parameters:"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Name"}),(0,s.jsx)(r.th,{children:"Type"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsx)(r.tbody,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"owner"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"address"})}),(0,s.jsx)(r.td,{children:"Address of the new owner"})]})})]}),"\n",(0,s.jsxs)(r.admonition,{type:"note",children:[(0,s.jsx)(r.p,{children:"Reverts if any of the following is true:"}),(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"called by anyone except the current owner"}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"owner"})," is the current owner"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"owner"})," is zero address"]}),"\n"]})]}),"\n",(0,s.jsx)(r.h3,{id:"set_manager",children:"set_manager()"}),"\n",(0,s.jsxs)(r.p,{children:["Sets ",(0,s.jsx)(r.code,{children:"manager"})," as the current management entity."]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-vyper",children:"@external\ndef set_manager(manager: address)\n"})}),"\n",(0,s.jsx)(r.h4,{id:"parameters-4",children:"Parameters:"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Name"}),(0,s.jsx)(r.th,{children:"Type"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsx)(r.tbody,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"manager"}),(0,s.jsx)(r.td,{children:"address"}),(0,s.jsx)(r.td,{children:"Address of the new manager"})]})})]}),"\n",(0,s.jsxs)(r.admonition,{type:"note",children:[(0,s.jsx)(r.p,{children:"Reverts if any of the following is true:"}),(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"called by anyone except the current owner"}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"manager"})," is equal to the previously set value"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"manager"})," is zero address"]}),"\n"]})]}),"\n",(0,s.jsx)(r.h3,{id:"dismiss_manager",children:"dismiss_manager()"}),"\n",(0,s.jsx)(r.p,{children:"Dismisses the current management entity."}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-vyper",children:"@external\ndef dismiss_manager()\n"})}),"\n",(0,s.jsxs)(r.admonition,{type:"note",children:[(0,s.jsx)(r.p,{children:"Reverts if any of the following is true:"}),(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"called by anyone except the current owner"}),"\n",(0,s.jsxs)(r.li,{children:["no ",(0,s.jsx)(r.code,{children:"manager"})," was set previously"]}),"\n"]})]}),"\n",(0,s.jsx)(r.h3,{id:"recover_erc20",children:"recover_erc20()"}),"\n",(0,s.jsxs)(r.p,{children:["Transfers ERC20 tokens from the contract's balance to the ",(0,s.jsx)(r.code,{children:"recipient"}),"."]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-vyper",children:"@external\ndef recover_erc20(token: address, amount: uint256, recipient: address)\n"})}),"\n",(0,s.jsxs)(r.admonition,{type:"note",children:[(0,s.jsx)(r.p,{children:"Reverts if any of the following is true:"}),(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"called by anyone except the owner"}),"\n",(0,s.jsx)(r.li,{children:"ERC20 transfer reverted"}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"recipient"})," is zero address"]}),"\n"]})]})]})}function h(e={}){const{wrapper:r}={...(0,l.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>i,x:()=>d});var s=n(6540);const l={},t=s.createContext(l);function i(e){const r=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function d(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),s.createElement(t.Provider,{value:r},e.children)}}}]);