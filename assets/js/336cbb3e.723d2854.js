"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7996],{2398:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>d,toc:()=>l});var s=i(4848),t=i(8453);const r={},o="wstETH rollup bridging guide",d={id:"gu\xedas-token/wsteth-bridging-guide",title:"wstETH rollup bridging guide",description:"This guide provides recommendations provided by the NEW workgroup. NEW is not a representative of the Lido DAO and by giving the feedback NEW makes no warranties, express or implied, and disclaims all implied warranties, including any warranty of the likelihood of the recognition or rejection by the Lido DAO and representation.",source:"@site/docs/gu\xedas-token/wsteth-bridging-guide.md",sourceDirName:"gu\xedas-token",slug:"/gu\xedas-token/wsteth-bridging-guide",permalink:"/gu\xedas-token/wsteth-bridging-guide",draft:!1,unlisted:!1,editUrl:"https://github.com/adminseedlatam/lido-docs-spanish/edit/main/docs/gu\xedas-token/wsteth-bridging-guide.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"stETH on AAVE caveats",permalink:"/gu\xedas-token/steth-on-aave-caveats"},next:{title:"LidoLocator",permalink:"/contracts/lido-locator"}},a={},l=[{value:"Intro",id:"intro",level:2},{value:"Why is this guide needed",id:"why-is-this-guide-needed",level:2},{value:"The Lido DAO bridging endpoints recognition",id:"the-lido-dao-bridging-endpoints-recognition",level:2},{value:"General scenario towards the Lido DAO recognition",id:"general-scenario-towards-the-lido-dao-recognition",level:2},{value:"Recommendations",id:"recommendations",level:2},{value:"Security and future-proof baseline",id:"security-and-future-proof-baseline",level:3},{value:"R-1: Audited code and verifiable deployment",id:"r-1-audited-code-and-verifiable-deployment",level:4},{value:"R-2: &quot;Lock and mint&quot; bridge mechanics",id:"r-2-lock-and-mint-bridge-mechanics",level:4},{value:"R-3: Usage of canonical bridge",id:"r-3-usage-of-canonical-bridge",level:4},{value:"R-4: L2 wstETH token upgradable",id:"r-4-l2-wsteth-token-upgradable",level:4},{value:"The Lido DAO recognition recommendations by the NEW",id:"the-lido-dao-recognition-recommendations-by-the-new",level:3},{value:"R-5: Bridging L1 Lido DAO decisions",id:"r-5-bridging-l1-lido-dao-decisions",level:4},{value:"R-6: Dedicated upgradable bridge instances",id:"r-6-dedicated-upgradable-bridge-instances",level:4},{value:"R-7: Pausable deposits and withdrawals",id:"r-7-pausable-deposits-and-withdrawals",level:4},{value:"R-8: Support of ERC-2612 permit enhanced with EIP-1271",id:"r-8-support-of-erc-2612-permit-enhanced-with-eip-1271",level:4},{value:"R-9: wstETH token/bridge state before snapshot vote",id:"r-9-wsteth-tokenbridge-state-before-snapshot-vote",level:4},{value:"R-10: Upgradability mechanics",id:"r-10-upgradability-mechanics",level:4},{value:"R-11: Use AccessControlEnumerable for ACL",id:"r-11-use-accesscontrolenumerable-for-acl",level:4},{value:"R-12: Prepare the solution statements and share the deploy artifacts",id:"r-12-prepare-the-solution-statements-and-share-the-deploy-artifacts",level:4},{value:"R-13: No same contract addresses",id:"r-13-no-same-contract-addresses",level:4},{value:"Reference architecture and permissions setup",id:"reference-architecture-and-permissions-setup",level:2},{value:"The proposed configuration",id:"the-proposed-configuration",level:2},{value:"Mainnet",id:"mainnet",level:3},{value:"Testnets",id:"testnets",level:3},{value:"Holesky",id:"holesky",level:4},{value:"Sepolia",id:"sepolia",level:4},{value:"FAQ",id:"faq",level:2},{value:"Our network is Y-compatible, how about reusing the solution present on Y?",id:"our-network-is-y-compatible-how-about-reusing-the-solution-present-on-y",level:3},{value:"What if wstETH is already bridged and has ample liquidity?",id:"what-if-wsteth-is-already-bridged-and-has-ample-liquidity",level:3},{value:"Questionnaire",id:"questionnaire",level:2},{value:"References",id:"references",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",mermaid:"mermaid",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"wsteth-rollup-bridging-guide",children:"wstETH rollup bridging guide"}),"\n",(0,s.jsx)(n.admonition,{title:"Disclaimer",type:"warning",children:(0,s.jsx)(n.p,{children:"This guide provides recommendations provided by the NEW workgroup. NEW is not a representative of the Lido DAO and by giving the feedback NEW makes no warranties, express or implied, and disclaims all implied warranties, including any warranty of the likelihood of the recognition or rejection by the Lido DAO and representation."})}),"\n",(0,s.jsx)(n.h2,{id:"intro",children:"Intro"}),"\n",(0,s.jsx)(n.p,{children:"This document is intended for the developers representing network/rollup foundations and DAOs looking to bridge Lido's wstETH on Ethereum L2 (rollup) networks."}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsx)(n.p,{children:"This guide doesn't cover yet bridging of rebasable stETH token nor bridging to non-L2-rollup networks. However, please note that bridging rebasable stETH token in a regular way might cause a loss of user assets due to the rewards accrued being stuck on an L1 bridge."})}),"\n",(0,s.jsx)(n.p,{children:"While technically, it is feasible to bridge the wstETH token on an L2 network as any other standard plain ERC-20 compatible token, it might not be aligned with the long-term vision of the Lido DAO for stETH future-proof adoption and general community sentiment."}),"\n",(0,s.jsxs)(n.p,{children:["This guide covers the recommendations as well as provides general guidelines, and reveals the logic behind to smooth the process. ",(0,s.jsx)(n.strong,{children:"It's essential to understand that conforming to or diverging from these guidelines won't ensure the recognition or rejection of a specific proposal by the Lido DAO."})," Nonetheless, adhering to these guidelines substantially increases the likelihood of gaining support from the Network Expansion Workgroup (NEW) and community. Ultimately, the final decision is determined by the outcome of the voting process."]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsx)(n.p,{children:"Please send any of your feedback on the guide to the NEW \u2014 the doc gets iterative updates."})}),"\n",(0,s.jsx)(n.h2,{id:"why-is-this-guide-needed",children:"Why is this guide needed"}),"\n",(0,s.jsx)(n.p,{children:"As said before, the default way to bridge an ERC-20 token is to deploy on L2 a non-upgradable token and use the general bridge contract, this guide proposes to implement a more complex solution."}),"\n",(0,s.jsxs)(n.p,{children:["The solution involves deploying dedicated bridge endpoint contracts behind proxy on L1 and L2 and an upgradable token on L2, all governed by the Lido DAO on L1 (",(0,s.jsx)(n.a,{href:"https://etherscan.io/address/0x3e40D73EB977Dc6a537aF587D48316feE66E9C8c",children:"Aragon Agent contract"}),") via a dedicated ",(0,s.jsx)(n.a,{href:"https://github.com/lidofinance/governance-crosschain-bridges/",children:"governance executor"})," contract on L2. This architecture is proposed to provide the following capabilities."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Passing arbitrary data. It allows laying the foundation for bridging rebasable stETH in the future (need to pass wstETH/stETH rate)."}),"\n",(0,s.jsx)(n.li,{children:"Revamping the token logic, as stETH is not a general-purpose token but an asset built on top of a living liquid-staking middleware."}),"\n",(0,s.jsxs)(n.li,{children:["Future-proofing the token, for example, to avoid high-cost liquidity migration as Ethereum continues evolving and new standards like ",(0,s.jsx)(n.a,{href:"https://eips.ethereum.org/EIPS/eip-2612",children:"ERC-2612"}),"/",(0,s.jsx)(n.a,{href:"https://eips.ethereum.org/EIPS/eip-1271",children:"ERC-1271"})," are adopted."]}),"\n",(0,s.jsx)(n.li,{children:"Pausing and resuming bridging in an emergency or during upgrades."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"the-lido-dao-bridging-endpoints-recognition",children:"The Lido DAO bridging endpoints recognition"}),"\n",(0,s.jsxs)(n.p,{children:["Lido DAO can recognize the bridged wstETH endpoints by means of a signalling snapshot. For example, it has happened for:\n",(0,s.jsx)(n.a,{href:"https://snapshot.org/#/lido-snapshot.eth/proposal/0x8b35f64fffe67f67d4aeb2de2f3351404c54cd75a08277c035fa77065b6792f4",children:"Base"}),",\n",(0,s.jsx)(n.a,{href:"https://snapshot.org/#/lido-snapshot.eth/proposal/0xe35f56a6117599eeb9dbef982613c0545710d91403a828d1fba00ab21d5188f3",children:"zkSync Era"}),",\n",(0,s.jsx)(n.a,{href:"https://snapshot.org/#/lido-snapshot.eth/proposal/0x1d38c11b27590ab5c69ca21c5d2545d53b7f5150dada7e05f89d500ede5becad",children:"Mantle"}),",\n",(0,s.jsx)(n.a,{href:"https://snapshot.org/#/lido-snapshot.eth/proposal/0x9382624eeee68a175dd7d1438347dbad4899ba0d2bfcf7c3955f087cb9f5cfc4",children:"Linea"}),",\n",(0,s.jsx)(n.a,{href:"https://snapshot.org/#/lido-snapshot.eth/proposal/0xcdb7d84ea80d914a4abffd689ecf9bdc4bb05d47f1fdbdda8793d555381a0493",children:"Scroll"})]}),"\n",(0,s.jsx)(n.p,{children:"If Lido DAO recognizes the bridged wstETH endpoints, in general, it means:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["the integration is highlighted on the frontend pages: ",(0,s.jsx)(n.a,{href:"https://lido.fi/lido-on-l2",children:"landing"}),", ",(0,s.jsx)(n.a,{href:"https://stake.lido.fi/",children:"widget"}),", and ",(0,s.jsx)(n.a,{href:"https://lido.fi/lido-ecosystem",children:"ecosystem pages"}),";"]}),"\n",(0,s.jsx)(n.li,{children:"when/if the dedicated bridging Lido UI is implemented, the network will be included;"}),"\n",(0,s.jsxs)(n.li,{children:["the newly appeared integration announcement is published in the Lido's ",(0,s.jsx)(n.a,{href:"https://blog.lido.fi/category/l2/",children:"blog"})," and ",(0,s.jsx)(n.a,{href:"https://twitter.com/LidoFinance",children:"twitter"}),";"]}),"\n",(0,s.jsxs)(n.li,{children:["the endpoint contracts are under the Lido's ",(0,s.jsx)(n.a,{href:"https://immunefi.com/bug-bounty/lido/",children:"bug bounty program"}),";"]}),"\n",(0,s.jsxs)(n.li,{children:["the endpoint contracts get monitored by means of ",(0,s.jsx)(n.a,{href:"https://github.com/lidofinance/alerting-forta/",children:"Lido alerting system"}),";"]}),"\n",(0,s.jsxs)(n.li,{children:["the opportunity for obtaining extra support, potentially from ",(0,s.jsx)(n.a,{href:"https://lido.fi/lego",children:"LEGO"})," or ",(0,s.jsx)(n.a,{href:"https://lido.fi/governance#liquidity-observation-labs",children:"Liquidity observation Labs"}),", becomes available. For the details one should ",(0,s.jsx)(n.a,{href:"https://tally.so/r/waeRLX",children:"reach out to ProRel"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Usually, the Lido DAO recognizes the bridged wstETH endpoints if the specific set of security and design recommendations are followed. These recommendations are set out in the ",(0,s.jsx)(n.a,{href:"#recommendations",children:"Recommendations"})," section in paragraphs ",(0,s.jsx)(n.strong,{children:"R-1..R-8"}),". The rest of the recommendations (",(0,s.jsx)(n.strong,{children:"R-9..."}),") are also important and foster the recognition's likelihood."]}),"\n",(0,s.jsxs)(n.p,{children:["If the recommendations ",(0,s.jsx)(n.strong,{children:"R-1...R-4"})," are followed, the token may have a chance of being acknowledged by NEW as following the security and future-proofing baseline."]}),"\n",(0,s.jsxs)(n.p,{children:["If any of ",(0,s.jsx)(n.strong,{children:"R-1...R-4"})," isn\u2019t followed, there can be less likelihood of the Lido DAO\u2019s recognition or the NEW's acknowledgment."]}),"\n",(0,s.jsx)(n.h2,{id:"general-scenario-towards-the-lido-dao-recognition",children:"General scenario towards the Lido DAO recognition"}),"\n",(0,s.jsx)(n.p,{children:"This section describes an approximate path to bridging wstETH to an L2 network. The order of the steps is not strict but follows the general flow."}),"\n",(0,s.jsxs)(n.p,{children:["\ud83d\udc3e Study the bridging guide and fill in ",(0,s.jsx)(n.a,{href:"#questionnaire",children:"the questionnaire"})," about your solution and send it to the NEW."]}),"\n",(0,s.jsx)(n.p,{children:"\ud83d\udc3e Coordinate on priority lane, timings, and reviews with the NEW."}),"\n",(0,s.jsx)(n.p,{children:"\ud83d\udc3e Get the architecture and the deploy configuration verified by the NEW."}),"\n",(0,s.jsx)(n.p,{children:"\ud83d\udc3e Deploy the contracts to testnet. Get the testnet deployment verified by coordinating through the NEW."}),"\n",(0,s.jsx)(n.p,{children:"\ud83d\udc3e Express intention to bridge wstETH on the forum, outlining the details and technical plan. Consider:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Target one network per proposal to make the discussion more focused."}),"\n",(0,s.jsx)(n.li,{children:"The post should be published in advance, ideally at least two weeks before any potential snapshot vote, to allow time for discussion and verification of the proposal."}),"\n",(0,s.jsx)(n.li,{children:"The deployment addresses are not required at once but must be proposed at least a week before the snapshot voting starts."}),"\n",(0,s.jsxs)(n.li,{children:["If the proposed solution does not include some of the recommendations (",(0,s.jsx)(n.strong,{children:"R-5..."}),"), consider including the roadmap and committing to deliver it."]}),"\n",(0,s.jsxs)(n.li,{children:["Examples:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://research.lido.fi/t/wsteth-deployment-to-base-and-ownership-acceptance-by-lido-dao/5668",children:"wstETH to Base"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://research.lido.fi/t/wsteth-deployment-on-zksync/5701",children:"wstETH to zkSync Era"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://research.lido.fi/t/wsteth-deployment-on-mantle/5991",children:"wstETH to Mantle"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://research.lido.fi/t/wsteth-on-linea-ownership-acceptance-by-lido-dao/5961",children:"wstETH to Linea"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://research.lido.fi/t/wsteth-deployment-on-scroll/6603",children:"wstETH to Scroll"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://research.lido.fi/t/wsteth-deployment-on-mode/7365",children:"wstETH to Mode"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\ud83d\udc3e Deploy the contracts to mainnet. Get the mainnet deployment verified by the external security group (getting in touch with NEW)."}),"\n",(0,s.jsxs)(n.p,{children:["\ud83d\udc3e Pass snapshot voting on ",(0,s.jsx)(n.a,{href:"https://snapshot.org/#/lido-snapshot.eth/",children:"https://snapshot.org/#/lido-snapshot.eth/"}),". It should contain the final mainnet addresses and audits according to ",(0,s.jsx)(n.strong,{children:"R-1"}),". Otherwise, one more snapshot voting with the addresses would have been required."]}),"\n",(0,s.jsx)(n.p,{children:"Here is also an approximate decision tree to guide on this scenario."}),"\n",(0,s.jsx)(n.mermaid,{value:'graph TD;\n  A("Is wstETH already bridged and has got adoption?")\n  B("Is the bridged token deployed behind a proxy (follows R-4)?")\n  C("Follow the general scenario <br> towards DAO recognition")\n  D("Consider migrating liquidity and redeploying, <br> following the general scenario towards <br> DAO recognition")\n  F["Consider delivering and/or committing <br> to deliver the missing parts.<br>Contact NEW for the best way forward"]\n\n  A-- Yes --\x3eB\n  B-- Yes --\x3eF\n  A-- No --\x3eC\n  B-- No --\x3eD'}),"\n",(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsx)(n.p,{children:"Ensure that the official bridging UI utilizes the customized bridge endpoint contract. Using the default bridge contract in the past caused problems, leading to deposited funds becoming locked within the contract."})}),"\n",(0,s.jsx)(n.h2,{id:"recommendations",children:"Recommendations"}),"\n",(0,s.jsx)(n.p,{children:"This section enumerates design and security recommendations for a wstETH bridging solution."}),"\n",(0,s.jsx)(n.h3,{id:"security-and-future-proof-baseline",children:"Security and future-proof baseline"}),"\n",(0,s.jsx)(n.p,{children:"The baseline recommendations: the following of the recommendations are highly encouraged to increase the chance of the Lido DAO recognition or NEW acknowledgment."}),"\n",(0,s.jsx)(n.h4,{id:"r-1-audited-code-and-verifiable-deployment",children:"R-1: Audited code and verifiable deployment"}),"\n",(0,s.jsxs)(n.p,{children:["The entire on-chain codebase (rollup, bridge, token) must be audited by a third party. Please, contact the NEW to check the temperature if the audit provider isn't familiar with the Lido protocol codebase (see the providers here: ",(0,s.jsx)(n.a,{href:"https://github.com/lidofinance/audits/",children:"https://github.com/lidofinance/audits/"}),")"]}),"\n",(0,s.jsx)(n.p,{children:"The deployment must be verifiable:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["all code accessible and the final deployed smart contracts' commit ",(0,s.jsx)(n.strong,{children:"strictly"})," corresponds to the audit report;"]}),"\n",(0,s.jsx)(n.li,{children:"source code verified on the explorer;"}),"\n",(0,s.jsx)(n.li,{children:"verifiable bytecode (e.g. via the explorer or RPC calls);"}),"\n",(0,s.jsx)(n.li,{children:"correct levers setup."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"For submitting sources for verification on explorer, please use standard JSON input - not flattened."}),"\n",(0,s.jsx)(n.p,{children:"To speed up the process and make it more robust, please provide the artifacts (i.e., open Pull Requests) for the automated tools:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["verify the sources via ",(0,s.jsx)(n.a,{href:"https://github.com/lidofinance/diffyscan",children:"diffyscan"}),", examples:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/lidofinance/diffyscan/pull/35",children:"wstETH on Scroll"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/lidofinance/diffyscan/pull/29",children:"wstETH on Linea"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/lidofinance/diffyscan/pull/41",children:"wstETH on Mode"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["verify the configuration and storage state via ",(0,s.jsx)(n.a,{href:"https://github.com/lidofinance/state-mate",children:"state-mate"}),", examples:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/lidofinance/state-mate/tree/main/configs/mantle",children:"wstETH on Mantle"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/lidofinance/state-mate/tree/main/configs/binance",children:"a.DI on BNB"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"r-2-lock-and-mint-bridge-mechanics",children:'R-2: "Lock and mint" bridge mechanics'}),"\n",(0,s.jsx)(n.p,{children:"Use the lock-and-mint bridging mechanism."}),"\n",(0,s.jsx)(n.p,{children:"The general security approach here is to isolate L2/cross-chain risks, ensuring no additional risks are imposed on Lido protocol on Ethereum or to other L2s and alt L1s with already bridged wstETH. This is almost unachievable with a \u2018burn-and-mint\u2019 architecture."}),"\n",(0,s.jsx)(n.h4,{id:"r-3-usage-of-canonical-bridge",children:"R-3: Usage of canonical bridge"}),"\n",(0,s.jsx)(n.p,{children:'Usage of the bridge, canonical for the L2 network, is highly encouraged. If the native bridge does not exist, is not a public good, or is closed-sourced. Most "canonical like " options may be suitable.'}),"\n",(0,s.jsx)(n.h4,{id:"r-4-l2-wsteth-token-upgradable",children:"R-4: L2 wstETH token upgradable"}),"\n",(0,s.jsx)(n.p,{children:"The bridged token contract should be deployed behind a proxy with the ability to set the proxy admin on a case-by-case basis (or even eventually ossify). This allows the token to be future-proof (support of new standards, passing additional data, etc.) and provides a foundation for potential stETH bridging without incurring liquidity fragmentation."}),"\n",(0,s.jsxs)(n.p,{children:["If a dedicated bridge endpoint contract is not deployed behind a proxy (",(0,s.jsx)(n.strong,{children:"R-5"}),"), it must provide the capability to set/change the bridge contract instance used."]}),"\n",(0,s.jsx)(n.h3,{id:"the-lido-dao-recognition-recommendations-by-the-new",children:"The Lido DAO recognition recommendations by the NEW"}),"\n",(0,s.jsxs)(n.p,{children:["The recommendations ",(0,s.jsx)(n.strong,{children:"R-5...R-8"})," are highly encouraged to follow for the recognition of the bridged wstETH endpoints by the Lido DAO."]}),"\n",(0,s.jsxs)(n.p,{children:["The recommendations starting from ",(0,s.jsx)(n.strong,{children:"R-9"})," are also encouraged and may significantly contribute to the likelihood of the Lido DAO recognition."]}),"\n",(0,s.jsx)(n.h4,{id:"r-5-bridging-l1-lido-dao-decisions",children:"R-5: Bridging L1 Lido DAO decisions"}),"\n",(0,s.jsx)(n.p,{children:"A dedicated governance executor contract should be set as an admin the of the L2 endpoint contracts."}),"\n",(0,s.jsx)(n.p,{children:"Examples:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://optimistic.etherscan.io/address/0xefa0db536d2c8089685630fafe88cf7805966fc3",children:(0,s.jsx)(n.code,{children:"OptimismBridgeExecutor"})}),";"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://basescan.org/address/0x0E37599436974a25dDeEdF795C848d30Af46eaCF",children:"Bridge executor on Base"})," - reused ",(0,s.jsx)(n.code,{children:"OptimismBridgeExecutor"})," contract;"]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://explorer.zksync.io/address/0x13f46b59067f064c634fb17e207ed203916dccc8#contract",children:(0,s.jsx)(n.code,{children:"ZkSyncBridgeExecutor"})})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://lineascan.build/address/0x74Be82F00CC867614803ffd7f36A2a4aF0405670",children:(0,s.jsx)(n.code,{children:"LineaBridgeExecutor"})})}),"\n",(0,s.jsxs)(n.li,{children:["[",(0,s.jsx)(n.code,{children:"ScrollBridgeExecutor"}),"]",(0,s.jsx)(n.a,{href:"https://scrollscan.com/address/0x0c67D8D067E349669dfEAB132A7c03A90594eE09",children:"https://scrollscan.com/address/0x0c67D8D067E349669dfEAB132A7c03A90594eE09"}),")"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["For more examples, see Governance Bridge Executors at ",(0,s.jsx)(n.a,{href:"https://docs.lido.fi/deployed-contracts/#lido-on-l2",children:"https://docs.lido.fi/deployed-contracts/#lido-on-l2"}),". The contracts originate from ",(0,s.jsx)(n.a,{href:"https://github.com/aave/governance-crosschain-bridges",children:"Aave Governance Cross-Chain Bridges"})," and can be found at ",(0,s.jsx)(n.a,{href:"https://github.com/lidofinance/governance-crosschain-bridges",children:"https://github.com/lidofinance/governance-crosschain-bridges"})," and ",(0,s.jsx)(n.a,{href:"https://github.com/lidofinance/governance-crosschain-bridges/pulls",children:"PRs"}),"."]}),"\n",(0,s.jsx)(n.h4,{id:"r-6-dedicated-upgradable-bridge-instances",children:"R-6: Dedicated upgradable bridge instances"}),"\n",(0,s.jsxs)(n.p,{children:["Deploy dedicated instances of bridge contracts on L1 and L2. The contract instances should be deployed behind a proxy with the ability to set the proxy admin on a case-by-case basis (or even eventually ossify). This allows to lay the foundation for the emergency capabilities (",(0,s.jsx)(n.strong,{children:"R-7"}),") and for possible bridging of rebasable stETH. For more details on why, see for section ",(0,s.jsx)(n.a,{href:"#why-is-this-guide-needed",children:"Why is this guide needed"}),". For the architecture outline, see section ",(0,s.jsx)(n.a,{href:"#reference-architecture-and-permissions-setup",children:"Reference architecture and permissions setup"}),"."]}),"\n",(0,s.jsx)(n.h4,{id:"r-7-pausable-deposits-and-withdrawals",children:"R-7: Pausable deposits and withdrawals"}),"\n",(0,s.jsx)(n.p,{children:"To provide the capability to react fast and reduce losses in case of a security contingency, depositing and withdrawing should be pausable. Namely:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"L1 bridge endpoint has pausable and resumable deposits;"}),"\n",(0,s.jsx)(n.li,{children:"L2 bridge endpoint and has pausable and resumable withdrawals."}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["The bridge endpoint contracts should have an ability to set the resume and pause roles holders on a case-by-case basis. For the pause role there should be at least two holders possible to be able to assign the dedicated Emergency Multisig which is ",(0,s.jsx)(n.a,{href:"https://snapshot.org/#/lido-snapshot.eth/proposal/0xfe2a6a6506a642b616118363bc29aa83dd9ef2ec80447bb607a8f52c0a96aed0",children:"ratified by the Lido DAO"})," as the second role holder."]}),"\n",(0,s.jsx)(n.p,{children:'To curb the multisig\'s power, it is proposed to use the "Gate Seals" mechanic. The mechanic limits the pause duration and restricts the capability to pause to a single use. To grant the capability repeatedly, the Lido DAO vote is required. The mechanic has been implemented, e.g., for withdrawals in Lido protocol on Ethereum in two parts:'}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["one-time disposable pauser contact ",(0,s.jsx)(n.a,{href:"https://github.com/lidofinance/gate-seals",children:"Gate Seals"}),";"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://github.com/lidofinance/lido-dao/blob/master/contracts/0.8.9/utils/PausableUntil.sol",children:"PausableUntil"})," contract (inherited by ",(0,s.jsx)(n.a,{href:"https://github.com/lidofinance/lido-dao/blob/master/contracts/0.8.9/WithdrawalQueue.sol",children:"WithdrawalQueue"}),")."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"r-8-support-of-erc-2612-permit-enhanced-with-eip-1271",children:"R-8: Support of ERC-2612 permit enhanced with EIP-1271"}),"\n",(0,s.jsxs)(n.p,{children:["The bridged wstETH should support ",(0,s.jsx)(n.a,{href:"https://eips.ethereum.org/EIPS/eip-2612",children:"EIP-2612 permit ERC-20 token extension"})," with ",(0,s.jsx)(n.a,{href:"https://eip1271.io/",children:"EIP-1271 standard signature validation method for contracts"}),". The latter paves the way to Account Abstraction adoption, see ",(0,s.jsx)(n.a,{href:"https://eip1271.io/",children:"https://eip1271.io/"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["Please take into account that the ",(0,s.jsx)(n.a,{href:"https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/token/ERC20/extensions/ERC20Permit.sol",children:"OpenZeppelin ERC20 with permit (EIP-2612) implementation"})," does not support smart contract signatures validation EIP-1271 and thus shouldn't be used as it is. Please consider extending ERC20Permit using ",(0,s.jsx)(n.a,{href:"https://docs.openzeppelin.com/contracts/4.x/api/utils#SignatureChecker",children:"OpenZeppelin SignatureChecker util"})," or ",(0,s.jsx)(n.a,{href:"https://github.com/lidofinance/lido-dao/blob/master/contracts/0.4.24/StETHPermit.sol",children:"stETHPermit contract"})," as a reference implementation. NB, that the wstETH token itself on Ethereum doesn't support this due to non-upgradability."]}),"\n",(0,s.jsx)(n.h4,{id:"r-9-wsteth-tokenbridge-state-before-snapshot-vote",children:"R-9: wstETH token/bridge state before snapshot vote"}),"\n",(0,s.jsx)(n.p,{children:"By the snapshot vote start, deposits and withdrawals should be unpaused unless there are any specific considerations to do otherwise.\nGoing with unpaused states provides the following:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"the bridge being in the final state during the snapshot vote \u2014 without any temporary permissions granted to the resumer or other actors;"}),"\n",(0,s.jsx)(n.li,{children:"less operational load for contributors and token holders (to re-vote on additional changes)."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Nevertheless, consider risks of liquidity fragmentation in case the currently deployed setup is not supported by snapshot vote but some wstETH has already been deposited."}),"\n",(0,s.jsx)(n.h4,{id:"r-10-upgradability-mechanics",children:"R-10: Upgradability mechanics"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The regular (",(0,s.jsx)(n.code,{children:"ERC1967Proxy"}),") proxy pattern is good enough; the transparent proxy pattern might be an unnecessary complication."]}),"\n",(0,s.jsxs)(n.li,{children:["Use ossifiable proxies when possible. For example, consider ",(0,s.jsx)(n.a,{href:"https://github.com/lidofinance/lido-l2/blob/main/contracts/proxy/OssifiableProxy.sol",children:"OssifiableProxy"}),", which is used in Lido protocol on Ethereum."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Please have the implementations petrified with dummy values. It helps to reduce confusion, like taking the implementation address instead of the proxy address. For example, see ",(0,s.jsx)(n.a,{href:"https://explorer.zksync.io/address/0xc7a0daa1b8fea68532b6425d0e156088b0d2ab2c#contract",children:"zkSync Era ERC20BridgedUpgradeable implementation"})," (bridge, decimals, name, symbol views)."]}),"\n",(0,s.jsx)(n.h4,{id:"r-11-use-accesscontrolenumerable-for-acl",children:"R-11: Use AccessControlEnumerable for ACL"}),"\n",(0,s.jsxs)(n.p,{children:["For access control, please prefer the standard OpenZeppelin ACL contract and its ",(0,s.jsx)(n.a,{href:"https://docs.openzeppelin.com/contracts/4.x/api/access#AccessControlEnumerable",children:"enumerable version"})," over non-enumerable versions. It allows full on-chain permissions verification \u2014 no need to analyze events or transactions as in non-enumerable implementations. For example, see ",(0,s.jsx)(n.a,{href:"https://etherscan.io/address/0xa89ea51fdde660f67d1850e03c9c9862d33bc42c#code",children:"Lido ValidatorsExitBusOracle contract"}),"."]}),"\n",(0,s.jsx)(n.h4,{id:"r-12-prepare-the-solution-statements-and-share-the-deploy-artifacts",children:"R-12: Prepare the solution statements and share the deploy artifacts"}),"\n",(0,s.jsxs)(n.p,{children:["It's advised to have the answered statements of the ",(0,s.jsx)(n.a,{href:"#questionnaire",children:"questionnaire"})," included in the token bridge contracts GitHub repo README. As an example one might see ",(0,s.jsx)(n.a,{href:"https://github.com/txfusion/lido-l2/tree/main/zksync#statements",children:"https://github.com/txfusion/lido-l2/tree/main/zksync#statements"})," for wstETH on zkSync Era (but note that the questions are outdated there)."]}),"\n",(0,s.jsxs)(n.p,{children:["Please share with the NEW: deploy scripts, acceptance tests, deploy plans, rollup-specific documentation on bridging approaches, etc. A PR to the diffyscan repo with ",(0,s.jsx)(n.a,{href:"https://github.com/lidofinance/diffyscan/tree/main/config_samples/zksync",children:"configs like this"}),". This would allow the NEW to simplify the deployment verification and make the feedback more specific."]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["To prepare the deployment actions plan, you might want to refer to the following ",(0,s.jsx)(n.a,{href:"https://hackmd.io/@lido/By-ANUXT3?type=view",children:"wstETH on Optimism deployment log"})," as a reference."]})}),"\n",(0,s.jsx)(n.h4,{id:"r-13-no-same-contract-addresses",children:"R-13: No same contract addresses"}),"\n",(0,s.jsx)(n.p,{children:"Please avoid deploying contracts to the same addresses on L1 and L2 and/or testnets, as this might occur when deploying from a single EOA to multiple networks. Following this recommendation helps to avoid potential confusion in the future."}),"\n",(0,s.jsx)(n.h2,{id:"reference-architecture-and-permissions-setup",children:"Reference architecture and permissions setup"}),"\n",(0,s.jsx)(n.p,{children:"This section describes a kind of minimal bridging contracts setup and its configuration. This setup is a recommendation and might not be the best for a specific network \u2014 it serves as a suggestion for the main functional parts and their interconnections."}),"\n",(0,s.jsx)(n.p,{children:"Notation used:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Lido Agent"})," - Lido DAO ",(0,s.jsx)(n.a,{href:"https://etherscan.io/address/0x3e40D73EB977Dc6a537aF587D48316feE66E9C8c",children:"Aragon Agent"})," on L1;"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Emergency Brakes L1 Multisig"})," - Emergency Multisig on L1 (ratified by the Lido DAO). See ",(0,s.jsx)(n.a,{href:"https://research.lido.fi/t/emergency-brakes-signer-rotation/5286",children:"https://research.lido.fi/t/emergency-brakes-signer-rotation/5286"}),";"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Emergency Brakes L2 Multisig"})," - Emergency Multisig on L2 (the same participants but using the L2 Safe instance)."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"L1 Custom Bridge Endpoint"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Upgradeable","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Proxy admin is ",(0,s.jsx)(n.code,{children:"Lido Agent"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Admin is ",(0,s.jsx)(n.code,{children:"Lido Agent"})]}),"\n",(0,s.jsxs)(n.li,{children:["Deposits pausable by","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"Lido Agent"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"Emergency Brakes Multisig"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Deposits resumable by","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"Lido Agent"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Withdrawals pausable by","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"Lido Agent"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"Emergency Brakes Multisig"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Withdrawals resumable by","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"Lido Agent"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"L2 Governance Executor"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The only allow-listed L1 execution sender is ",(0,s.jsx)(n.code,{children:"Lido Agent"})," (retrieved via ",(0,s.jsx)(n.code,{children:"getEthereumExecutor()"}),")"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"L2 Custom Bridge Endpoint"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Upgradeable","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Proxy admin is ",(0,s.jsx)(n.code,{children:"L2 Governance Executor"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Admin is ",(0,s.jsx)(n.code,{children:"L2 Governance Executor"})]}),"\n",(0,s.jsxs)(n.li,{children:["Deposits pausable by","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"L2 Governance Executor"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"Emergency Brakes Multisig"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Deposits resumable by","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"L2 Governance Executor"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Withdrawals pausable by","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"L2 Governance Executor"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"Emergency Brakes Multisig"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Withdrawals resumable by","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"L2 Governance Executor"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"L2 Token Bridged"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Upgradeable","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Proxy admin is ",(0,s.jsx)(n.code,{children:"L2 Governance Executor"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Mint is allowed only by ",(0,s.jsx)(n.code,{children:"L2 Custom Bridge"})]}),"\n",(0,s.jsxs)(n.li,{children:["Optionally applicable (if ",(0,s.jsx)(n.code,{children:"L2 Custom Bridge"})," doesn't support these)","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Admin is ",(0,s.jsx)(n.code,{children:"L2 Governance Executor"})]}),"\n",(0,s.jsxs)(n.li,{children:["Withdrawals pausable by","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"Emergency Brakes Multisig"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"L2 Governance Executor"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Withdrawals resumable by","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"L2 Governance Executor"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Deposits pausable by","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"L2 Governance Executor"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"Emergency Brakes Multisig"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Deposits resumable by","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"L2 Governance Executor"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"the-proposed-configuration",children:"The proposed configuration"}),"\n",(0,s.jsx)(n.h3,{id:"mainnet",children:"Mainnet"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"wstETH"})," - the wstETH token on L1","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"0x7f39c581f595b53c5cb19bd0b3f8da6c935e2ca0"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Lido Agent"})," - Lido DAO Aragon Agent","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"0x3e40D73EB977Dc6a537aF587D48316feE66E9C8c"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Emergency Brakes L1 Multisig"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"0x73b047fe6337183A454c5217241D780a932777bD"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Emergency Brakes L2 Multisig"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"ask the NEW for the address (the deployed Safe instance would be needed)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"testnets",children:"Testnets"}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsx)(n.p,{children:"Please, deploy to Hole\u0161ky if possible because it has better long-term exposure and more robust Lido protocol deployment."})}),"\n",(0,s.jsx)(n.h4,{id:"holesky",children:"Holesky"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"wstETH"})," - the wstETH token on L1","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"0x8d09a4502Cc8Cf1547aD300E066060D043f6982D"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Lido Agent"})," - Lido DAO Aragon Agent","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"0xE92329EC7ddB11D25e25b3c21eeBf11f15eB325d"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Emergency Brakes L1 Multisig"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"0xa5F1d7D49F581136Cf6e58B32cBE9a2039C48bA1"})," (EOA)"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Emergency Brakes L2 Multisig"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"0xa5F1d7D49F581136Cf6e58B32cBE9a2039C48bA1"})," (EOA)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"sepolia",children:"Sepolia"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"wstETH"})," - the wstETH token on L1","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"0xB82381A3fBD3FaFA77B3a7bE693342618240067b"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Lido Agent"})," - Lido DAO Aragon Agent","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"0x32A0E5828B62AAb932362a4816ae03b860b65e83"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Emergency Brakes L1 Multisig"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"0xa5F1d7D49F581136Cf6e58B32cBE9a2039C48bA1"})," (EOA)"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Emergency Brakes L2 Multisig"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"0xa5F1d7D49F581136Cf6e58B32cBE9a2039C48bA1"})," (EOA)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"faq",children:"FAQ"}),"\n",(0,s.jsx)(n.h3,{id:"our-network-is-y-compatible-how-about-reusing-the-solution-present-on-y",children:"Our network is Y-compatible, how about reusing the solution present on Y?"}),"\n",(0,s.jsxs)(n.p,{children:["Yes, sure. For example, ",(0,s.jsx)(n.a,{href:"https://github.com/lidofinance/governance-crosschain-bridges/blob/master/contracts/bridges/OptimismBridgeExecutor.sol",children:"OptimismBridgeExecutor"})," has been ",(0,s.jsx)(n.a,{href:"https://basescan.org/address/0x0E37599436974a25dDeEdF795C848d30Af46eaCF#code",children:"reused"})," on Base network.\nIf so, please don't alter the contract's code and use the same names. It allows to keep the audit valid and track origins."]}),"\n",(0,s.jsxs)(n.p,{children:["To speed up the process, you might perform a deployment verification against the bytecode already used for another network and configuration/storage state comparison to be 1:1 except only for the network specific configuration changes needed.\nFollow the case of ",(0,s.jsx)(n.a,{href:"https://research.lido.fi/t/wsteth-deployment-on-mode/7365",children:(0,s.jsx)(n.code,{children:"wstETH on Mode"})})," for the reference."]}),"\n",(0,s.jsx)(n.h3,{id:"what-if-wsteth-is-already-bridged-and-has-ample-liquidity",children:"What if wstETH is already bridged and has ample liquidity?"}),"\n",(0,s.jsxs)(n.p,{children:["Please consider getting in touch with the NEW if (",(0,s.jsx)(n.strong,{children:"R-1...R-4"}),") are followed."]}),"\n",(0,s.jsx)(n.h2,{id:"questionnaire",children:"Questionnaire"}),"\n",(0,s.jsxs)(n.p,{children:["To get fast feedback on the likelihood of the wstETH recognized by the Lido DAO, please fill in the questionnaire and send it to the NEW. ",(0,s.jsx)(n.strong,{children:"Please note: NEW is not a representative of the Lido DAO and by giving the feedback NEW makes no warranties, express or implied, and disclaims all implied warranties, including any warranty of the likelihood of the recognition or rejection by the Lido DAO and representation."})]}),"\n",(0,s.jsx)(n.p,{children:"In the comments section, please provide the relevant details: the artifacts, if present, and/or a description why the recommendation is not followed or followed partially, etc."}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Question"}),(0,s.jsx)(n.th,{children:"Is followed and/or comment"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Has wstETH been bridged?"}),(0,s.jsx)(n.td,{children:"yes/no"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"If bridged, how much adoption token has got?"}),(0,s.jsx)(n.td,{children:"yes/no"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"R-1: Audited code and verifiable deployment"}),(0,s.jsx)(n.td,{children:"yes/no/partially"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"R-2: Lock-and-mint bridge mechanics"}),(0,s.jsx)(n.td,{children:"yes/no"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"R-3: Usage of canonical bridge"}),(0,s.jsx)(n.td,{children:"yes/no"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"R-4: L2 wstETH token upgradable"}),(0,s.jsx)(n.td,{children:"yes/no/partially"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"R-5: Bridging L1 Lido DAO decisions"}),(0,s.jsx)(n.td,{children:"yes/no/partially"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"R-6: Dedicated upgradable bridge instances"}),(0,s.jsx)(n.td,{children:"yes/no/partially"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"R-7: Pausable deposits and withdrawals"}),(0,s.jsx)(n.td,{children:"yes/no/partially"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"R-8: ERC-2612 permit enhanced with EIP-1271"}),(0,s.jsx)(n.td,{children:"yes/no/partially"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"R-9: Token/bridge state before snapshot vote"}),(0,s.jsx)(n.td,{children:"yes/no/partially"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"R-10: Upgradability mechanics"}),(0,s.jsx)(n.td,{children:"yes/no/partially"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"R-11: Use AccessControlEnumerable for ACL"}),(0,s.jsx)(n.td,{children:"yes/no/partially"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"R-12: Share the deploy artifacts"}),(0,s.jsx)(n.td,{children:"yes/no/partially"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"R-13: No same contract addresses"}),(0,s.jsx)(n.td,{children:"yes/no"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Bridges are complicated in that the transaction can succeed on one side and fail on the other. What's the handling mechanism for this issue?"}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Is there a deployment script that sets all the parameters and authorities correctly?"}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Is there a post-deploy check script that, given a deployment, checks that all parameters and authorities are set correctly?"}),(0,s.jsx)(n.td,{})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Deployed contracts addresses ",(0,s.jsx)(n.a,{href:"https://docs.lido.fi/deployed-contracts/#lido-on-l2",children:"https://docs.lido.fi/deployed-contracts/#lido-on-l2"})]}),"\n",(0,s.jsxs)(n.li,{children:["LOL (Liquidity Observation Labs) ",(0,s.jsx)(n.a,{href:"https://research.lido.fi/t/liquidity-observation-lab-lol-liquidity-strategy-and-application-to-curve-steth-eth-pool/5335",children:"https://research.lido.fi/t/liquidity-observation-lab-lol-liquidity-strategy-and-application-to-curve-steth-eth-pool/5335"})]}),"\n",(0,s.jsxs)(n.li,{children:["Lido L2 reference bridging contracts (Arbitrum and Optimism) ",(0,s.jsx)(n.a,{href:"https://github.com/lidofinance/lido-l2",children:"https://github.com/lidofinance/lido-l2"})]}),"\n",(0,s.jsxs)(n.li,{children:["Unofficial guidelines (like the 1st iteration of the guide) ",(0,s.jsx)(n.a,{href:"https://research.lido.fi/t/unofficial-guidelines-for-bridging-solutions-network-expansion-workgroup/5790",children:"https://research.lido.fi/t/unofficial-guidelines-for-bridging-solutions-network-expansion-workgroup/5790"})]}),"\n",(0,s.jsxs)(n.li,{children:["Lido emergency multisig ",(0,s.jsx)(n.a,{href:"https://research.lido.fi/t/emergency-brakes-signer-rotation/5286",children:"https://research.lido.fi/t/emergency-brakes-signer-rotation/5286"})]}),"\n",(0,s.jsxs)(n.li,{children:["Lido DAO recognition proposal for wstETH on Base ",(0,s.jsx)(n.a,{href:"https://research.lido.fi/t/wsteth-deployment-to-base-and-ownership-acceptance-by-lido-dao/5668",children:"https://research.lido.fi/t/wsteth-deployment-to-base-and-ownership-acceptance-by-lido-dao/5668"})]}),"\n",(0,s.jsxs)(n.li,{children:["Lido DAO recognition proposal for wstETH on zkSync Era ",(0,s.jsx)(n.a,{href:"https://research.lido.fi/t/wsteth-deployment-on-zksync/5701",children:"https://research.lido.fi/t/wsteth-deployment-on-zksync/5701"})]}),"\n",(0,s.jsxs)(n.li,{children:["Lido DAO recognition proposal for wstETH on Mantle ",(0,s.jsx)(n.a,{href:"https://research.lido.fi/t/wsteth-deployment-on-mantle/5991",children:"https://research.lido.fi/t/wsteth-deployment-on-mantle/5991"})]}),"\n",(0,s.jsxs)(n.li,{children:["Lido DAO recognition proposal for wstETH on Linea ",(0,s.jsx)(n.a,{href:"https://research.lido.fi/t/wsteth-on-linea-ownership-acceptance-by-lido-dao/5961",children:"https://research.lido.fi/t/wsteth-on-linea-ownership-acceptance-by-lido-dao/5961"})]}),"\n",(0,s.jsxs)(n.li,{children:["Lido DAO recognition proposal for wstETH on Scroll ",(0,s.jsx)(n.a,{href:"https://research.lido.fi/t/wsteth-deployment-on-scroll/6603",children:"https://research.lido.fi/t/wsteth-deployment-on-scroll/6603"})]}),"\n",(0,s.jsxs)(n.li,{children:["Lido DAO recognition proposal for wstETH on Mode ",(0,s.jsx)(n.a,{href:"https://research.lido.fi/t/wsteth-deployment-on-mode/7365",children:"https://research.lido.fi/t/wsteth-deployment-on-mode/7365"})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>d});var s=i(6540);const t={},r=s.createContext(t);function o(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);