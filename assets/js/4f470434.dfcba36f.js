"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3027],{7167:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>l});var n=r(4848),d=r(8453);const s={},a="WithdrawalVault",i={id:"contracts/withdrawal-vault",title:"WithdrawalVault",description:"- Source Code",source:"@site/docs/contracts/withdrawal-vault.md",sourceDirName:"contracts",slug:"/contracts/withdrawal-vault",permalink:"/lido-docs-spanish/contracts/withdrawal-vault",draft:!1,unlisted:!1,editUrl:"https://github.com/adminseedlatam/lido-docs-spanish/edit/main/docs/contracts/withdrawal-vault.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"WithdrawalQueueERC721",permalink:"/lido-docs-spanish/contracts/withdrawal-queue-erc721"},next:{title:"wstETH",permalink:"/lido-docs-spanish/contracts/wsteth"}},c={},l=[{value:"What is WithdrawalVault",id:"what-is-withdrawalvault",level:2},{value:"View methods",id:"view-methods",level:2},{value:"getContractVersion()",id:"getcontractversion",level:3},{value:"Methods",id:"methods",level:2},{value:"withdrawWithdrawals()",id:"withdrawwithdrawals",level:3},{value:"recoverERC20()",id:"recovererc20",level:3},{value:"Parameters:",id:"parameters",level:4},{value:"recoverERC721()",id:"recovererc721",level:3},{value:"Parameters:",id:"parameters-1",level:4}];function o(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"withdrawalvault",children:"WithdrawalVault"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://github.com/lidofinance/lido-dao/blob/master/contracts/0.8.9/WithdrawalVault.sol",children:"Source Code"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://etherscan.io/address/0xb9d7934878b5fb9610b3fe8a5e441e8fad7e293f",children:"Deployed Contract"})}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"what-is-withdrawalvault",children:"What is WithdrawalVault"}),"\n",(0,n.jsxs)(t.p,{children:["A simple contract that accumulates partial and full withdrawals that comes from\nthe Beacon Chain. Its address corresponds to the type-0x01 Lido withdrawal credentials.\nDuring the accounting oracle report, the vault is emptied by Lido to the internal buffer; see ",(0,n.jsx)(t.a,{href:"/lido-docs-spanish/contracts/lido#oracle-report",children:"Lido contract docs"})," for details."]}),"\n",(0,n.jsx)(t.p,{children:"The vault is recoverable, so any ERC-20 and ERC-721 tokens can be transferred to the treasury by DAO."}),"\n",(0,n.jsx)(t.p,{children:"The currently deployed version is upgradable because of anticipated Ethereum withdrawal mechanics changes."}),"\n",(0,n.jsx)(t.admonition,{type:"note",children:(0,n.jsx)(t.p,{children:"The contract is meant to be ossified somewhere after withdrawal credentials triggerable exits are implemented."})}),"\n",(0,n.jsx)(t.h2,{id:"view-methods",children:"View methods"}),"\n",(0,n.jsx)(t.h3,{id:"getcontractversion",children:"getContractVersion()"}),"\n",(0,n.jsx)(t.p,{children:"Returns the current contract version."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-sol",children:"function getContractVersion() returns (uint256)\n"})}),"\n",(0,n.jsx)(t.h2,{id:"methods",children:"Methods"}),"\n",(0,n.jsx)(t.h3,{id:"withdrawwithdrawals",children:"withdrawWithdrawals()"}),"\n",(0,n.jsxs)(t.p,{children:["Transfer the ",(0,n.jsx)(t.code,{children:"_amount"})," of accumulated withdrawals to the Lido contract."]}),"\n",(0,n.jsx)(t.admonition,{type:"note",children:(0,n.jsxs)(t.p,{children:["It can be called only by the ",(0,n.jsx)(t.a,{href:"/lido-docs-spanish/contracts/lido",children:"Lido"})," contract."]})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-sol",children:"function withdrawWithdrawals(uint256 _amount)\n"})}),"\n",(0,n.jsx)(t.h3,{id:"recovererc20",children:"recoverERC20()"}),"\n",(0,n.jsx)(t.p,{children:"Transfers the given amount of the ERC20-token (defined by the provided token contract address)\ncurrently belonging to the vault contract address to the Lido treasury address."}),"\n",(0,n.jsxs)(t.p,{children:["Emits a ",(0,n.jsx)(t.code,{children:"ERC20Recovered"})," event."]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-sol",children:"function recoverERC20(address _token, uint256 _amount) external\n"})}),"\n",(0,n.jsx)(t.h4,{id:"parameters",children:"Parameters:"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Name"}),(0,n.jsx)(t.th,{children:"Type"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"_token"})}),(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"address"})}),(0,n.jsx)(t.td,{children:"ERC20-compatible token"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"_amount"})}),(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"uint256"})}),(0,n.jsx)(t.td,{children:"token amount to recover"})]})]})]}),"\n",(0,n.jsx)(t.h3,{id:"recovererc721",children:"recoverERC721()"}),"\n",(0,n.jsx)(t.p,{children:"Transfers the given tokenId of the ERC721-compatible NFT (defined by the provided token contract address)\ncurrently belonging to the vault contract address to the Lido treasury address."}),"\n",(0,n.jsxs)(t.p,{children:["Emits the ",(0,n.jsx)(t.code,{children:"ERC721Recovered"})," event."]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-sol",children:"function recoverERC721(address _token, uint256 _tokenId) external\n"})}),"\n",(0,n.jsx)(t.h4,{id:"parameters-1",children:"Parameters:"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Name"}),(0,n.jsx)(t.th,{children:"Type"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"_token"})}),(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"address"})}),(0,n.jsx)(t.td,{children:"ERC721-compatible token"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"_tokenId"})}),(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"uint256"})}),(0,n.jsx)(t.td,{children:"minted token id"})]})]})]})]})}function h(e={}){const{wrapper:t}={...(0,d.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}},8453:(e,t,r)=>{r.d(t,{R:()=>a,x:()=>i});var n=r(6540);const d={},s=n.createContext(d);function a(e){const t=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:a(e.components),n.createElement(s.Provider,{value:t},e.children)}}}]);