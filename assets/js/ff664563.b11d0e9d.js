"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9463],{3377:(e,s,i)=>{i.r(s),i.d(s,{assets:()=>t,contentTitle:()=>n,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>d});var a=i(4848),l=i(8453);const o={},n="API",r={id:"integrations/api",title:"API",description:"Las API de Lido son estrictamente de solo lectura.",source:"@site/docs/integrations/api.md",sourceDirName:"integrations",slug:"/integrations/api",permalink:"/lido-docs-spanish/integrations/api",draft:!1,unlisted:!1,editUrl:"https://github.com/adminseedlatam/lido-docs-spanish/edit/main/docs/integrations/api.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Par\xe1metros de Lido V2 en la red principal",permalink:"/lido-docs-spanish/gu\xedas/verify-lido-v2-upgrade-manual"},next:{title:"Wallets",permalink:"/lido-docs-spanish/integrations/wallets"}},t={},d=[{value:"Lido APR",id:"lido-apr",level:2},{value:"Promedio M\xf3vil Simple del APR de Lido para los \xfaltimos 7 d\xedas:",id:"promedio-m\xf3vil-simple-del-apr-de-lido-para-los-\xfaltimos-7-d\xedas",level:3},{value:"Holesky",id:"holesky",level:3},{value:"\xdaltimo APR de Lido para stETH",id:"\xfaltimo-apr-de-lido-para-steth",level:3},{value:"Holesky",id:"holesky-1",level:4},{value:"Historial de Recompensas de Lido",id:"historial-de-recompensas-de-lido",level:2},{value:"Par\xe1metros",id:"par\xe1metros",level:3},{value:"Holesky",id:"holesky-2",level:3},{value:"API de Retiros",id:"api-de-retiros",level:2},{value:"Casos de Uso",id:"casos-de-uso",level:3},{value:"Calcula el tiempo para las solicitudes de retiros:",id:"calcula-el-tiempo-para-las-solicitudes-de-retiros",level:3},{value:"Calcular el tiempo para la cola de retiro actual:",id:"calcular-el-tiempo-para-la-cola-de-retiro-actual",level:3},{value:"Calcula el tiempo para el retiro de la cantidad de stETH:",id:"calcula-el-tiempo-para-el-retiro-de-la-cantidad-de-steth",level:3},{value:"Holesky",id:"holesky-3",level:3}];function c(e){const s={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.h1,{id:"api",children:"API"}),"\n",(0,a.jsx)(s.admonition,{type:"info",children:(0,a.jsx)(s.p,{children:"Las API de Lido son estrictamente de solo lectura."})}),"\n",(0,a.jsx)(s.p,{children:"Aqu\xed puedes encontrar varias API de Lido que puedes integrar en tu aplicaci\xf3n o sitio web:"}),"\n",(0,a.jsx)(s.h2,{id:"lido-apr",children:"Lido APR"}),"\n",(0,a.jsx)(s.p,{children:"La API proporciona el APR de Ethereum y Lido staking, que incluye:"}),"\n",(0,a.jsx)(s.h3,{id:"promedio-m\xf3vil-simple-del-apr-de-lido-para-los-\xfaltimos-7-d\xedas",children:"Promedio M\xf3vil Simple del APR de Lido para los \xfaltimos 7 d\xedas:"}),"\n",(0,a.jsx)(s.p,{children:"Este valor de APR se basa en el Promedio M\xf3vil Simple de los valores de APR durante un per\xedodo de 7 d\xedas."}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{children:"https://eth-api.lido.fi/v1/protocol/steth/apr/sma\n"})}),"\n",(0,a.jsxs)(s.p,{children:["El esquema de respuesta y ejemplos est\xe1n disponibles en la ",(0,a.jsx)(s.a,{href:"https://eth-api.lido.fi/api/#/APR%20for%20Eth%20and%20stEth/ProtocolController_findSmaAPRforSTETH",children:"documentaci\xf3n de la API de Swagger"})]}),"\n",(0,a.jsx)(s.h3,{id:"holesky",children:"Holesky"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{children:"https://eth-api-holesky.testnet.fi/v1/protocol/steth/apr/sma\n"})}),"\n",(0,a.jsx)(s.h3,{id:"\xfaltimo-apr-de-lido-para-steth",children:"\xdaltimo APR de Lido para stETH"}),"\n",(0,a.jsxs)(s.p,{children:["El valor m\xe1s reciente de APR de staking. Para Lido V1, recolectamos valores de APR obteniendo peri\xf3dicamente ",(0,a.jsx)(s.a,{href:"/lido-docs-spanish/contracts/legacy-oracle#posttotalshares",children:"eventos de informes de or\xe1culo"}),". Para la versi\xf3n V2, el valor se calcula en base a ",(0,a.jsx)(s.a,{href:"https://github.com/lidofinance/lido-dao/blob/e45c4d6/contracts/0.4.24/Lido.sol#L232",children:"eventos de rebase"}),"."]}),"\n",(0,a.jsx)(s.p,{children:"C\xe1lculo del APR V2:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{children:"// Se emite cuando el token se reajusta (cambian el suministro total y/o las acciones totales)\nevent TokenRebased(\n    uint256 indexed reportTimestamp,\n    uint256 timeElapsed,\n    uint256 preTotalShares,\n    uint256 preTotalEther, /* preTotalPooledEther */\n    uint256 postTotalShares,\n    uint256 postTotalEther, /* postTotalPooledEther */\n    uint256 sharesMintedAsFees /* parte de la tarifa incluida en `postTotalShares` */\n);\n\npreShareRate = preTotalEther * 1e27 / preTotalShares\npostShareRate = postTotalEther * 1e27 / postTotalShares\n\nuserAPR =\n    secondsInYear * (\n        (postShareRate - preShareRate) / preShareRate\n    ) / timeElapsed\n"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{children:"https://eth-api.lido.fi/v1/protocol/steth/apr/last\n"})}),"\n",(0,a.jsxs)(s.p,{children:["El esquema de respuesta y ejemplos est\xe1n disponibles en la ",(0,a.jsx)(s.a,{href:"https://eth-api.lido.fi/api/static/index.html#/APR%20for%20Eth%20and%20stEth/ProtocolController_findLastAPRforSTETH",children:"documentaci\xf3n de la API de Swagger"})]}),"\n",(0,a.jsx)(s.h4,{id:"holesky-1",children:"Holesky"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{children:"https://eth-api-holesky.testnet.fi/v1/protocol/steth/apr/last\n"})}),"\n",(0,a.jsx)(s.h2,{id:"historial-de-recompensas-de-lido",children:"Historial de Recompensas de Lido"}),"\n",(0,a.jsx)(s.p,{children:"El Backend de Historial de Recompensas proporciona una API que devuelve todas las interacciones de stETH por una direcci\xf3n y calcula sus recompensas diarias de stETH."}),"\n",(0,a.jsxs)(s.p,{children:["Actualmente, solo hay un endpoint (",(0,a.jsx)(s.code,{children:"/"}),"):"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{children:"https://reward-history-backend.lido.fi/?address=0x12345\n"})}),"\n",(0,a.jsxs)(s.p,{children:["El esquema de respuesta y ejemplos est\xe1n disponibles en la ",(0,a.jsx)(s.a,{href:"https://reward-history-backend.lido.fi/api",children:"documentaci\xf3n de la API de Swagger"})]}),"\n",(0,a.jsx)(s.h3,{id:"par\xe1metros",children:"Par\xe1metros"}),"\n",(0,a.jsxs)(s.p,{children:["El \xfanico par\xe1metro de consulta obligatorio es ",(0,a.jsx)(s.code,{children:"address"}),"."]}),"\n",(0,a.jsx)(s.p,{children:"Par\xe1metros opcionales:"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"currency"}),": USD/EUR/GBP - Moneda fiduciaria en la que se mostrar\xe1 stETH denominados en fiat. ",(0,a.jsx)(s.strong,{children:"USD"})," por defecto."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"archiveRate"}),": true/false - Usar una tasa de cambio cercana al momento de la transacci\xf3n al calcular los valores de la moneda en lugar de la actual. ",(0,a.jsx)(s.strong,{children:"true"})," por defecto."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"onlyRewards"}),": true/false - Incluir solo recompensas sin transferencias ni staking. ",(0,a.jsx)(s.strong,{children:"false"})," por defecto."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"sort"}),": asc/desc - Ordenar las transacciones por blockTime. ",(0,a.jsx)(s.strong,{children:"desc"})," por defecto."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"skip"}),": n\xfamero - Cantidad de elementos de datos a omitir."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"limit"}),": n\xfamero - Cantidad m\xe1xima de elementos de datos con los que responder."]}),"\n"]}),"\n",(0,a.jsxs)(s.p,{children:["Los par\xe1metros ",(0,a.jsx)(s.code,{children:"skip"})," y ",(0,a.jsx)(s.code,{children:"limit"})," se usan para paginaci\xf3n, por ejemplo:"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{children:"skip: 0, limit: 100 = 1 p\xe1gina\nskip: 100, limit: 100 = 2 p\xe1gina\nskip: 200, limit: 100 = 3 p\xe1gina\n"})}),"\n",(0,a.jsx)(s.h3,{id:"holesky-2",children:"Holesky"}),"\n",(0,a.jsx)(s.p,{children:"El Backend de Historial de Recompensas tambi\xe9n est\xe1 disponible en Hole\u0161ky:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{children:"http://reward-history-backend-holesky.testnet.fi/?address=0x12345\n"})}),"\n",(0,a.jsxs)(s.p,{children:["El esquema de respuesta y ejemplos est\xe1n disponibles en la ",(0,a.jsx)(s.a,{href:"https://reward-history-backend-holesky.testnet.fi/api",children:"documentaci\xf3n de la API de Swagger"})]}),"\n",(0,a.jsx)(s.h2,{id:"api-de-retiros",children:"API de Retiros"}),"\n",(0,a.jsxs)(s.p,{children:["El servicio de API de Retiros ofrece una utilidad para estimar el tiempo de espera para ",(0,a.jsx)(s.a,{href:"https://docs.lido.fi/contracts/withdrawal-queue-erc721",children:"retiros"})," dentro del protocolo de Lido en Ethereum.\nEl servicio es \xfatil para los stakers, proporcionando informaci\xf3n desde el momento de la solicitud de retiro hasta su finalizaci\xf3n cuando la solicitud se vuelve reclamable."]}),"\n",(0,a.jsxs)(s.p,{children:["Consulta la ",(0,a.jsx)(s.a,{href:"https://github.com/lidofinance/withdrawals-api/blob/develop/how-estimation-works.md",children:"explicaci\xf3n detallada"}),"."]}),"\n",(0,a.jsx)(s.h3,{id:"casos-de-uso",children:"Casos de Uso"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Estimaci\xf3n antes de la solicitud: los usuarios pueden estimar el tiempo de espera antes de realizar una solicitud de retiro."}),"\n",(0,a.jsx)(s.li,{children:"Seguimiento de la solicitud existente: los usuarios pueden rastrear el tiempo de espera estimado para la solicitud ya realizada."}),"\n"]}),"\n",(0,a.jsx)(s.h3,{id:"calcula-el-tiempo-para-las-solicitudes-de-retiros",children:"Calcula el tiempo para las solicitudes de retiros:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{children:"https://wq-api.lido.fi/v2/request-time?ids=1&ids=2\n"})}),"\n",(0,a.jsxs)(s.p,{children:["El esquema de respuesta y ejemplos est\xe1n disponibles en la ",(0,a.jsx)(s.a,{href:"https://wq-api.lido.fi/api#/Request%20Time/RequestTimeController_requestsTime",children:"documentaci\xf3n de la API de Swagger"})]}),"\n",(0,a.jsx)(s.h3,{id:"calcular-el-tiempo-para-la-cola-de-retiro-actual",children:"Calcular el tiempo para la cola de retiro actual:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{children:"https://wq-api.lido.fi/v2/request-time/calculate\n"})}),"\n",(0,a.jsx)(s.h3,{id:"calcula-el-tiempo-para-el-retiro-de-la-cantidad-de-steth",children:"Calcula el tiempo para el retiro de la cantidad de stETH:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{children:"https://wq-api.lido.fi/v2/request-time/calculate?amount=32\n"})}),"\n",(0,a.jsxs)(s.p,{children:["El esquema de respuesta y ejemplos est\xe1n disponibles en la ",(0,a.jsx)(s.a,{href:"https://wq-api.lido.fi/api#/Request%20Time/RequestTimeController_calculateTime",children:"documentaci\xf3n de la API de Swagger"})]}),"\n",(0,a.jsx)(s.h3,{id:"holesky-3",children:"Holesky"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{children:"https://wq-api-holesky.testnet.fi/v2/request-time?ids=1&ids=2\n"})}),"\n",(0,a.jsxs)(s.p,{children:["El esquema de respuesta y ejemplos est\xe1n disponibles en la ",(0,a.jsx)(s.a,{href:"https://wq-api-holesky.testnet.fi/api#/Request%20Time/RequestTimeController_requestsTime",children:"documentaci\xf3n de la API de Swagger"})]})]})}function p(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},8453:(e,s,i)=>{i.d(s,{R:()=>n,x:()=>r});var a=i(6540);const l={},o=a.createContext(l);function n(e){const s=a.useContext(o);return a.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:n(e.components),a.createElement(o.Provider,{value:s},e.children)}}}]);