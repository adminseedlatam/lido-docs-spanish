"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3152],{261:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>t,toc:()=>a});var d=r(4848),s=r(8453);const i={},c="InsuranceFund",t={id:"contracts/insurance",title:"InsuranceFund",description:"- C\xf3digo fuente",source:"@site/docs/contracts/insurance.md",sourceDirName:"contracts",slug:"/contracts/insurance",permalink:"/contracts/insurance",draft:!1,unlisted:!1,editUrl:"https://github.com/adminseedlatam/lido-docs-spanish/edit/main/docs/contracts/insurance.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"GateSeal",permalink:"/contracts/gate-seal"},next:{title:"OssifiableProxy",permalink:"/contracts/ossifiable-proxy"}},l={},a=[{value:"Mec\xe1nica",id:"mec\xe1nica",level:2},{value:"M\xe9todos de vista",id:"m\xe9todos-de-vista",level:2},{value:"owner()",id:"owner",level:3},{value:"renounceOwnership()",id:"renounceownership",level:3},{value:"M\xe9todos",id:"m\xe9todos",level:2},{value:"transferERC1155()",id:"transfererc1155",level:3},{value:"Par\xe1metros",id:"par\xe1metros",level:4},{value:"transferERC20()",id:"transfererc20",level:3},{value:"Par\xe1metros",id:"par\xe1metros-1",level:4},{value:"transferERC721()",id:"transfererc721",level:3},{value:"Par\xe1metros",id:"par\xe1metros-2",level:4},{value:"transferEther()",id:"transferether",level:3},{value:"Par\xe1metros",id:"par\xe1metros-3",level:4},{value:"transferOwnership()",id:"transferownership",level:3},{value:"Par\xe1metros",id:"par\xe1metros-4",level:4}];function o(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.h1,{id:"insurancefund",children:"InsuranceFund"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://github.com/lidofinance/insurance-fund/blob/main/contracts/InsuranceFund.sol",children:"C\xf3digo fuente"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://etherscan.io/address/0x8B3f33234ABD88493c0Cd28De33D583B70beDe35",children:"Contrato desplegado"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://github.com/lidofinance/lido-improvement-proposals/blob/develop/LIPS/lip-18.md",children:"LIP-18"})}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"El Fondo de Seguros de Lido es un contrato b\xf3veda que sirve como un almacenamiento transparente y simple para fondos asignados para fines de auto-seguro."}),"\n",(0,d.jsx)(n.h2,{id:"mec\xe1nica",children:"Mec\xe1nica"}),"\n",(0,d.jsxs)(n.p,{children:["El Insurance Fund es una b\xf3veda simple que hereda de ",(0,d.jsx)(n.a,{href:"https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v4.7.3/contracts/access/Ownable.sol",children:"Ownable"})," de OpenZeppelin y permite al propietario transferir ether, tokens ERC20, tokens ERC721, tokens ERC1155 desde el contrato. El propietario, que ser\xe1 el Agente del DAO de Lido, puede transferir la propiedad a otra entidad, con la excepci\xf3n de la ",(0,d.jsx)(n.a,{href:"https://etherscan.io/address/0x0000000000000000000000000000000000000000",children:"direcci\xf3n cero"}),"."]}),"\n",(0,d.jsx)(n.h2,{id:"m\xe9todos-de-vista",children:"M\xe9todos de vista"}),"\n",(0,d.jsx)(n.h3,{id:"owner",children:"owner()"}),"\n",(0,d.jsxs)(n.p,{children:["Devuelve el ",(0,d.jsx)(n.code,{children:"owner"})," actual."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-solidity",children:"function owner() public view returns (address);\n"})}),"\n",(0,d.jsx)(n.h3,{id:"renounceownership",children:"renounceOwnership()"}),"\n",(0,d.jsx)(n.p,{children:"Siempre revierte."}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-solidity",children:"function renounceOwnership() public pure override;\n"})}),"\n",(0,d.jsx)(n.h2,{id:"m\xe9todos",children:"M\xe9todos"}),"\n",(0,d.jsx)(n.h3,{id:"transfererc1155",children:"transferERC1155()"}),"\n",(0,d.jsxs)(n.p,{children:["Transfiere un \xfanico token ERC1155 con el ID especificado en la cantidad especificada a una entidad desde el saldo del contrato. El receptor del contrato debe implementar ",(0,d.jsx)(n.code,{children:"ERC1155TokenReceiver"})," de acuerdo con ",(0,d.jsx)(n.a,{href:"https://eips.ethereum.org/EIPS/eip-1155",children:"EIP-1155"})," para recibir tokens de manera segura."]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["revierte si ",(0,d.jsx)(n.code,{children:"msg.sender"})," no es el ",(0,d.jsx)(n.code,{children:"owner"}),";"]}),"\n",(0,d.jsxs)(n.li,{children:["revierte si ",(0,d.jsx)(n.code,{children:"_recipient"})," es la direcci\xf3n cero;"]}),"\n",(0,d.jsx)(n.li,{children:"revierte si el saldo del contrato es insuficiente;"}),"\n",(0,d.jsxs)(n.li,{children:["emite ",(0,d.jsx)(n.code,{children:"ERC721Transferred(address indexed _token, address indexed _recipient, uint256 _tokenId, bytes _data)"}),"."]}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-solidity",children:"function transferERC1155(address _token, address _recipient, uint256 _tokenId, uint256 _amount, bytes calldata _data) external;\n"})}),"\n",(0,d.jsx)(n.h4,{id:"par\xe1metros",children:"Par\xe1metros"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Nombre"}),(0,d.jsx)(n.th,{children:"Tipo"}),(0,d.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_token"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"address"})}),(0,d.jsx)(n.td,{children:"token ERC1155"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_recipient"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"address"})}),(0,d.jsx)(n.td,{children:"entidad receptora"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_tokenId"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsx)(n.td,{children:"identificador token"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_amount"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsx)(n.td,{children:"cantidad a transferir"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_data"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"bytes"})}),(0,d.jsxs)(n.td,{children:["secuencia de bytes para el gancho ",(0,d.jsx)(n.code,{children:"onERC1155Received"})]})]})]})]}),"\n",(0,d.jsx)(n.admonition,{type:"info",children:(0,d.jsxs)(n.p,{children:["Nota: ",(0,d.jsx)(n.code,{children:"transferERC1155"})," no soporta transferencias en lote de m\xfaltiples tokens."]})}),"\n",(0,d.jsx)(n.h3,{id:"transfererc20",children:"transferERC20()"}),"\n",(0,d.jsx)(n.p,{children:"Transfiere un token ERC20 a una entidad en la cantidad especificada desde el saldo del contrato."}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["revierte si ",(0,d.jsx)(n.code,{children:"msg.sender"})," no es el ",(0,d.jsx)(n.code,{children:"owner"}),";"]}),"\n",(0,d.jsxs)(n.li,{children:["revierte si ",(0,d.jsx)(n.code,{children:"_recipient"})," es la direcci\xf3n cero;"]}),"\n",(0,d.jsx)(n.li,{children:"revierte si el saldo del contrato es insuficiente;"}),"\n",(0,d.jsxs)(n.li,{children:["emite ",(0,d.jsx)(n.code,{children:"ERC20Transferred(address indexed _token, address indexed _recipient, uint256 _amount)"}),"."]}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-solidity",children:"function transferERC20(address _token, address _recipient, uint256 _amount) external;\n"})}),"\n",(0,d.jsx)(n.h4,{id:"par\xe1metros-1",children:"Par\xe1metros"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Nombre"}),(0,d.jsx)(n.th,{children:"Tipo"}),(0,d.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_token"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"address"})}),(0,d.jsx)(n.td,{children:"token ERC20"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_recipient"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"address"})}),(0,d.jsx)(n.td,{children:"entidad receptora"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_amount"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsx)(n.td,{children:"cantidad a transferir"})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"transfererc721",children:"transferERC721()"}),"\n",(0,d.jsxs)(n.p,{children:["Transfiere un \xfanico token ERC721 con el ID especificado a una entidad desde el saldo del contrato. El receptor del contrato debe implementar ",(0,d.jsx)(n.code,{children:"ERC721TokenReceiver"})," de acuerdo con ",(0,d.jsx)(n.a,{href:"https://eips.ethereum.org/EIPS/eip-721",children:"EIP-721"})," para recibir tokens de manera segura."]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["revierte si ",(0,d.jsx)(n.code,{children:"msg.sender"})," no es el ",(0,d.jsx)(n.code,{children:"owner"}),";"]}),"\n",(0,d.jsxs)(n.li,{children:["revierte si ",(0,d.jsx)(n.code,{children:"_recipient"})," es la direcci\xf3n cero;"]}),"\n",(0,d.jsxs)(n.li,{children:["emite ",(0,d.jsx)(n.code,{children:"ERC721Transferred(address indexed _token, address indexed _recipient, uint256 _tokenId, bytes _data)"}),"."]}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-solidity",children:"function transferERC721(address _token, address _recipient, uint256 _tokenId, bytes memory _data) external;\n"})}),"\n",(0,d.jsx)(n.h4,{id:"par\xe1metros-2",children:"Par\xe1metros"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Nombre"}),(0,d.jsx)(n.th,{children:"Tipo"}),(0,d.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_token"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"address"})}),(0,d.jsx)(n.td,{children:"token ERC721"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_recipient"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"address"})}),(0,d.jsx)(n.td,{children:"entidad receptora"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_tokenId"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsx)(n.td,{children:"identificador token"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_data"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"bytes"})}),(0,d.jsxs)(n.td,{children:["secuencia de bytes para el gancho ",(0,d.jsx)(n.code,{children:"onERC721Received"})]})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"transferether",children:"transferEther()"}),"\n",(0,d.jsx)(n.p,{children:"Transfiere ether a una entidad desde el saldo del contrato."}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["revierte si ",(0,d.jsx)(n.code,{children:"msg.sender"})," no es el ",(0,d.jsx)(n.code,{children:"owner"}),";"]}),"\n",(0,d.jsxs)(n.li,{children:["revierte si ",(0,d.jsx)(n.code,{children:"_recipient"})," es la direcci\xf3n cero;"]}),"\n",(0,d.jsx)(n.li,{children:"revierte si el saldo del contrato es insuficiente;"}),"\n",(0,d.jsxs)(n.li,{children:["revierte si la operaci\xf3n real de transferencia falla (por ejemplo, ",(0,d.jsx)(n.code,{children:"_recipient"})," es un contrato sin fallback);"]}),"\n",(0,d.jsxs)(n.li,{children:["emite ",(0,d.jsx)(n.code,{children:"EtherTransferred(address indexed _recipient, uint256 _amount)"}),"."]}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-solidity",children:"function transferEther(address _recipient, uint256 _amount) external;\n"})}),"\n",(0,d.jsx)(n.h4,{id:"par\xe1metros-3",children:"Par\xe1metros"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Nombre"}),(0,d.jsx)(n.th,{children:"Tipo"}),(0,d.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_recipient"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"address"})}),(0,d.jsx)(n.td,{children:"entidad receptora"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_amount"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsx)(n.td,{children:"cantidad a transferir"})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"transferownership",children:"transferOwnership()"}),"\n",(0,d.jsxs)(n.p,{children:["Asigna ",(0,d.jsx)(n.code,{children:"newOwner"})," como el nuevo ",(0,d.jsx)(n.code,{children:"owner"}),"."]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["revierte si ",(0,d.jsx)(n.code,{children:"msg.sender"})," no es el ",(0,d.jsx)(n.code,{children:"owner"}),";"]}),"\n",(0,d.jsxs)(n.li,{children:["revierte si ",(0,d.jsx)(n.code,{children:"newOwner"})," es la direcci\xf3n cero;"]}),"\n",(0,d.jsxs)(n.li,{children:["emite ",(0,d.jsx)(n.code,{children:"emit OwnershipTransferred(address indexed previousOwner, address indexed newOwner)"}),"."]}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-solidity",children:"function transferOwnership(address newOwner) public;\n"})}),"\n",(0,d.jsx)(n.h4,{id:"par\xe1metros-4",children:"Par\xe1metros"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Nombre"}),(0,d.jsx)(n.th,{children:"Tipo"}),(0,d.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,d.jsx)(n.tbody,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"newOwner"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"address"})}),(0,d.jsx)(n.td,{children:"entidad que tendr\xe1 acceso a todas las operaciones mutables de estado"})]})})]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(o,{...e})}):o(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>c,x:()=>t});var d=r(6540);const s={},i=d.createContext(s);function c(e){const n=d.useContext(i);return d.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),d.createElement(i.Provider,{value:n},e.children)}}}]);