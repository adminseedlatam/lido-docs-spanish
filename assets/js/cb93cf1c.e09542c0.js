"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8967],{1363:(e,a,o)=>{o.r(a),o.d(a,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>n,metadata:()=>i,toc:()=>t});var s=o(4848),d=o(8453);const n={},r="Introducci\xf3n",i={id:"staking-modules/csm/intro",title:"Introducci\xf3n",description:'Los t\xe9rminos "validator", "key", "validator key" y "deposit data" tienen el mismo significado dentro del documento.',source:"@site/docs/staking-modules/csm/intro.md",sourceDirName:"staking-modules/csm",slug:"/staking-modules/csm/intro",permalink:"/staking-modules/csm/intro",draft:!1,unlisted:!1,editUrl:"https://github.com/adminseedlatam/lido-docs-spanish/edit/main/docs/staking-modules/csm/intro.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Aplicaciones IPFS de Lido",permalink:"/ipfs/apps-list"},next:{title:"Join CSM",permalink:"/staking-modules/csm/join-csm"}},l={},t=[{value:"\u2211 TL;DR",id:"-tldr",level:2},{value:"\ud83d\udcd3 Glosario",id:"-glosario",level:2},{value:"\ud83c\udf0e Informaci\xf3n general",id:"-informaci\xf3n-general",level:2},{value:"\ud83e\udd13 Especificaciones del m\xf3dulo",id:"-especificaciones-del-m\xf3dulo",level:2},{value:"Salidas y Retiros",id:"salidas-y-retiros",level:3},{value:"Cola de distribuci\xf3n de Stake",id:"cola-de-distribuci\xf3n-de-stake",level:3},{value:"Medidas alternativas para keys &quot;stuck&quot;",id:"medidas-alternativas-para-keys-stuck",level:3},{value:"Estructura del Node Operator",id:"estructura-del-node-operator",level:3},{value:"Lecturas adicionales",id:"lecturas-adicionales",level:2}];function c(e){const a={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...(0,d.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.h1,{id:"introducci\xf3n",children:"Introducci\xf3n"}),"\n",(0,s.jsx)(a.admonition,{type:"info",children:(0,s.jsx)(a.p,{children:'Los t\xe9rminos "validator", "key", "validator key" y "deposit data" tienen el mismo significado dentro del documento.'})}),"\n",(0,s.jsx)(a.h2,{id:"-tldr",children:"\u2211 TL;DR"}),"\n",(0,s.jsx)(a.p,{children:"El M\xf3dulo de Staking Comunitario (CSM) es un m\xf3dulo de staking sin permisos dise\xf1ado para atraer a los stakers de la comunidad a participar en Lido en el protocolo Ethereum como Operadores de Nodo. El \xfanico requisito para unirse al CSM como Operador de Nodo es poder ejecutar validadores (seg\xfan las pol\xedticas de Lido en Ethereum) y proporcionar un colateral. La participaci\xf3n se asigna a los validator keys en el orden en que se proporcionan las keys, siempre que sean v\xe1lidas. El colateral no est\xe1 directamente asociado con la participaci\xf3n real del validador, sino que se trata como una garant\xeda de seguridad. El colateral es una caracter\xedstica de un Operador de Nodo; por lo tanto, es una garant\xeda para todos los validadores del Operador de Nodo. Esto permite la reducci\xf3n del colateral. Cuantos m\xe1s validadores tenga el Operador de Nodo, menor ser\xe1 el colateral por cada validador. Los Operadores de Nodo obtienen sus recompensas del rebase del colateral y de la porci\xf3n de recompensas de staking del Operador de Nodo. La porci\xf3n de recompensas de staking del Operador de Nodo se socializa (promedia) si los validadores superan el umbral. Las penalizaciones acumuladas de la CL que resulten en una reducci\xf3n del saldo por debajo del saldo de dep\xf3sito y las recompensas de la EL robadas se confiscan del colateral del Operador de Nodo. Los Operadores de Nodo deben realizar salidas de validadores a solicitud del protocolo o pueden salir voluntariamente."}),"\n",(0,s.jsx)(a.h2,{id:"-glosario",children:"\ud83d\udcd3 Glosario"}),"\n",(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:["The ",(0,s.jsx)(a.a,{href:"/contracts/staking-router",children:(0,s.jsx)(a.strong,{children:"staking router"})})," (SR) es un contrato inteligente dentro del protocolo Lido en Ethereum que facilita la asignaci\xf3n de participaci\xf3n y la distribuci\xf3n de recompensas a trav\xe9s de diferentes m\xf3dulos;"]}),"\n",(0,s.jsxs)(a.li,{children:["Un ",(0,s.jsx)(a.strong,{children:"staking module"})," (SM) es un contrato inteligente o un conjunto de contratos inteligentes conectados al enrutador de staking, que:","\n",(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsx)(a.li,{children:"mantiene los conjuntos de operadores y validadores subyacentes,"}),"\n",(0,s.jsx)(a.li,{children:"es responsable de la incorporaci\xf3n y exclusi\xf3n de operadores,"}),"\n",(0,s.jsx)(a.li,{children:"mantiene los dep\xf3sitos, retiros y salidas de validadores,"}),"\n",(0,s.jsx)(a.li,{children:"mantiene la estructura de tarifas y la distribuci\xf3n para el m\xf3dulo y los participantes, etc.,"}),"\n",(0,s.jsx)(a.li,{children:"se ajusta a la interfaz IStakingModule;"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.strong,{children:"Bono"})," - una garant\xeda de seguridad que los Operadores de Nodo deben presentar antes de cargar validator keys en el CSM. Esta garant\xeda cubre posibles p\xe9rdidas causadas por acciones inapropiadas del lado del Operador de Nodo. Una vez que el validador sale de la cadena Beacon y se cubren todas las p\xe9rdidas ocurridas, la garant\xeda puede ser reclamada o reutilizada para cargar nuevas validator keys."]}),"\n",(0,s.jsxs)(a.li,{children:["The ",(0,s.jsx)(a.strong,{children:"Lido DAO"})," es una Organizaci\xf3n Aut\xf3noma Descentralizada que decide sobre los par\xe1metros cr\xedticos de los protocolos de staking l\xedquido controlados a trav\xe9s del poder de voto del token de gobernanza (LDO)."]}),"\n",(0,s.jsxs)(a.li,{children:["Un ",(0,s.jsx)(a.strong,{children:"Node Operator"})," (NO) es una persona o entidad que ejecuta validadores;"]}),"\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.a,{href:"/contracts/lido",children:(0,s.jsx)(a.code,{children:"Lido"})})," es un contrato central del protocolo Lido en Ethereum que almacena el estado del protocolo, acepta las presentaciones de usuarios e incluye el token stETH;"]}),"\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.strong,{children:"stETH"})," es un token ERC-20 creado por el contrato inteligente ",(0,s.jsx)(a.a,{href:"https://etherscan.io/address/0xae7ab96520DE3A18E5e111B5EaAb095312D7fE84",children:(0,s.jsx)(a.code,{children:"Lido"})})," y representa una participaci\xf3n en el ",(0,s.jsx)(a.a,{href:"/contracts/lido#rebase",children:(0,s.jsx)(a.code,{children:"totalPooledEther"})}),";"]}),"\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.strong,{children:"Deposit data"})," se refiere a una estructura que consiste en la clave p\xfablica del validador y la firma de dep\xf3sito enviada al ",(0,s.jsx)(a.code,{children:"DepositContract"}),". Este t\xe9rmino tambi\xe9n puede referirse como ",(0,s.jsx)(a.code,{children:"keys"})," en el texto. Las claves privadas del validador son creadas, almacenadas y gestionadas exclusivamente por los Node Operators;"]}),"\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.code,{children:"DepositContract"})," es el contrato oficial de dep\xf3sito de Ethereum para dep\xf3sitos de validadores;"]}),"\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.code,{children:"DepositSecurityModule"})," o ",(0,s.jsx)(a.a,{href:"/gu%C3%ADas/deposit-security-manual",children:(0,s.jsx)(a.strong,{children:"DSM"})})," es un conjunto de contratos inteligentes y partes fuera de la cadena que mitigan la ",(0,s.jsx)(a.a,{href:"/gu%C3%ADas/deposit-security-manual#la-vulnerabilidad",children:"vulnerabilidad de front-running en los dep\xf3sitos"}),";"]}),"\n",(0,s.jsxs)(a.li,{children:["Un validador se considera ",(0,s.jsx)(a.strong,{children:'"unbonded"'})," cuando el colateral actual del Node Operator no es suficiente para cubrir a este validador;"]}),"\n",(0,s.jsxs)(a.li,{children:["Un validador se considera ",(0,s.jsx)(a.strong,{children:'"stuck"'})," si no ha salido a tiempo despu\xe9s de recibir una se\xf1al de salida del protocolo;"]}),"\n",(0,s.jsxs)(a.li,{children:["El ",(0,s.jsx)(a.strong,{children:"Curated module"})," es el primer m\xf3dulo de staking de Lido anteriormente conocido como ",(0,s.jsx)(a.a,{href:"../../contracts/node-operators-registry",children:"Node Operators Registry"}),";"]}),"\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.strong,{children:"Easy Track"})," es un conjunto de contratos inteligentes y un modelo de votaci\xf3n basado en veto que agiliza las operaciones rutinarias de la DAO;"]}),"\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.a,{href:"/contracts/accounting-oracle",children:(0,s.jsx)(a.strong,{children:"Accounting Oracle"})})," es un contrato que recopila informaci\xf3n enviada por or\xe1culos fuera de la cadena sobre el estado de los validadores participantes en Lido y sus saldos, la cantidad de fondos acumulados en los almacenes del protocolo (por ejemplo, b\xf3vedas de recompensas de capa de retiro y ejecuci\xf3n), el n\xfamero de validadores salidos y atascados, el n\xfamero de solicitudes de retiro que el protocolo puede procesar y distribuye recompensas a los node operators y realiza el rebase del token ",(0,s.jsx)(a.code,{children:"stETH"}),";"]}),"\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.a,{href:"/contracts/validators-exit-bus-oracle",children:(0,s.jsx)(a.strong,{children:"VEBO"})}),' o Validadores Exit Bus Oracle es un contrato que implementa un bus de mensajes "fuente de verdad" en la cadena entre el or\xe1culo fuera de la cadena del protocolo y los observadores fuera de la cadena, con el objetivo principal de enviar solicitudes de salida de validadores a los Node Operators participantes en Lido.']}),"\n"]}),"\n",(0,s.jsx)(a.h2,{id:"-informaci\xf3n-general",children:"\ud83c\udf0e Informaci\xf3n general"}),"\n",(0,s.jsx)(a.p,{children:"CSM es un m\xf3dulo de staking que ofrece entrada sin permisos con un colateral. Este m\xf3dulo tiene como objetivo convertirse en un camino claro para que los stakers independientes de la comunidad (stakers solitarios o stakers dom\xe9sticos) ingresen al conjunto de operadores de nodo de Lido en el protocolo Ethereum (LoE). El requisito de colateral es una herramienta esencial de seguridad y alineaci\xf3n que permite la entrada sin permisos sin comprometer la seguridad o la confiabilidad del protocolo subyacente de staking (LoE)."}),"\n",(0,s.jsx)(a.h2,{id:"-especificaciones-del-m\xf3dulo",children:"\ud83e\udd13 Especificaciones del m\xf3dulo"}),"\n",(0,s.jsxs)(a.p,{children:["Todos los m\xf3dulos de staking deben cumplir con la misma ",(0,s.jsx)(a.a,{href:"https://github.com/lidofinance/lido-dao/blob/master/contracts/0.8.9/interfaces/IStakingModule.sol",children:"interfaz IStakingModule"}),". Esto inevitablemente resulta en que los m\xf3dulos tengan muchos componentes y l\xf3gicas comunes o similares. CSM no es una excepci\xf3n aqu\xed. Por ejemplo, los componentes de almacenamiento de keys se basan en el m\xf3dulo Curated existente. Sin embargo, hay varios aspectos diferentes que vale la pena mencionar por separado."]}),"\n",(0,s.jsx)(a.h3,{id:"salidas-y-retiros",children:"Salidas y Retiros"}),"\n",(0,s.jsxs)(a.p,{children:['El m\xf3dulo Curated utiliza los estados "exited" del validador (tanto ',(0,s.jsx)(a.a,{href:"https://notes.ethereum.org/7CFxjwMgQSWOHIxLgJP2Bw#44-Step-4-Slashed-and-Exited",children:"Slashed y Exited"})," y ",(0,s.jsx)(a.a,{href:"https://notes.ethereum.org/7CFxjwMgQSWOHIxLgJP2Bw#45-Step-5-Unslashed-and-Exited",children:"Unslashed y Exited"}),') como el \xfaltimo estado significativo en la contabilidad, ya que despu\xe9s de este estado, el validador ya no es responsable de ning\xfan deber en la cadena Beacon (excepto en casos raros de participaci\xf3n tard\xeda en el comit\xe9 de sincronizaci\xf3n). CSM, por otro lado, necesita conocer el saldo exacto de retiro de cada validador para decidir sobre la penalizaci\xf3n del colateral. Por lo tanto, el m\xf3dulo utiliza el contador "exited" reportado por el or\xe1culo de contabilidad solo para devolver un n\xfamero correcto de keys "activas" al enrutador de staking e implementa m\xe9todos de reporte sin permisos para reportar el saldo de retiro del validador una vez que el validador ha sido ',(0,s.jsx)(a.a,{href:"https://consensys.io/shanghai-capella-upgrade#:~:text=Finally%2C%20the%20withdrawable%20validator%20is%20subject%20to%20the%20same%2C%20automated%20%E2%80%9Csweep%E2%80%9D%20that%20processes%20partial%20withdrawals%2C%20and%20its%20balance%20is%20withdrawn",children:"retirado"}),"."]}),"\n",(0,s.jsx)(a.h3,{id:"cola-de-distribuci\xf3n-de-stake",children:"Cola de distribuci\xf3n de Stake"}),"\n",(0,s.jsxs)(a.p,{children:["Un Node Operator debe proporcionar un colateral para cargar una nueva validator key en CSM. Es razonable asignar una participaci\xf3n en un orden similar al de la presentaci\xf3n del colateral. Con este prop\xf3sito, se utiliza una cola de asignaci\xf3n de participaci\xf3n FIFO (primero en entrar, primero en salir) ",(0,s.jsx)(a.a,{href:"/staking-modules/csm/join-csm#stake-allocation-queue",children:"stake allocation queue"}),". Una vez que el enrutador de staking solicita keys para hacer un dep\xf3sito, se devuelven las pr\xf3ximas ",(0,s.jsx)(a.code,{children:"X"})," keys de la cola, preservando el orden de presentaci\xf3n del colateral."]}),"\n",(0,s.jsx)(a.h3,{id:"medidas-alternativas-para-keys-stuck",children:'Medidas alternativas para keys "stuck"'}),"\n",(0,s.jsxs)(a.p,{children:['La presencia de keys "stuck" ("Delinquent" en los ',(0,s.jsx)(a.a,{href:"https://snapshot.org/#/lido-snapshot.eth/proposal/0xa4eb1220a15d46a1825d5a0f44de1b34644d4aa6bb95f910b86b29bb7654e330",children:"t\xe9rminos originales"}),") para el Node Operator indica la violaci\xf3n de la ",(0,s.jsx)(a.a,{href:"../../gu%C3%ADas/node-operators/general-overview#pol%C3%ADtica-de-salida-de-validadores-penalidades-y-recuperaci%C3%B3n",children:"pol\xedtica de salida de Lido"}),". En este caso, un m\xf3dulo debe aplicar medidas para el Node Operator que ha violado la pol\xedtica. CSM utiliza medidas que son diferentes de las del m\xf3dulo Curated. Las medidas se describen en la secci\xf3n correspondiente ",(0,s.jsx)(a.a,{href:"/staking-modules/csm/validator-exits#protocol-initiated-exits",children:"validator-exits.md#protocol-initiated-exits"}),"."]}),"\n",(0,s.jsx)(a.admonition,{type:"info",children:(0,s.jsx)(a.p,{children:'Nota: CSM no aplica medidas a validadores "Delayed".'})}),"\n",(0,s.jsx)(a.h3,{id:"estructura-del-node-operator",children:"Estructura del Node Operator"}),"\n",(0,s.jsxs)(a.p,{children:["La estructura de datos del Node Operator en CSM es similar a la del ",(0,s.jsx)(a.a,{href:"/contracts/node-operators-registry",children:"m\xf3dulo Curated"}),", con algunas diferencias menores:"]}),"\n",(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:["La propiedad ",(0,s.jsx)(a.code,{children:"name"})," se omite por redundante para el m\xf3dulo sin permisos;"]}),"\n",(0,s.jsxs)(a.li,{children:["La propiedad ",(0,s.jsx)(a.code,{children:"rewardAddress"})," se utiliza como destinatario de recompensas y reclamaciones de colaterales excedentes;"]}),"\n",(0,s.jsxs)(a.li,{children:["Se introduce una nueva propiedad, ",(0,s.jsx)(a.code,{children:"managerAddress"}),". El Node Operator debe realizar llamadas de m\xe9todo desde esta direcci\xf3n;"]}),"\n",(0,s.jsxs)(a.li,{children:["Se introduce una nueva propiedad, ",(0,s.jsx)(a.code,{children:"totalWithdrawnKeys"}),", para contar el n\xfamero total de keys retiradas por Node Operator;"]}),"\n",(0,s.jsxs)(a.li,{children:["Se introduce una nueva propiedad, ",(0,s.jsx)(a.code,{children:"depositableValidatorsCount"}),", para contar los datos de dep\xf3sito actuales elegibles para dep\xf3sitos;"]}),"\n",(0,s.jsxs)(a.li,{children:["Se introduce una nueva propiedad, ",(0,s.jsx)(a.code,{children:"enqueuedCount"}),", para realizar un seguimiento de las keys depositables que est\xe1n en la cola. Tambi\xe9n es \xfatil para determinar las keys depositables que no est\xe1n en la cola en ese momento;"]}),"\n"]}),"\n",(0,s.jsx)(a.h2,{id:"lecturas-adicionales",children:"Lecturas adicionales"}),"\n",(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsx)(a.li,{children:(0,s.jsx)(a.a,{href:"/staking-modules/csm/join-csm",children:"\xdanete a CSM"})}),"\n",(0,s.jsx)(a.li,{children:(0,s.jsx)(a.a,{href:"/staking-modules/csm/rewards",children:"Recompensas"})}),"\n",(0,s.jsx)(a.li,{children:(0,s.jsx)(a.a,{href:"/staking-modules/csm/penalties",children:"Penalizaciones"})}),"\n",(0,s.jsx)(a.li,{children:(0,s.jsx)(a.a,{href:"/staking-modules/csm/validator-exits",children:"Salidas de validadores"})}),"\n"]})]})}function u(e={}){const{wrapper:a}={...(0,d.R)(),...e.components};return a?(0,s.jsx)(a,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,a,o)=>{o.d(a,{R:()=>r,x:()=>i});var s=o(6540);const d={},n=s.createContext(d);function r(e){const a=s.useContext(n);return s.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function i(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:r(e.components),s.createElement(n.Provider,{value:a},e.children)}}}]);