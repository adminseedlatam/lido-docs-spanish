"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1048],{4976:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>t,contentTitle:()=>d,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>o});var l=n(4848),s=n(8453);const i={},d="MevBoostRelayAllowedList",a={id:"contracts/mev-boost-relays-allowed-list",title:"MevBoostRelayAllowedList",description:"- C\xf3digo Fuente",source:"@site/docs/contracts/mev-boost-relays-allowed-list.md",sourceDirName:"contracts",slug:"/contracts/mev-boost-relays-allowed-list",permalink:"/contracts/mev-boost-relays-allowed-list",draft:!1,unlisted:!1,editUrl:"https://github.com/adminseedlatam/lido-docs-spanish/edit/main/docs/contracts/mev-boost-relays-allowed-list.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"LidoExecutionLayerRewardsVault",permalink:"/contracts/lido-execution-layer-rewards-vault"},next:{title:"TRP VestingEscrow",permalink:"/contracts/trp-vesting-escrow"}},t={},o=[{value:"M\xe9todos de Vista",id:"m\xe9todos-de-vista",level:2},{value:"get_owner()",id:"get_owner",level:3},{value:"get_manager()",id:"get_manager",level:3},{value:"get_relays_amount()",id:"get_relays_amount",level:3},{value:"get_relays()",id:"get_relays",level:3},{value:"get_relay_by_uri()",id:"get_relay_by_uri",level:3},{value:"Par\xe1metros:",id:"par\xe1metros",level:4},{value:"get_allowed_list_version()",id:"get_allowed_list_version",level:3},{value:"M\xe9todos",id:"m\xe9todos",level:2},{value:"add_relay()",id:"add_relay",level:3},{value:"Par\xe1metros:",id:"par\xe1metros-1",level:4},{value:"remove_relay()",id:"remove_relay",level:3},{value:"Par\xe1metros:",id:"par\xe1metros-2",level:4},{value:"change_owner()",id:"change_owner",level:3},{value:"Par\xe1metros:",id:"par\xe1metros-3",level:4},{value:"set_manager()",id:"set_manager",level:3},{value:"Par\xe1metros:",id:"par\xe1metros-4",level:4},{value:"dismiss_manager()",id:"dismiss_manager",level:3},{value:"recover_erc20()",id:"recover_erc20",level:3}];function c(e){const r={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.h1,{id:"mevboostrelayallowedlist",children:"MevBoostRelayAllowedList"}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:(0,l.jsx)(r.a,{href:"https://github.com/lidofinance/mev-boost-relay-allowed-list/blob/main/contracts/MEVBoostRelayAllowedList.vy",children:"C\xf3digo Fuente"})}),"\n",(0,l.jsx)(r.li,{children:(0,l.jsx)(r.a,{href:"https://etherscan.io/address/0xf95f069f9ad107938f6ba802a3da87892298610e",children:"Contrato Desplegado (mainnet)"})}),"\n",(0,l.jsx)(r.li,{children:(0,l.jsx)(r.a,{href:"https://holesky.etherscan.io/address/0x2d86C5855581194a386941806E38cA119E50aEA3",children:"Contrato Desplegado (hole\u0161ky)"})}),"\n"]}),"\n",(0,l.jsxs)(r.p,{children:["La lista permitida de rel\xe9s de MEV-Boost es un contrato simple que almacena una lista de rel\xe9s aprobados por DAO para su uso en configuraciones de ",(0,l.jsx)(r.a,{href:"https://github.com/flashbots/mev-boost",children:"MEV-Boost"}),". Los datos del contrato se utilizan para generar un archivo de configuraci\xf3n que contiene una lista de rel\xe9s a los cuales los Operadores de Nodo deber\xedan conectarse al participar en Lido."]}),"\n",(0,l.jsx)(r.h2,{id:"m\xe9todos-de-vista",children:"M\xe9todos de Vista"}),"\n",(0,l.jsx)(r.h3,{id:"get_owner",children:"get_owner()"}),"\n",(0,l.jsx)(r.p,{children:"Recupera al propietario actual del contrato."}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-vyper",children:"@view\n@external\ndef get_owner() -> address\n"})}),"\n",(0,l.jsx)(r.h3,{id:"get_manager",children:"get_manager()"}),"\n",(0,l.jsx)(r.p,{children:"Recupera la entidad de gesti\xf3n actual (devuelve direcci\xf3n cero si no hay ninguna entidad asignada)."}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-vyper",children:"@view\n@external\ndef get_manager() -> address\n"})}),"\n",(0,l.jsx)(r.h3,{id:"get_relays_amount",children:"get_relays_amount()"}),"\n",(0,l.jsx)(r.p,{children:"Recupera el n\xfamero total actual de rel\xe9s permitidos."}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-vyper",children:"@view\n@external\ndef get_relays_amount() -> uint256\n"})}),"\n",(0,l.jsx)(r.h3,{id:"get_relays",children:"get_relays()"}),"\n",(0,l.jsx)(r.p,{children:"Recupera todos los rel\xe9s permitidos actualmente."}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-vyper",children:"@view\n@external\ndef get_relays() -> DynArray[Relay, MAX_NUM_RELAYS]\n"})}),"\n",(0,l.jsx)(r.h3,{id:"get_relay_by_uri",children:"get_relay_by_uri()"}),"\n",(0,l.jsx)(r.p,{children:"Recupera el rel\xe9 con el URI proporcionado."}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-vyper",children:"@view\n@external\ndef get_relay_by_uri(relay_uri: String[MAX_STRING_LENGTH]) -> bool\n"})}),"\n",(0,l.jsx)(r.h4,{id:"par\xe1metros",children:"Par\xe1metros:"}),"\n",(0,l.jsxs)(r.table,{children:[(0,l.jsx)(r.thead,{children:(0,l.jsxs)(r.tr,{children:[(0,l.jsx)(r.th,{children:"Nombre"}),(0,l.jsx)(r.th,{children:"Tipo"}),(0,l.jsx)(r.th,{children:"Descripci\xf3n"})]})}),(0,l.jsx)(r.tbody,{children:(0,l.jsxs)(r.tr,{children:[(0,l.jsx)(r.td,{children:(0,l.jsx)(r.code,{children:"relay_uri"})}),(0,l.jsx)(r.td,{children:(0,l.jsx)(r.code,{children:"String[MAX_STRING_LENGTH]"})}),(0,l.jsx)(r.td,{children:"URI del rel\xe9"})]})})]}),"\n",(0,l.jsx)(r.admonition,{type:"note",children:(0,l.jsx)(r.p,{children:"Revoca si no se encuentra ning\xfan rel\xe9."})}),"\n",(0,l.jsx)(r.h3,{id:"get_allowed_list_version",children:"get_allowed_list_version()"}),"\n",(0,l.jsx)(r.p,{children:"Recupera la versi\xf3n actual de la lista de rel\xe9s permitidos."}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-vyper",children:"@view\n@external\ndef get_allowed_list_version() -> uint256\n"})}),"\n",(0,l.jsx)(r.h2,{id:"m\xe9todos",children:"M\xe9todos"}),"\n",(0,l.jsx)(r.h3,{id:"add_relay",children:"add_relay()"}),"\n",(0,l.jsx)(r.p,{children:"A\xf1ade un rel\xe9 a la lista permitida.\nIncrementa la versi\xf3n de la lista permitida."}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-vyper",children:"@external\ndef add_relay(\n    uri: String[MAX_STRING_LENGTH],\n    operator: String[MAX_STRING_LENGTH],\n    is_mandatory: bool,\n    description: String[MAX_STRING_LENGTH]\n)\n"})}),"\n",(0,l.jsx)(r.h4,{id:"par\xe1metros-1",children:"Par\xe1metros:"}),"\n",(0,l.jsxs)(r.table,{children:[(0,l.jsx)(r.thead,{children:(0,l.jsxs)(r.tr,{children:[(0,l.jsx)(r.th,{children:"Nombre"}),(0,l.jsx)(r.th,{children:"Tipo"}),(0,l.jsx)(r.th,{children:"Descripci\xf3n"})]})}),(0,l.jsxs)(r.tbody,{children:[(0,l.jsxs)(r.tr,{children:[(0,l.jsx)(r.td,{children:(0,l.jsx)(r.code,{children:"uri"})}),(0,l.jsx)(r.td,{children:(0,l.jsx)(r.code,{children:"String[MAX_STRING_LENGTH]"})}),(0,l.jsx)(r.td,{children:"URI del rel\xe9"})]}),(0,l.jsxs)(r.tr,{children:[(0,l.jsx)(r.td,{children:(0,l.jsx)(r.code,{children:"operator"})}),(0,l.jsx)(r.td,{children:(0,l.jsx)(r.code,{children:"String[MAX_STRING_LENGTH]"})}),(0,l.jsx)(r.td,{children:"Nombre del operador del rel\xe9"})]}),(0,l.jsxs)(r.tr,{children:[(0,l.jsx)(r.td,{children:(0,l.jsx)(r.code,{children:"is_mandatory"})}),(0,l.jsx)(r.td,{children:(0,l.jsx)(r.code,{children:"bool"})}),(0,l.jsx)(r.td,{children:"Si el rel\xe9 es obligatorio para el uso por parte del Operador de Nodo de Lido"})]}),(0,l.jsxs)(r.tr,{children:[(0,l.jsx)(r.td,{children:(0,l.jsx)(r.code,{children:"description"})}),(0,l.jsx)(r.td,{children:(0,l.jsx)(r.code,{children:"String[MAX_STRING_LENGTH]"})}),(0,l.jsx)(r.td,{children:"Descripci\xf3n del rel\xe9 en formato libre"})]})]})]}),"\n",(0,l.jsxs)(r.admonition,{type:"note",children:[(0,l.jsx)(r.p,{children:"Revoca si alguna de las siguientes condiciones es verdadera:"}),(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"llamado por cualquier persona que no sea el propietario o el gestor"}),"\n",(0,l.jsx)(r.li,{children:"el rel\xe9 con el URI proporcionado ya est\xe1 permitido"}),"\n",(0,l.jsx)(r.li,{children:"el URI est\xe1 vac\xedo"}),"\n"]})]}),"\n",(0,l.jsx)(r.h3,{id:"remove_relay",children:"remove_relay()"}),"\n",(0,l.jsx)(r.p,{children:"Elimina el rel\xe9 previamente permitido del conjunto.\nIncrementa la versi\xf3n de la lista permitida."}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-vyper",children:"@external\ndef remove_relay(uri: String[MAX_STRING_LENGTH])\n"})}),"\n",(0,l.jsx)(r.h4,{id:"par\xe1metros-2",children:"Par\xe1metros:"}),"\n",(0,l.jsxs)(r.table,{children:[(0,l.jsx)(r.thead,{children:(0,l.jsxs)(r.tr,{children:[(0,l.jsx)(r.th,{children:"Nombre"}),(0,l.jsx)(r.th,{children:"Tipo"}),(0,l.jsx)(r.th,{children:"Descripci\xf3n"})]})}),(0,l.jsx)(r.tbody,{children:(0,l.jsxs)(r.tr,{children:[(0,l.jsx)(r.td,{children:(0,l.jsx)(r.code,{children:"uri"})}),(0,l.jsx)(r.td,{children:(0,l.jsx)(r.code,{children:"String[MAX_STRING_LENGTH]"})}),(0,l.jsx)(r.td,{children:"URI del rel\xe9"})]})})]}),"\n",(0,l.jsxs)(r.admonition,{type:"note",children:[(0,l.jsx)(r.p,{children:"Revoca si alguna de las siguientes condiciones es verdadera:"}),(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"llamado por cualquier persona que no sea el propietario o el gestor"}),"\n",(0,l.jsx)(r.li,{children:"el rel\xe9 con el URI proporcionado no est\xe1 permitido"}),"\n",(0,l.jsx)(r.li,{children:"el URI est\xe1 vac\xedo"}),"\n"]})]}),"\n",(0,l.jsx)(r.h3,{id:"change_owner",children:"change_owner()"}),"\n",(0,l.jsx)(r.p,{children:"Cambia el propietario actual por uno nuevo."}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-vyper",children:"@external\ndef change_owner(owner: address)\n"})}),"\n",(0,l.jsx)(r.h4,{id:"par\xe1metros-3",children:"Par\xe1metros:"}),"\n",(0,l.jsxs)(r.table,{children:[(0,l.jsx)(r.thead,{children:(0,l.jsxs)(r.tr,{children:[(0,l.jsx)(r.th,{children:"Nombre"}),(0,l.jsx)(r.th,{children:"Tipo"}),(0,l.jsx)(r.th,{children:"Descripci\xf3n"})]})}),(0,l.jsx)(r.tbody,{children:(0,l.jsxs)(r.tr,{children:[(0,l.jsx)(r.td,{children:(0,l.jsx)(r.code,{children:"owner"})}),(0,l.jsx)(r.td,{children:(0,l.jsx)(r.code,{children:"address"})}),(0,l.jsx)(r.td,{children:"Direcci\xf3n del nuevo propietario"})]})})]}),"\n",(0,l.jsxs)(r.admonition,{type:"note",children:[(0,l.jsx)(r.p,{children:"Revoca si alguna de las siguientes condiciones es verdadera:"}),(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"llamado por cualquier persona que no sea el propietario actual"}),"\n",(0,l.jsxs)(r.li,{children:[(0,l.jsx)(r.code,{children:"owner"})," es el propietario actual"]}),"\n",(0,l.jsxs)(r.li,{children:[(0,l.jsx)(r.code,{children:"owner"})," es una direcci\xf3n cero"]}),"\n"]})]}),"\n",(0,l.jsx)(r.h3,{id:"set_manager",children:"set_manager()"}),"\n",(0,l.jsxs)(r.p,{children:["Establece ",(0,l.jsx)(r.code,{children:"manager"})," como la entidad de gesti\xf3n actual."]}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-vyper",children:"@external\ndef set_manager(manager: address)\n"})}),"\n",(0,l.jsx)(r.h4,{id:"par\xe1metros-4",children:"Par\xe1metros:"}),"\n",(0,l.jsxs)(r.table,{children:[(0,l.jsx)(r.thead,{children:(0,l.jsxs)(r.tr,{children:[(0,l.jsx)(r.th,{children:"Nombre"}),(0,l.jsx)(r.th,{children:"Tipo"}),(0,l.jsx)(r.th,{children:"Descripci\xf3n"})]})}),(0,l.jsx)(r.tbody,{children:(0,l.jsxs)(r.tr,{children:[(0,l.jsx)(r.td,{children:(0,l.jsx)(r.code,{children:"manager"})}),(0,l.jsx)(r.td,{children:(0,l.jsx)(r.code,{children:"address"})}),(0,l.jsx)(r.td,{children:"Direcci\xf3n del nuevo gestor"})]})})]}),"\n",(0,l.jsxs)(r.admonition,{type:"note",children:[(0,l.jsx)(r.p,{children:"Revoca si alguna de las siguientes condiciones es verdadera:"}),(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"llamado por cualquier persona que no sea el propietario actual"}),"\n",(0,l.jsxs)(r.li,{children:[(0,l.jsx)(r.code,{children:"manager"})," es igual al valor establecido previamente"]}),"\n",(0,l.jsxs)(r.li,{children:[(0,l.jsx)(r.code,{children:"manager"})," es una direcci\xf3n cero"]}),"\n"]})]}),"\n",(0,l.jsx)(r.h3,{id:"dismiss_manager",children:"dismiss_manager()"}),"\n",(0,l.jsx)(r.p,{children:"Descarta la entidad de gesti\xf3n actual."}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-vyper",children:"@external\ndef dismiss_manager()\n"})}),"\n",(0,l.jsxs)(r.admonition,{type:"note",children:[(0,l.jsx)(r.p,{children:"Revoca si alguna de las siguientes condiciones es verdadera:"}),(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"llamado por cualquier persona que no sea el propietario actual"}),"\n",(0,l.jsxs)(r.li,{children:["no se hab\xeda establecido ning\xfan ",(0,l.jsx)(r.code,{children:"manager"})," previamente"]}),"\n"]})]}),"\n",(0,l.jsx)(r.h3,{id:"recover_erc20",children:"recover_erc20()"}),"\n",(0,l.jsxs)(r.p,{children:["Transfiere tokens ERC20 del balance del contrato al ",(0,l.jsx)(r.code,{children:"recipient"}),"."]}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-vyper",children:"@external\ndef recover_erc20(token: address, amount: uint256, recipient: address)\n"})}),"\n",(0,l.jsxs)(r.admonition,{type:"note",children:[(0,l.jsx)(r.p,{children:"Revoca si alguna de las siguientes condiciones es verdadera:"}),(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"llamado por cualquier persona que no sea el propietario"}),"\n",(0,l.jsx)(r.li,{children:"la transferencia ERC20 revierte"}),"\n",(0,l.jsxs)(r.li,{children:[(0,l.jsx)(r.code,{children:"recipient"})," es una direcci\xf3n cero"]}),"\n"]})]})]})}function h(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,l.jsx)(r,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>d,x:()=>a});var l=n(6540);const s={},i=l.createContext(s);function d(e){const r=l.useContext(i);return l.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),l.createElement(i.Provider,{value:r},e.children)}}}]);