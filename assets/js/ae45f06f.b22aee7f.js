"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2174],{1807:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>o});var d=s(4848),r=s(8453);const i={},a="Lido",l={id:"contracts/lido",title:"Lido",description:"- C\xf3digo fuente",source:"@site/docs/contracts/lido.md",sourceDirName:"contracts",slug:"/contracts/lido",permalink:"/contracts/lido",draft:!1,unlisted:!1,editUrl:"https://github.com/adminseedlatam/lido-docs-spanish/edit/main/docs/contracts/lido.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"LidoLocator",permalink:"/contracts/lido-locator"},next:{title:"EIP712StETH",permalink:"/contracts/eip712-steth"}},c={},o=[{value:"\xbfQu\xe9 es Lido?",id:"qu\xe9-es-lido",level:2},{value:"Participaci\xf3n",id:"participaci\xf3n",level:2},{value:"Dep\xf3sito",id:"dep\xf3sito",level:2},{value:"Redenci\xf3n",id:"redenci\xf3n",level:2},{value:"Rebase",id:"rebase",level:2},{value:"Informe de Or\xe1culo",id:"informe-de-or\xe1culo",level:2},{value:"Est\xe1ndares",id:"est\xe1ndares",level:2},{value:"M\xe9todos Relacionados con Staking",id:"m\xe9todos-relacionados-con-staking",level:2},{value:"fallback",id:"fallback",level:3},{value:"submit()",id:"submit",level:3},{value:"getBufferedEther()",id:"getbufferedether",level:3},{value:"isStakingPaused()",id:"isstakingpaused",level:3},{value:"getCurrentStakeLimit()",id:"getcurrentstakelimit",level:3},{value:"getStakeLimitFullInfo()",id:"getstakelimitfullinfo",level:3},{value:"M\xe9todos relacionados con el dep\xf3sito",id:"m\xe9todos-relacionados-con-el-dep\xf3sito",level:2},{value:"deposit()",id:"deposit",level:3},{value:"getDepositableEther()",id:"getdepositableether",level:3},{value:"canDeposit()",id:"candeposit",level:3},{value:"M\xe9todos relacionados con la contabilidad**",id:"m\xe9todos-relacionados-con-la-contabilidad",level:2},{value:"handleOracleReport()",id:"handleoraclereport",level:3},{value:"handleOracleReport()",id:"handleoraclereport-1",level:3},{value:"getTotalPooledEther()",id:"gettotalpooledether",level:3},{value:"getTotalELRewardsCollected()",id:"gettotalelrewardscollected",level:3},{value:"getBeaconStat()",id:"getbeaconstat",level:3},{value:"receiveELRewards()",id:"receiveelrewards",level:3},{value:"receiveWithdrawals()",id:"receivewithdrawals",level:3},{value:"Palancas del Protocolo",id:"palancas-del-protocolo",level:2},{value:"stop()",id:"stop",level:3},{value:"resume()",id:"resume",level:3},{value:"pauseStaking()",id:"pausestaking",level:3},{value:"resumeStaking()",id:"resumestaking",level:3},{value:"setStakingLimit()",id:"setstakinglimit",level:3},{value:"removeStakingLimit()",id:"removestakinglimit",level:3},{value:"unsafeChangeDepositedValidators()",id:"unsafechangedepositedvalidators",level:3},{value:"M\xe9todos relacionados con <code>ERC-20</code>",id:"m\xe9todos-relacionados-con-erc-20",level:2},{value:"name()",id:"name",level:3},{value:"symbol()",id:"symbol",level:3},{value:"decimals()",id:"decimals",level:3},{value:"totalSupply()",id:"totalsupply",level:3},{value:"balanceOf()",id:"balanceof",level:3},{value:"allowance()",id:"allowance",level:3},{value:"approve()",id:"approve",level:3},{value:"increaseAllowance()",id:"increaseallowance",level:3},{value:"decreaseAllowance()",id:"decreaseallowance",level:3},{value:"transfer()",id:"transfer",level:3},{value:"transferFrom()",id:"transferfrom",level:3},{value:"M\xe9todos relacionados con Shares",id:"m\xe9todos-relacionados-con-shares",level:2},{value:"getTotalShares()",id:"gettotalshares",level:3},{value:"sharesOf()",id:"sharesof",level:3},{value:"getSharesByPooledEth()",id:"getsharesbypooledeth",level:3},{value:"getPooledEthByShares()",id:"getpooledethbyshares",level:3},{value:"transferShares()",id:"transfershares",level:3},{value:"transferSharesFrom()",id:"transfersharesfrom",level:3},{value:"M\xe9todos relacionados con <code>ERC-2612</code>",id:"m\xe9todos-relacionados-con-erc-2612",level:2},{value:"nonces()",id:"nonces",level:3},{value:"DOMAIN_SEPARATOR()",id:"domain_separator",level:3},{value:"permit()",id:"permit",level:3},{value:"M\xe9todos relacionados con <code>ERC-712</code>",id:"m\xe9todos-relacionados-con-erc-712",level:2},{value:"eip712Domain()",id:"eip712domain",level:3},{value:"M\xe9todos Generales",id:"m\xe9todos-generales",level:2},{value:"getLidoLocator()",id:"getlidolocator",level:3},{value:"getContractVersion()",id:"getcontractversion",level:3},{value:"transferToVault()",id:"transfertovault",level:3}];function t(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.h1,{id:"lido",children:"Lido"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://github.com/lidofinance/lido-dao/blob/master/contracts/0.4.24/Lido.sol",children:"C\xf3digo fuente"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://etherscan.io/address/0xae7ab96520de3a18e5e111b5eaab095312d7fe84",children:"Contrato desplegado"})}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:["Lido es un grupo de staking l\xedquido y un token relacionado con ",(0,d.jsx)(n.a,{href:"https://eips.ethereum.org/EIPS/eip-20",children:"ERC-20"})," rebaseado (",(0,d.jsx)(n.code,{children:"stETH"}),")."]}),"\n",(0,d.jsx)(n.h2,{id:"qu\xe9-es-lido",children:"\xbfQu\xe9 es Lido?"}),"\n",(0,d.jsx)(n.p,{children:"Lido es un grupo de staking l\xedquido y el contrato central responsable de:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"aceptar la participaci\xf3n de los usuarios, almacenarla en b\xfafer y emitir cantidades respectivas del token l\xedquido"}),"\n",(0,d.jsx)(n.li,{children:"realizar una contabilidad adecuada basada en informes de or\xe1culos recibidos y el estado actual del protocolo"}),"\n",(0,d.jsx)(n.li,{children:"recolectar retiros, tarifas prioritarias y MEV de b\xf3vedas respectivas hacia el b\xfafer"}),"\n",(0,d.jsx)(n.li,{children:"aplicar tarifas y distribuir recompensas"}),"\n",(0,d.jsxs)(n.li,{children:["transferir ether almacenado al ",(0,d.jsx)(n.a,{href:"/contracts/staking-router",children:"StakingRouter"})," o ",(0,d.jsx)(n.a,{href:"/contracts/withdrawal-queue-erc721",children:"WithdrawalQueueERC721"})]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:["Adem\xe1s, Lido es un token rebaseado ",(0,d.jsx)(n.a,{href:"https://eips.ethereum.org/EIPS/eip-20",children:"ERC-20"}),", que representa ether en staking, ",(0,d.jsx)(n.code,{children:"stETH"}),". Los tokens se emiten al enviar ether y se queman al ser redimidos. Los saldos de los titulares de ",(0,d.jsx)(n.code,{children:"stETH"})," se actualizan diariamente con informes de or\xe1culos.\nTambi\xe9n implementa las extensiones de permiso ",(0,d.jsx)(n.a,{href:"https://eips.ethereum.org/EIPS/eip-2612",children:"ERC-2612"})," y validaci\xf3n de firma ",(0,d.jsx)(n.a,{href:"https://eips.ethereum.org/EIPS/eip-1271",children:"ERC-1271"}),"."]}),"\n",(0,d.jsx)(n.p,{children:"Otros contratos est\xe1n vinculados al n\xfacleo y tienen las siguientes responsabilidades:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.a,{href:"/contracts/lido-locator",children:(0,d.jsx)(n.code,{children:"LidoLocator"})}),": libro de direcciones del protocolo que contiene referencias a todas las partes significativas del protocolo Lido en cadena"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.a,{href:"/contracts/withdrawal-queue-erc721",children:(0,d.jsx)(n.code,{children:"WithdrawalQueueERC721"})}),": cola de solicitudes de retiro FIFO y un NFT respectivo (unstETH)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.a,{href:"/contracts/staking-router",children:(0,d.jsx)(n.code,{children:"StakingRouter"})}),": centro que gestiona m\xf3dulos de staking y distribuye la participaci\xf3n entre ellos"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.a,{href:"/contracts/node-operators-registry",children:(0,d.jsx)(n.code,{children:"NodeOperatorsRegistry"})}),": m\xf3dulo original, responsable de gestionar el conjunto curado de operadores de nodos"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.a,{href:"/contracts/oracle-report-sanity-checker",children:(0,d.jsx)(n.code,{children:"OracleReportSanityChecker"})}),": ayudante para la validaci\xf3n de par\xe1metros de informes de or\xe1culos y suavizado de rebases de tokens"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.a,{href:"/contracts/burner",children:(0,d.jsx)(n.code,{children:"Burner"})}),": b\xf3veda para contener ",(0,d.jsx)(n.code,{children:"stETH"})," que deben ser quemados en informes de or\xe1culos"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.a,{href:"/contracts/withdrawal-vault",children:(0,d.jsx)(n.code,{children:"WithdrawalVault"})}),": b\xf3veda para recolectar retiros parciales y completos provenientes de Beacon Chain"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.a,{href:"/contracts/lido-execution-layer-rewards-vault",children:(0,d.jsx)(n.code,{children:"LidoExecutionLayerRewardsVault"})}),": b\xf3veda para recolectar tarifas prioritarias y recompensas MEV provenientes de validadores del grupo"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.a,{href:"/contracts/deposit-security-module",children:(0,d.jsx)(n.code,{children:"DepositSecurityModule"})}),": protecci\xf3n contra vulnerabilidades de frontrunning en dep\xf3sitos"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.a,{href:"/contracts/accounting-oracle",children:(0,d.jsx)(n.code,{children:"AccountingOracle"})}),": comit\xe9 de or\xe1culos que recopila un informe contable para el protocolo"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.a,{href:"/contracts/eip712-steth",children:(0,d.jsx)(n.code,{children:"EIP712StETH"})}),": ayudante ad hoc para implementar el permiso ERC-2612 para el contrato Lido de Solidity 0.4.24"]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"participaci\xf3n",children:"Participaci\xf3n"}),"\n",(0,d.jsxs)(n.p,{children:["El contrato Lido es el punto de entrada principal para los stakers. Para participar en el grupo, un usuario puede enviar ETH a la direcci\xf3n del contrato y se emitir\xe1n tokens ",(0,d.jsx)(n.code,{children:"stETH"})," en la misma cantidad a la direcci\xf3n del remitente. El ether enviado se acumula en el b\xfafer y puede transferirse a ",(0,d.jsx)(n.a,{href:"/contracts/withdrawal-queue-erc721",children:(0,d.jsx)(n.code,{children:"WithdrawalQueueERC721"})})," para cumplir con las solicitudes de retiro o a ",(0,d.jsx)(n.a,{href:"/contracts/staking-router",children:(0,d.jsx)(n.code,{children:"StakingRouter"})})," para depositarlo como una nueva participaci\xf3n de validador."]}),"\n",(0,d.jsxs)(n.p,{children:["Para retirar el ether subyacente, un usuario puede usar el contrato ",(0,d.jsx)(n.a,{href:"/contracts/withdrawal-queue-erc721",children:(0,d.jsx)(n.code,{children:"WithdrawalQueueERC721"})})," o intercambiar el token en el mercado secundario (puede ser una alternativa m\xe1s econ\xf3mica y r\xe1pida)."]}),"\n",(0,d.jsx)(n.h2,{id:"dep\xf3sito",children:"Dep\xf3sito"}),"\n",(0,d.jsxs)(n.p,{children:["El ether enviado por el usuario se almacena en el b\xfafer y puede usarse m\xe1s tarde para retiros o transferirse a ",(0,d.jsx)(n.a,{href:"/contracts/staking-router",children:(0,d.jsx)(n.code,{children:"StakingRouter"})})," para ser utilizado como dep\xf3sitos de validador. Esto ocurre de manera asincr\xf3nica y utiliza ",(0,d.jsx)(n.a,{href:"/contracts/deposit-security-module",children:(0,d.jsx)(n.code,{children:"DepositSecurityModule"})})," como guardia para prevenir vulnerabilidades de frontrunning en dep\xf3sitos."]}),"\n",(0,d.jsx)(n.mermaid,{value:"graph LR;\n  A[/  \\]--depositBufferedEther--\x3eDepositSecurityModule--\x3eLido--\x3eStakingRouter--\x3eNodeOperatorsRegistry;"}),"\n",(0,d.jsx)(n.h2,{id:"redenci\xf3n",children:"Redenci\xf3n"}),"\n",(0,d.jsxs)(n.p,{children:["El token puede ser redimido por ether a trav\xe9s del protocolo utilizando el contrato ",(0,d.jsx)(n.a,{href:"/contracts/withdrawal-queue-erc721",children:(0,d.jsx)(n.code,{children:"WithdrawalQueueERC721"})}),", aprovechando los ",(0,d.jsx)(n.a,{href:"https://ethereum.org/en/staking/withdrawals/",children:"retiros de staking"}),' habilitados con el hardfork de Ethereum Shanghai/Capella (tambi\xe9n conocido como "Shapella").']}),"\n",(0,d.jsx)(n.h2,{id:"rebase",children:"Rebase"}),"\n",(0,d.jsxs)(n.p,{children:["Cuando ocurre un informe de or\xe1culo, la oferta del token se aumenta o disminuye algor\xedtmicamente, bas\xe1ndose en recompensas de staking (o penalizaciones por slashing) en Beacon Chain, recompensas de capa de ejecuci\xf3n (a partir del ",(0,d.jsx)(n.a,{href:"https://ethereum.org/en/upgrades/merge/",children:"Merge"})," en Ethereum) o solicitudes de retiro cumplidas (a partir de ",(0,d.jsx)(n.a,{href:"https://blog.lido.fi/introducing-lido-v2/",children:"Lido V2"}),"). Un rebase ocurre cuando los informes de or\xe1culos incluyen estad\xedsticas de Beacon."]}),"\n",(0,d.jsx)(n.p,{children:'El mecanismo de rebase se implementa a trav\xe9s del concepto de "shares". En lugar de almacenar un mapa con saldos de cuentas, Lido guarda qu\xe9 parte del pool total es propiedad de cada cuenta. El saldo de una cuenta se calcula de la siguiente manera:'}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-js",children:"balanceOf(cuenta) = shares[cuenta] * ether total en b\xfafer / totalShares\n"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"shares"})," - mapa de participaciones de cuentas de usuario. Cada vez que un usuario deposita ether, se convierte en shares y se suma a la cantidad actual de shares del usuario."]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"totalShares"})," - la suma de shares de todas las cuentas en el mapa ",(0,d.jsx)(n.code,{children:"shares"})]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"ether total en b\xfafer"})," - suma de tres tipos de ether propiedad del protocolo:"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"balance en b\xfafer - ether almacenado en el contrato y que a\xfan no se ha depositado ni bloqueado para retiros"}),"\n",(0,d.jsx)(n.li,{children:"balance transitorio - ether enviado al contrato oficial de Dep\xf3sito pero que a\xfan no es visible en el estado del beacon"}),"\n",(0,d.jsx)(n.li,{children:"balance del beacon - la cantidad total de ether en las cuentas de validadores. Este valor es reportado por los or\xe1culos y tiene el mayor impacto en el cambio total de la oferta de stETH"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"Por ejemplo, supongamos que tenemos:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-js",children:"totalShares = 5\nether total en b\xfafer = 10 ETH\nshares de Alice -> 1\nshares de Bob -> 4\n"})}),"\n",(0,d.jsx)(n.p,{children:"Entonces:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-js",children:"balanceOf(Alice) -> 2 tokens que corresponden a 2 ETH\nbalanceOf(Bob) -> 8 tokens que corresponden a 8 ETH\n"})}),"\n",(0,d.jsxs)(n.p,{children:["En cada rebase, ",(0,d.jsx)(n.code,{children:"ether total en b\xfafer"})," normalmente aumenta, lo que indica que algunos validadores han ganado recompensas que deben distribuirse, por lo que el saldo del usuario aumenta autom\xe1ticamente, a pesar de que sus shares permanecen como estaban."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-js",children:"ether total en b\xfafer = 15 ETH\n// balance del usuario incrementado\nbalanceOf(Alice) -> 3 tokens que corresponden a 3 ETH ahora\nbalanceOf(Bob) -> 12 tokens que corresponden a 12 ETH ahora\n// shares siguen siendo los mismos\nshares de Alice -> 1\nshares de Bob -> 4\n"})}),"\n",(0,d.jsx)(n.admonition,{type:"note",children:(0,d.jsxs)(n.p,{children:["Dado que los saldos de todos los titulares de tokens cambian cuando cambia la cantidad total de ether en b\xfafer, este token no puede implementar completamente el est\xe1ndar ERC-20: solo emite eventos ",(0,d.jsx)(n.code,{children:"Transfer"})," al realizar transferencias expl\xedcitas entre titulares. En contraste, cuando aumenta la cantidad total de ether en b\xfafer, no se generan eventos ",(0,d.jsx)(n.code,{children:"Transfer"}),": hacerlo requerir\xeda emitir un evento para cada titular de token y, por lo tanto, ejecutar un bucle sin l\xedmites."]})}),"\n",(0,d.jsx)(n.h2,{id:"informe-de-or\xe1culo",children:"Informe de Or\xe1culo"}),"\n",(0,d.jsx)(n.p,{children:"Uno de los pilares del protocolo Lido es el informe de or\xe1culo, que generalmente (aunque no est\xe1 garantizado) proporciona al protocolo, una vez al d\xeda, datos que no pueden ser f\xe1cilmente accedidos en cadena, pero que son necesarios para una contabilidad precisa. Incluye estad\xedsticas de Beacon Chain, as\xed como valores correspondientes del lado de ejecuci\xf3n (EL) que son v\xe1lidos en el bloque de reporte y los datos de decisi\xf3n necesarios para cumplir con las solicitudes pendientes de retiro."}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["Estad\xedsticas de Beacon Chain:","\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"el n\xfamero total de validadores gestionados por el grupo"}),"\n",(0,d.jsx)(n.li,{children:"el balance total de los validadores gestionados por el grupo"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["Valores hist\xf3ricos de EL:","\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"balance de la b\xf3veda de retiros"}),"\n",(0,d.jsx)(n.li,{children:"balance de la b\xf3veda de recompensas de capa de ejecuci\xf3n"}),"\n",(0,d.jsx)(n.li,{children:"balance de las participaciones de stETH de Burner"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["Datos relacionados con retiros:","\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"solicitudes en la cola para ser finalizadas"}),"\n",(0,d.jsx)(n.li,{children:"tasa de participaci\xf3n a utilizar para la finalizaci\xf3n"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"El informe de or\xe1culo se procesa en 9 simples pasos:"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsx)(n.li,{children:"Memorizar el pre-estado que ser\xe1 necesario para actualizaciones incrementales del balance del protocolo."}),"\n",(0,d.jsxs)(n.li,{children:["Validar los datos del informe usando ",(0,d.jsx)(n.a,{href:"/contracts/oracle-report-sanity-checker",children:(0,d.jsx)(n.code,{children:"OracleReportSanityChecker"})}),"."]}),"\n",(0,d.jsxs)(n.li,{children:["Calcular la cantidad de ether a bloquear en ",(0,d.jsx)(n.a,{href:"/contracts/withdrawal-queue-erc721",children:(0,d.jsx)(n.code,{children:"WithdrawalQueueERC721"})})," y mover la cantidad respectiva de participaciones a quemar a ",(0,d.jsx)(n.a,{href:"/contracts/burner",children:(0,d.jsx)(n.code,{children:"Burner"})}),"."]}),"\n",(0,d.jsxs)(n.li,{children:["Utilizando ",(0,d.jsx)(n.a,{href:"/contracts/oracle-report-sanity-checker",children:(0,d.jsx)(n.code,{children:"OracleReportSanityChecker"})}),", calcular las cantidades de ether que se pueden retirar de ",(0,d.jsx)(n.a,{href:"/contracts/lido-execution-layer-rewards-vault",children:(0,d.jsx)(n.code,{children:"LidoExecutionLayerRewardsVault"})})," y ",(0,d.jsx)(n.a,{href:"/contracts/withdrawal-vault",children:(0,d.jsx)(n.code,{children:"WithdrawalVault"})}),", as\xed como el n\xfamero de participaciones que se pueden quemar de ",(0,d.jsx)(n.a,{href:"/contracts/burner",children:(0,d.jsx)(n.code,{children:"Burner"})})," para evitar el frontrunning f\xe1cil."]}),"\n",(0,d.jsxs)(n.li,{children:["Recolectar las cantidades calculadas de ether de las b\xf3vedas y proceder con la finalizaci\xf3n de las solicitudes de retiro: enviar el ether solicitado a ",(0,d.jsx)(n.a,{href:"/contracts/withdrawal-queue-erc721",children:(0,d.jsx)(n.code,{children:"WithdrawalQueue"})}),"."]}),"\n",(0,d.jsxs)(n.li,{children:["Quemar las participaciones previamente solicitadas de ",(0,d.jsx)(n.a,{href:"/contracts/burner",children:(0,d.jsx)(n.code,{children:"Burner"})})," para retiros o aplicaci\xf3n de cobertura."]}),"\n",(0,d.jsx)(n.li,{children:"Distribuir recompensas y tarifas del protocolo, creando nuevos stETH para las partes respectivas."}),"\n",(0,d.jsx)(n.li,{children:"Completar el rebase del token informando a los observadores (emitir un evento y llamar a los receptores externos si los hay)."}),"\n",(0,d.jsx)(n.li,{children:"Verificaci\xf3n de cordura posterior al informe para la tasa de participaci\xf3n proporcionada con el informe."}),"\n"]}),"\n",(0,d.jsx)(n.mermaid,{value:"graph LR;\n  S[/Participaci\xf3n de usuarios/]:::orange-.->B[B\xfafer de Lido];\n  W[B\xf3veda de Retiros]--\x3eB;\n  E[B\xf3veda de Recompensas de Capa de Ejecuci\xf3n de Lido]--\x3eB;\n  B--\x3eD[StakingRouter];\n  B--\x3eWQ[Cola de Retiros];\n  classDef orange fill:#f96;\n"}),"\n",(0,d.jsx)(n.p,{children:"As\xed, el resultado observable del informe para el protocolo es el siguiente:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"se cumplen las solicitudes de retiro en la cola"}),"\n",(0,d.jsx)(n.li,{children:"se recolecta ether de las b\xf3vedas de retiro y recompensas de EL en el b\xfafer"}),"\n",(0,d.jsx)(n.li,{children:"el balance de CL se actualiza seg\xfan el informe"}),"\n",(0,d.jsx)(n.li,{children:"se distribuyen las recompensas entre stakers, m\xf3dulos de staking y tesorer\xeda del protocolo"}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"est\xe1ndares",children:"Est\xe1ndares"}),"\n",(0,d.jsx)(n.p,{children:"El contrato implementa los siguientes est\xe1ndares de Ethereum:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://eips.ethereum.org/EIPS/eip-20",children:"ERC-20: Est\xe1ndar de Token"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://eips.ethereum.org/EIPS/eip-2612",children:"ERC-2612: Extensi\xf3n de Permiso para Aprobaciones Firmadas ERC-20"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://eips.ethereum.org/EIPS/eip-712",children:"EIP-712: Hashing y Firmado de Datos Estructurados y Tipados"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://eips.ethereum.org/EIPS/eip-1271",children:"ERC-1271: M\xe9todo Est\xe1ndar de Validaci\xf3n de Firmas para Contratos"})}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"m\xe9todos-relacionados-con-staking",children:"M\xe9todos Relacionados con Staking"}),"\n",(0,d.jsx)(n.h3,{id:"fallback",children:"fallback"}),"\n",(0,d.jsxs)(n.p,{children:["Env\xeda fondos al grupo y emite tokens ",(0,d.jsx)(n.code,{children:"StETH"})," a la direcci\xf3n ",(0,d.jsx)(n.code,{children:"msg.sender"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function() payable\n"})}),"\n",(0,d.jsx)(n.admonition,{type:"note",children:(0,d.jsx)(n.p,{children:"Permite a los usuarios enviar sus fondos al enviarlos a la direcci\xf3n del contrato"})}),"\n",(0,d.jsx)(n.h3,{id:"submit",children:"submit()"}),"\n",(0,d.jsxs)(n.p,{children:["Env\xeda fondos al grupo con el par\xe1metro opcional ",(0,d.jsx)(n.code,{children:"_referral"})," y emite tokens ",(0,d.jsx)(n.code,{children:"StETH"})," a la direcci\xf3n ",(0,d.jsx)(n.code,{children:"msg.sender"}),"."]}),"\n",(0,d.jsxs)(n.p,{children:["Ver ",(0,d.jsx)(n.a,{href:"https://lido.fi/referral",children:"https://lido.fi/referral"})," para detalles del programa de referidos."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function submit(address _referral) payable returns (uint256)\n"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Par\xe1metro"}),(0,d.jsx)(n.th,{children:"Tipo"}),(0,d.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,d.jsx)(n.tbody,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_referral"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"address"})}),(0,d.jsx)(n.td,{children:"Direcci\xf3n de referido opcional"})]})})]}),"\n",(0,d.jsxs)(n.p,{children:["Devuelve el n\xfamero de participaciones ",(0,d.jsx)(n.code,{children:"StETH"})," generadas."]}),"\n",(0,d.jsx)(n.h3,{id:"getbufferedether",children:"getBufferedEther()"}),"\n",(0,d.jsx)(n.p,{children:"Devuelve la cantidad de ether temporalmente almacenado en el balance del contrato."}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function getBufferedEther() view returns (uint256)\n"})}),"\n",(0,d.jsx)(n.admonition,{type:"note",children:(0,d.jsxs)(n.p,{children:["El balance en b\xfafer se mantiene en el contrato desde el momento en que los fondos son recibidos de un usuario hasta que son enviados al ",(0,d.jsx)(n.a,{href:"https://ethereum.org/en/staking/deposit-contract/",children:"contrato de dep\xf3sito oficial"})," o a ",(0,d.jsx)(n.a,{href:"/contracts/withdrawal-queue-erc721",children:(0,d.jsx)(n.code,{children:"WithdrawalsQueueERC721"})})]})}),"\n",(0,d.jsx)(n.h3,{id:"isstakingpaused",children:"isStakingPaused()"}),"\n",(0,d.jsx)(n.p,{children:"Devuelve el estado de staking: si est\xe1 pausado o no."}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function isStakingPaused() view returns (bool)\n"})}),"\n",(0,d.jsx)(n.admonition,{type:"note",children:(0,d.jsxs)(n.p,{children:['"staking" aqu\xed se refiere a la capacidad de aceptar nuevas solicitudes ',(0,d.jsx)(n.a,{href:"/contracts/lido#submit",children:"submit"}),"."]})}),"\n",(0,d.jsx)(n.h3,{id:"getcurrentstakelimit",children:"getCurrentStakeLimit()"}),"\n",(0,d.jsx)(n.p,{children:"Devuelve cu\xe1nto ether puede ser staked en el bloque actual."}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function getCurrentStakeLimit() view returns (uint256)\n"})}),"\n",(0,d.jsxs)(n.admonition,{type:"note",children:[(0,d.jsx)(n.p,{children:"Valores especiales de retorno:"}),(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"2^256 - 1"})," si el staking es ilimitado;"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"0"})," si el staking est\xe1 pausado o si el l\xedmite est\xe1 agotado."]}),"\n"]})]}),"\n",(0,d.jsx)(n.h3,{id:"getstakelimitfullinfo",children:"getStakeLimitFullInfo()"}),"\n",(0,d.jsx)(n.p,{children:"Devuelve informaci\xf3n completa sobre los par\xe1metros y el estado actual del l\xedmite de stake."}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function getStakeLimitFullInfo() view returns (\n    bool isStakingPaused,\n    bool isStakingLimitSet,\n    uint256 currentStakeLimit,\n    uint256 maxStakeLimit,\n    uint256 maxStakeLimitGrowthBlocks,\n    uint256 prevStakeLimit,\n    uint256 prevStakeBlockNumber\n)\n"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Nombre"}),(0,d.jsx)(n.th,{children:"Tipo"}),(0,d.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"isStakingPaused"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"bool"})}),(0,d.jsxs)(n.td,{children:["Estado de pausa de staking (equivalente al retorno de ",(0,d.jsx)(n.code,{children:"isStakingPaused()"}),")"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"isStakingLimitSet"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"bool"})}),(0,d.jsx)(n.td,{children:"Si el l\xedmite de stake est\xe1 establecido o no"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"currentStakeLimit"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsxs)(n.td,{children:["L\xedmite de stake actual (equivalente al retorno de ",(0,d.jsx)(n.code,{children:"getCurrentStakeLimit()"}),")"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"maxStakeLimit"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsx)(n.td,{children:"L\xedmite m\xe1ximo de stake"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"maxStakeLimitGrowthBlocks"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsx)(n.td,{children:"Bloques necesarios para restaurar el l\xedmite m\xe1ximo de stake desde el estado completamente agotado"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"prevStakeLimit"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsx)(n.td,{children:"L\xedmite de stake alcanzado previamente"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"prevStakeBlockNumber"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsx)(n.td,{children:"N\xfamero de bloque visto previamente"})]})]})]}),"\n",(0,d.jsx)(n.h2,{id:"m\xe9todos-relacionados-con-el-dep\xf3sito",children:"M\xe9todos relacionados con el dep\xf3sito"}),"\n",(0,d.jsx)(n.h3,{id:"deposit",children:"deposit()"}),"\n",(0,d.jsxs)(n.p,{children:["Deposita ether almacenado en el buffer al m\xf3dulo del StakingRouter con el ID ",(0,d.jsx)(n.code,{children:"_stakingModuleId"}),"."]}),"\n",(0,d.jsxs)(n.p,{children:["Solo puede ser llamado por el contrato ",(0,d.jsx)(n.a,{href:"/contracts/deposit-security-module",children:"DepositSecurityModule"}),"."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function deposit(uint256 _maxDeposits, uint256 _stakingModuleId, bytes _depositCalldata)\n"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Par\xe1metro"}),(0,d.jsx)(n.th,{children:"Tipo"}),(0,d.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_maxDeposits"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsx)(n.td,{children:"N\xfamero m\xe1ximo de llamadas de dep\xf3sito"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_stakingModuleId"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsx)(n.td,{children:"ID del m\xf3dulo de staking a depositar"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_depositCalldata"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"bytes"})}),(0,d.jsx)(n.td,{children:"Calldata del m\xf3dulo"})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"getdepositableether",children:"getDepositableEther()"}),"\n",(0,d.jsx)(n.p,{children:"Devuelve la cantidad de ether disponible para depositar."}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function getDepositableEther() view returns (uint256)\n"})}),"\n",(0,d.jsx)(n.h3,{id:"candeposit",children:"canDeposit()"}),"\n",(0,d.jsxs)(n.p,{children:["Devuelve ",(0,d.jsx)(n.code,{children:"true"})," si se permite depositar ether del buffer a la capa de consenso."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function canDeposit() view returns (bool)\n"})}),"\n",(0,d.jsx)(n.h2,{id:"m\xe9todos-relacionados-con-la-contabilidad",children:"M\xe9todos relacionados con la contabilidad**"}),"\n",(0,d.jsx)(n.h3,{id:"handleoraclereport",children:"handleOracleReport()"}),"\n",(0,d.jsx)(n.p,{children:"Actualiza las estad\xedsticas contables, recolecta recompensas EL y distribuye las recompensas recolectadas si el balance del beacon aumenta, realiza la finalizaci\xf3n de las solicitudes de retiro."}),"\n",(0,d.jsxs)(n.p,{children:["Solo puede ser llamado por el contrato ",(0,d.jsx)(n.a,{href:"/contracts/accounting-oracle",children:"AccountingOracle"}),"."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function handleOracleReport(\n    uint256 _reportTimestamp,\n    uint256 _timeElapsed,\n    uint256 _clValidators,\n    uint256 _clBalance,\n    uint256 _withdrawalVaultBalance,\n    uint256 _elRewardsVaultBalance,\n    uint256 _sharesRequestedToBurn,\n    uint256[] _withdrawalFinalizationBatches,\n    uint256 _simulatedShareRate\n) returns (uint256[4] postRebaseAmounts)\n"})}),"\n",(0,d.jsx)(n.h3,{id:"handleoraclereport-1",children:"handleOracleReport()"}),"\n",(0,d.jsx)(n.p,{children:"Actualiza las estad\xedsticas contables, recolecta recompensas EL y distribuye las recompensas recolectadas si el balance del beacon aumenta, realiza la finalizaci\xf3n de las solicitudes de retiro."}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function handleOracleReport(\n    uint256 _reportTimestamp,\n    uint256 _timeElapsed,\n    uint256 _clValidators,\n    uint256 _clBalance,\n    uint256 _withdrawalVaultBalance,\n    uint256 _elRewardsVaultBalance,\n    uint256 _sharesRequestedToBurn,\n    uint256[] _withdrawalFinalizationBatches,\n    uint256 _simulatedShareRate\n) returns (uint256[4] postRebaseAmounts)\n"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Par\xe1metro"}),(0,d.jsx)(n.th,{children:"Tipo"}),(0,d.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_reportTimestamp"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsx)(n.td,{children:"Momento del c\xe1lculo del informe del or\xe1culo"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_timeElapsed"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsx)(n.td,{children:"Segundos transcurridos desde el c\xe1lculo del informe anterior"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_clValidators"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsx)(n.td,{children:"N\xfamero de validadores de Lido en la Capa de Consenso"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_clBalance"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsx)(n.td,{children:"Suma de todos los saldos de los validadores de Lido en la Capa de Consenso"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_withdrawalVaultBalance"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsx)(n.td,{children:"Saldo del vault de retiros en la Capa de Ejecuci\xf3n"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_elRewardsVaultBalance"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsx)(n.td,{children:"Saldo del vault de recompensas de la Capa de Ejecuci\xf3n"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_sharesRequestedToBurn"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsx)(n.td,{children:"Shares solicitados para quemar a trav\xe9s de Burner"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_withdrawalFinalizationBatches"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256[]"})}),(0,d.jsx)(n.td,{children:"Arreglo ordenado de forma ascendente de IDs de solicitudes de retiro a finalizar"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_simulatedShareRate"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsx)(n.td,{children:"Tasa de shares simulada por el or\xe1culo (precisi\xf3n de 1e27)"})]})]})]}),"\n",(0,d.jsx)(n.p,{children:"Devuelve un array fijo de 4 valores que representa los cambios realizados durante el informe."}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Nombre"}),(0,d.jsx)(n.th,{children:"Tipo"}),(0,d.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"postRebaseAmounts[0]"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsxs)(n.td,{children:["Cantidad de ether ",(0,d.jsx)(n.code,{children:"postTotalPooledEther"})," en el protocolo"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"postRebaseAmounts[1]"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsxs)(n.td,{children:["Cantidad de shares ",(0,d.jsx)(n.code,{children:"postTotalShares"})," en el protocolo"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"postRebaseAmounts[2]"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"withdrawals"})," retirados del vault de retiros"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"postRebaseAmounts[3]"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"elRewards"})," retirados del vault de recompensas de la Capa de Ejecuci\xf3n"]})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"gettotalpooledether",children:"getTotalPooledEther()"}),"\n",(0,d.jsx)(n.p,{children:"Devuelve la cantidad total de ether controlada por el protocolo."}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function getTotalPooledEther() view returns (uint256)\n"})}),"\n",(0,d.jsx)(n.admonition,{type:"note",children:(0,d.jsxs)(n.p,{children:["La suma de todos los saldos ETH en el protocolo, equivalente al suministro total de ",(0,d.jsx)(n.code,{children:"stETH"}),"."]})}),"\n",(0,d.jsx)(n.h3,{id:"gettotalelrewardscollected",children:"getTotalELRewardsCollected()"}),"\n",(0,d.jsx)(n.p,{children:"Devuelve la cantidad total de recompensas de la capa de ejecuci\xf3n recolectadas en el b\xfafer del contrato Lido."}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function getTotalELRewardsCollected() view returns (uint256)\n"})}),"\n",(0,d.jsx)(n.h3,{id:"getbeaconstat",children:"getBeaconStat()"}),"\n",(0,d.jsx)(n.p,{children:"Devuelve la tupla de estad\xedsticas clave relacionadas con la Beacon Chain."}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function getBeaconStat() view returns (\n    uint256 depositedValidators,\n    uint256 beaconValidators,\n    uint256 beaconBalance\n)\n"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Nombre"}),(0,d.jsx)(n.th,{children:"Tipo"}),(0,d.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"depositedValidators"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsx)(n.td,{children:"N\xfamero de validadores que han depositado alguna vez en Lido"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"beaconValidators"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsx)(n.td,{children:"N\xfamero de validadores de Lido visibles en el estado de Beacon, reportados por or\xe1culos"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"beaconBalance"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsx)(n.td,{children:"Total de ether del lado de Beacon (suma de todos los saldos de los validadores de Lido)"})]})]})]}),"\n",(0,d.jsx)(n.admonition,{type:"note",children:(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"depositedValidators"})," siempre es mayor o igual que ",(0,d.jsx)(n.code,{children:"beaconValidators"}),"."]})}),"\n",(0,d.jsx)(n.h3,{id:"receiveelrewards",children:"receiveELRewards()"}),"\n",(0,d.jsxs)(n.p,{children:["Una funci\xf3n pagable para recibir recompensas de la capa de ejecuci\xf3n.\nSolo puede ser llamada por el contrato ",(0,d.jsx)(n.a,{href:"/contracts/lido-execution-layer-rewards-vault",children:(0,d.jsx)(n.code,{children:"LidoExecutionLayerRewardsVault"})}),"."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function receiveELRewards() payable\n"})}),"\n",(0,d.jsx)(n.h3,{id:"receivewithdrawals",children:"receiveWithdrawals()"}),"\n",(0,d.jsxs)(n.p,{children:["Una funci\xf3n pagable para adquisici\xf3n de retiros. Solo puede ser llamada por ",(0,d.jsx)(n.a,{href:"/contracts/withdrawal-vault",children:(0,d.jsx)(n.code,{children:"WithdrawalVault"})}),"."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function receiveWithdrawals() payable\n"})}),"\n",(0,d.jsx)(n.h2,{id:"palancas-del-protocolo",children:"Palancas del Protocolo"}),"\n",(0,d.jsx)(n.h3,{id:"stop",children:"stop()"}),"\n",(0,d.jsx)(n.p,{children:"Detiene las operaciones rutinarias del pool."}),"\n",(0,d.jsxs)(n.p,{children:["Solo puede ser llamado por el portador del ",(0,d.jsx)(n.code,{children:"PAUSE_ROLE"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function stop()\n"})}),"\n",(0,d.jsx)(n.h3,{id:"resume",children:"resume()"}),"\n",(0,d.jsx)(n.p,{children:"Reanuda las operaciones rutinarias del pool."}),"\n",(0,d.jsxs)(n.p,{children:["Solo puede ser llamado por el portador del ",(0,d.jsx)(n.code,{children:"RESUME_ROLE"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function resume()\n"})}),"\n",(0,d.jsx)(n.h3,{id:"pausestaking",children:"pauseStaking()"}),"\n",(0,d.jsx)(n.p,{children:"Detiene la aceptaci\xf3n de nuevo ether en el protocolo."}),"\n",(0,d.jsxs)(n.p,{children:["Solo puede ser llamado por el portador del ",(0,d.jsx)(n.code,{children:"STAKING_PAUSE_ROLE"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function pauseStaking()\n"})}),"\n",(0,d.jsx)(n.admonition,{type:"note",children:(0,d.jsxs)(n.p,{children:["Mientras la aceptaci\xf3n de nuevo ether est\xe9 detenida, las llamadas a la funci\xf3n ",(0,d.jsx)(n.code,{children:"submit"}),",as\xed como a la funci\xf3n payable por defecto, revertir\xe1n."]})}),"\n",(0,d.jsx)(n.h3,{id:"resumestaking",children:"resumeStaking()"}),"\n",(0,d.jsxs)(n.p,{children:["Reanuda la aceptaci\xf3n de nuevo ether en el protocolo (si ",(0,d.jsx)(n.code,{children:"pauseStaking"})," fue llamado previamente)."]}),"\n",(0,d.jsxs)(n.p,{children:["Solo puede ser llamado por el portador del ",(0,d.jsx)(n.code,{children:"STAKING_CONTROL_ROLE"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function resumeStaking()\n"})}),"\n",(0,d.jsx)(n.admonition,{type:"note",children:(0,d.jsxs)(n.p,{children:["El staking podr\xeda estar limitado por la imposici\xf3n de un l\xedmite en la cantidad de staking en cada momento,\nver ",(0,d.jsx)(n.a,{href:"/contracts/lido#setstakinglimit",children:(0,d.jsx)(n.code,{children:"setStakingLimit()"})})," y ",(0,d.jsx)(n.a,{href:"/contracts/lido#removestakinglimit",children:(0,d.jsx)(n.code,{children:"removeStakingLimit()"})}),"."]})}),"\n",(0,d.jsx)(n.h3,{id:"setstakinglimit",children:"setStakingLimit()"}),"\n",(0,d.jsx)(n.p,{children:"Establece el l\xedmite de tasa de staking."}),"\n",(0,d.jsxs)(n.p,{children:["Solo puede ser llamado por el portador del ",(0,d.jsx)(n.code,{children:"STAKING_CONTROL_ROLE"})]}),"\n",(0,d.jsx)(n.p,{children:"Esquema de explicaci\xf3n del l\xedmite:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-txt",children:"    * \u25b2 L\xedmite de staking\n    * \u2502.....  .....   ........ ...            ....     ... L\xedmite de staking = m\xe1ximo\n    * \u2502      .       .        .   .   .      .    . . .\n    * \u2502     .       .              . .  . . .      . .\n    * \u2502            .                .  . . .\n    * \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500> Tiempo\n    * \u2502     ^      ^          ^   ^^^  ^ ^ ^     ^^^ ^     Eventos de staking\n"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function setStakingLimit(uint256 _maxStakeLimit, uint256 _stakeLimitIncreasePerBlock)\n"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Par\xe1metro"}),(0,d.jsx)(n.th,{children:"Tipo"}),(0,d.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_maxStakeLimit"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsx)(n.td,{children:"Valor m\xe1ximo del l\xedmite de staking"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_stakeLimitIncreasePerBlock"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsx)(n.td,{children:"Aumento del l\xedmite de staking por bloque"})]})]})]}),"\n",(0,d.jsxs)(n.admonition,{type:"note",children:[(0,d.jsx)(n.p,{children:"Revoca si:"}),(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"_maxStakeLimit"})," == 0"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"_maxStakeLimit"})," >= 2^96"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"_maxStakeLimit"})," < ",(0,d.jsx)(n.code,{children:"_stakeLimitIncreasePerBlock"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"_maxStakeLimit"})," / ",(0,d.jsx)(n.code,{children:"_stakeLimitIncreasePerBlock"})," >= 2^32 (solo si ",(0,d.jsx)(n.code,{children:"_stakeLimitIncreasePerBlock"})," != 0)"]}),"\n"]})]}),"\n",(0,d.jsx)(n.h3,{id:"removestakinglimit",children:"removeStakingLimit()"}),"\n",(0,d.jsx)(n.p,{children:"Elimina el l\xedmite de tasa de staking."}),"\n",(0,d.jsxs)(n.p,{children:["Solo puede ser llamado por el portador del ",(0,d.jsx)(n.code,{children:"STAKING_CONTROL_ROLE"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function removeStakingLimit()\n"})}),"\n",(0,d.jsx)(n.h3,{id:"unsafechangedepositedvalidators",children:"unsafeChangeDepositedValidators()"}),"\n",(0,d.jsx)(n.p,{children:"Cambia de manera no segura el contador de validadores depositados."}),"\n",(0,d.jsx)(n.p,{children:"El m\xe9todo cambia de manera no segura el contador de validadores depositados.\nPuede ser necesario al incorporar validadores externos a Lido (es decir, que hayan depositado antes y rotado sus credenciales de retiro de tipo-0x00 a Lido)."}),"\n",(0,d.jsxs)(n.p,{children:["Solo puede ser llamado por el portador del ",(0,d.jsx)(n.code,{children:"UNSAFE_CHANGE_DEPOSITED_VALIDATORS_ROLE"})]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Par\xe1metro"}),(0,d.jsx)(n.th,{children:"Tipo"}),(0,d.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,d.jsx)(n.tbody,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_newDepositedValidators"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsx)(n.td,{children:"Nuevo valor para el contador de validadores depositados"})]})})]}),"\n",(0,d.jsx)(n.admonition,{type:"warning",children:(0,d.jsx)(n.p,{children:"El m\xe9todo podr\xeda romper el estado interno del protocolo si se aplica incorrectamente."})}),"\n",(0,d.jsxs)(n.h2,{id:"m\xe9todos-relacionados-con-erc-20",children:["M\xe9todos relacionados con ",(0,d.jsx)(n.code,{children:"ERC-20"})]}),"\n",(0,d.jsx)(n.h3,{id:"name",children:"name()"}),"\n",(0,d.jsx)(n.p,{children:"Devuelve el nombre del token."}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function name() view returns (string)\n"})}),"\n",(0,d.jsx)(n.admonition,{type:"note",children:(0,d.jsxs)(n.p,{children:["Siempre devuelve ",(0,d.jsx)(n.code,{children:"Liquid staked Ether 2.0"}),"."]})}),"\n",(0,d.jsx)(n.h3,{id:"symbol",children:"symbol()"}),"\n",(0,d.jsx)(n.p,{children:"Devuelve el s\xedmbolo del token."}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function symbol() view returns (string)\n"})}),"\n",(0,d.jsx)(n.admonition,{type:"note",children:(0,d.jsxs)(n.p,{children:["Siempre devuelve ",(0,d.jsx)(n.code,{children:"stETH"}),"."]})}),"\n",(0,d.jsx)(n.h3,{id:"decimals",children:"decimals()"}),"\n",(0,d.jsx)(n.p,{children:"Devuelve el n\xfamero de decimales para representar la cantidad de tokens."}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function decimals() view returns (uint8)\n"})}),"\n",(0,d.jsx)(n.admonition,{type:"note",children:(0,d.jsxs)(n.p,{children:["Siempre devuelve ",(0,d.jsx)(n.code,{children:"18"}),"."]})}),"\n",(0,d.jsx)(n.h3,{id:"totalsupply",children:"totalSupply()"}),"\n",(0,d.jsx)(n.p,{children:"Devuelve el n\xfamero total de tokens en existencia."}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function totalSupply() view returns (uint256)\n"})}),"\n",(0,d.jsx)(n.admonition,{type:"note",children:(0,d.jsxs)(n.p,{children:["Siempre es igual a ",(0,d.jsx)(n.code,{children:"getTotalPooledEther()"})," ya que la cantidad de tokens est\xe1 ligada\na la cantidad total de ether controlado por el protocolo."]})}),"\n",(0,d.jsx)(n.h3,{id:"balanceof",children:"balanceOf()"}),"\n",(0,d.jsxs)(n.p,{children:["Devuelve el n\xfamero de tokens pose\xeddos por la direcci\xf3n ",(0,d.jsx)(n.code,{children:"_account"}),"."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function balanceOf(address _account) view returns (uint256)\n"})}),"\n",(0,d.jsx)(n.admonition,{type:"note",children:(0,d.jsxs)(n.p,{children:["Los saldos son din\xe1micos y representan la participaci\xf3n de ",(0,d.jsx)(n.code,{children:"_account"})," en la cantidad total de ether controlado por el protocolo. Ver ",(0,d.jsx)(n.a,{href:"/contracts/lido#sharesof",children:(0,d.jsx)(n.code,{children:"sharesOf"})}),"."]})}),"\n",(0,d.jsx)(n.h3,{id:"allowance",children:"allowance()"}),"\n",(0,d.jsxs)(n.p,{children:["Devuelve el n\xfamero restante de tokens que ",(0,d.jsx)(n.code,{children:"_spender"})," est\xe1 autorizado a gastar en nombre de ",(0,d.jsx)(n.code,{children:"_owner"})," a trav\xe9s de ",(0,d.jsx)(n.code,{children:"transferFrom()"}),". Por defecto, esto es cero."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function allowance(address _owner, address _spender) view returns (uint256)\n"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Par\xe1metro"}),(0,d.jsx)(n.th,{children:"Tipo"}),(0,d.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_owner"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"address"})}),(0,d.jsx)(n.td,{children:"Direcci\xf3n del propietario"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_spender"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"address"})}),(0,d.jsx)(n.td,{children:"Direcci\xf3n del gastador"})]})]})]}),"\n",(0,d.jsx)(n.admonition,{type:"note",children:(0,d.jsxs)(n.p,{children:["Este valor cambia cuando se llama a ",(0,d.jsx)(n.code,{children:"approve()"})," o ",(0,d.jsx)(n.code,{children:"transferFrom()"}),", a menos que la asignaci\xf3n sea infinita (2^256)."]})}),"\n",(0,d.jsx)(n.h3,{id:"approve",children:"approve()"}),"\n",(0,d.jsxs)(n.p,{children:["Establece ",(0,d.jsx)(n.code,{children:"_amount"})," como la asignaci\xf3n de ",(0,d.jsx)(n.code,{children:"_spender"})," sobre los tokens del llamador."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function approve(address _spender, uint256 _amount) returns (bool)\n"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Par\xe1metro"}),(0,d.jsx)(n.th,{children:"Tipo"}),(0,d.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_spender"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"address"})}),(0,d.jsx)(n.td,{children:"Direcci\xf3n del gastador"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_amount"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsx)(n.td,{children:"Cantidad de tokens"})]})]})]}),"\n",(0,d.jsx)(n.p,{children:"Devuelve un valor booleano que indica si la operaci\xf3n fue exitosa."}),"\n",(0,d.jsxs)(n.admonition,{type:"note",children:[(0,d.jsx)(n.p,{children:"Requisitos:"}),(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"_spender"})," no puede ser la direcci\xf3n cero."]}),"\n",(0,d.jsx)(n.li,{children:"El contrato no debe estar pausado."}),"\n"]})]}),"\n",(0,d.jsx)(n.h3,{id:"increaseallowance",children:"increaseAllowance()"}),"\n",(0,d.jsxs)(n.p,{children:["Aumenta at\xf3micamente la asignaci\xf3n otorgada a ",(0,d.jsx)(n.code,{children:"_spender"})," por el llamador en ",(0,d.jsx)(n.code,{children:"_addedValue"}),"."]}),"\n",(0,d.jsxs)(n.p,{children:["Esta es una alternativa a ",(0,d.jsx)(n.code,{children:"approve()"})," que puede ser utilizada como mitigaci\xf3n para problemas descritos ",(0,d.jsx)(n.a,{href:"https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/token/ERC20/IERC20.sol#L42",children:"aqu\xed"}),"."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function increaseAllowance(address _spender, uint256 _addedValue) returns (bool)\n"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Par\xe1metro"}),(0,d.jsx)(n.th,{children:"Tipo"}),(0,d.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_spender"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"address"})}),(0,d.jsx)(n.td,{children:"Direcci\xf3n del gastador"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_addedValue"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsx)(n.td,{children:"Cantidad de tokens para aumentar la asignaci\xf3n"})]})]})]}),"\n",(0,d.jsx)(n.p,{children:"Devuelve un valor booleano que indica si la operaci\xf3n fue exitosa."}),"\n",(0,d.jsxs)(n.admonition,{type:"note",children:[(0,d.jsx)(n.p,{children:"Requisitos:"}),(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["La direcci\xf3n ",(0,d.jsx)(n.code,{children:"_spender"})," no puede ser cero."]}),"\n",(0,d.jsx)(n.li,{children:"El contrato no debe estar pausado."}),"\n"]})]}),"\n",(0,d.jsx)(n.h3,{id:"decreaseallowance",children:"decreaseAllowance()"}),"\n",(0,d.jsxs)(n.p,{children:["Disminuye at\xf3micamente la asignaci\xf3n otorgada a ",(0,d.jsx)(n.code,{children:"_spender"})," por el llamador en ",(0,d.jsx)(n.code,{children:"_subtractedValue"}),"."]}),"\n",(0,d.jsxs)(n.p,{children:["Esta es una alternativa a ",(0,d.jsx)(n.code,{children:"approve()"})," que puede utilizarse como mitigaci\xf3n para\nlos problemas descritos ",(0,d.jsx)(n.a,{href:"https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/token/ERC20/IERC20.sol#L42",children:"aqu\xed"}),"."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function decreaseAllowance(address _spender, uint256 _subtractedValue) returns (bool)\n"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Par\xe1metro"}),(0,d.jsx)(n.th,{children:"Tipo"}),(0,d.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_spender"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"address"})}),(0,d.jsx)(n.td,{children:"Direcci\xf3n del gastador"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_subtractedValue"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsx)(n.td,{children:"Cantidad de tokens para disminuir la asignaci\xf3n"})]})]})]}),"\n",(0,d.jsx)(n.p,{children:"Devuelve un valor booleano que indica si la operaci\xf3n fue exitosa."}),"\n",(0,d.jsxs)(n.admonition,{type:"note",children:[(0,d.jsx)(n.p,{children:"Requisitos:"}),(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"_spender"})," no puede ser la direcci\xf3n cero."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"_spender"})," debe tener una asignaci\xf3n para el llamador de al menos ",(0,d.jsx)(n.code,{children:"_subtractedValue"}),"."]}),"\n",(0,d.jsx)(n.li,{children:"El contrato no debe estar pausado."}),"\n"]})]}),"\n",(0,d.jsx)(n.h3,{id:"transfer",children:"transfer()"}),"\n",(0,d.jsxs)(n.p,{children:["Transfiere ",(0,d.jsx)(n.code,{children:"_amount"})," tokens desde la cuenta del llamador a la cuenta ",(0,d.jsx)(n.code,{children:"_recipient"}),"."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function transfer(address _recipient, uint256 _amount) returns (bool)\n"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Par\xe1metro"}),(0,d.jsx)(n.th,{children:"Tipo"}),(0,d.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_recipient"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"address"})}),(0,d.jsx)(n.td,{children:"Direcci\xf3n del destinatario de tokens"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_amount"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsx)(n.td,{children:"Cantidad de tokens a transferir"})]})]})]}),"\n",(0,d.jsx)(n.p,{children:"Devuelve un valor booleano que indica si la operaci\xf3n fue exitosa."}),"\n",(0,d.jsxs)(n.admonition,{type:"note",children:[(0,d.jsx)(n.p,{children:"Requisitos:"}),(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"_recipient"})," no puede ser la direcci\xf3n cero ni el contrato stETH."]}),"\n",(0,d.jsxs)(n.li,{children:["El llamador debe tener un saldo de al menos ",(0,d.jsx)(n.code,{children:"_amount"}),"."]}),"\n",(0,d.jsx)(n.li,{children:"El contrato no debe estar pausado."}),"\n"]})]}),"\n",(0,d.jsx)(n.h3,{id:"transferfrom",children:"transferFrom()"}),"\n",(0,d.jsxs)(n.p,{children:["Transfiere ",(0,d.jsx)(n.code,{children:"_amount"})," tokens desde ",(0,d.jsx)(n.code,{children:"_sender"})," a ",(0,d.jsx)(n.code,{children:"_recipient"})," utilizando el mecanismo de asignaci\xf3n. Luego, ",(0,d.jsx)(n.code,{children:"_amount"})," se deduce de la asignaci\xf3n del llamador."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function transferFrom(\n    address _sender,\n    address _recipient,\n    uint256 _amount\n) returns (bool)\n"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Par\xe1metro"}),(0,d.jsx)(n.th,{children:"Tipo"}),(0,d.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_sender"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"address"})}),(0,d.jsx)(n.td,{children:"Direcci\xf3n del gastador"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_recipient"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"address"})}),(0,d.jsx)(n.td,{children:"Direcci\xf3n del receptor"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_amount"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsx)(n.td,{children:"Cantidad de tokens"})]})]})]}),"\n",(0,d.jsx)(n.p,{children:"Devuelve un valor booleano que indica si la operaci\xf3n fue exitosa."}),"\n",(0,d.jsxs)(n.admonition,{type:"note",children:[(0,d.jsx)(n.p,{children:"Requisitos:"}),(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"_sender"})," no puede ser la direcci\xf3n cero."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"_recipient"})," no puede ser la direcci\xf3n cero ni el contrato stETH."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"_sender"})," debe tener un saldo de al menos ",(0,d.jsx)(n.code,{children:"_amount"}),"."]}),"\n",(0,d.jsxs)(n.li,{children:["El llamador debe tener una asignaci\xf3n para los tokens de ",(0,d.jsx)(n.code,{children:"_sender"})," de al menos ",(0,d.jsx)(n.code,{children:"_amount"}),"."]}),"\n",(0,d.jsx)(n.li,{children:"El contrato no debe estar pausado."}),"\n"]})]}),"\n",(0,d.jsx)(n.h2,{id:"m\xe9todos-relacionados-con-shares",children:"M\xe9todos relacionados con Shares"}),"\n",(0,d.jsx)(n.h3,{id:"gettotalshares",children:"getTotalShares()"}),"\n",(0,d.jsx)(n.p,{children:"Devuelve la cantidad total de shares en existencia."}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function getTotalShares() view returns (uint256)\n"})}),"\n",(0,d.jsx)(n.h3,{id:"sharesof",children:"sharesOf()"}),"\n",(0,d.jsxs)(n.p,{children:["Devuelve la cantidad de shares pose\xeddos por ",(0,d.jsx)(n.code,{children:"_account"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function sharesOf(address _account) view returns (uint256)\n"})}),"\n",(0,d.jsx)(n.h3,{id:"getsharesbypooledeth",children:"getSharesByPooledEth()"}),"\n",(0,d.jsxs)(n.p,{children:["Devuelve la cantidad de shares que corresponden a ",(0,d.jsx)(n.code,{children:"_ethAmount"})," del ether controlado por el protocolo."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function getSharesByPooledEth(uint256 _ethAmount) view returns (uint256)\n"})}),"\n",(0,d.jsx)(n.h3,{id:"getpooledethbyshares",children:"getPooledEthByShares()"}),"\n",(0,d.jsxs)(n.p,{children:["Devuelve la cantidad de ether que corresponde a ",(0,d.jsx)(n.code,{children:"_sharesAmount"})," shares de tokens."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function getPooledEthByShares(uint256 _sharesAmount) view returns (uint256)\n"})}),"\n",(0,d.jsx)(n.h3,{id:"transfershares",children:"transferShares()"}),"\n",(0,d.jsx)(n.p,{children:"Transfiere shares de tokens desde la cuenta del llamador a la cuenta proporcionada."}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function transferShares(address _recipient, uint256 _sharesAmount) returns (uint256)\n"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Par\xe1metro"}),(0,d.jsx)(n.th,{children:"Tipo"}),(0,d.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_recipient"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"address"})}),(0,d.jsx)(n.td,{children:"Direcci\xf3n del receptor de shares"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_sharesAmount"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsx)(n.td,{children:"Cantidad de shares a transferir"})]})]})]}),"\n",(0,d.jsx)(n.p,{children:"Devuelve la cantidad de tokens transferidos."}),"\n",(0,d.jsxs)(n.admonition,{type:"note",children:[(0,d.jsx)(n.p,{children:"Requisitos:"}),(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"_recipient"})," no puede ser la direcci\xf3n cero ni el contrato stETH."]}),"\n",(0,d.jsxs)(n.li,{children:["El llamador debe tener al menos ",(0,d.jsx)(n.code,{children:"_sharesAmount"})," shares."]}),"\n",(0,d.jsx)(n.li,{children:"El contrato no debe estar pausado."}),"\n"]})]}),"\n",(0,d.jsx)(n.h3,{id:"transfersharesfrom",children:"transferSharesFrom()"}),"\n",(0,d.jsxs)(n.p,{children:["Transfiere ",(0,d.jsx)(n.code,{children:"_sharesAmount"})," shares de tokens desde la cuenta ",(0,d.jsx)(n.code,{children:"_sender"})," a ",(0,d.jsx)(n.code,{children:"_recipient"})," utilizando el mecanismo de asignaci\xf3n. La cantidad de tokens equivalente a ",(0,d.jsx)(n.code,{children:"_sharesAmount"})," se deduce luego de la asignaci\xf3n del llamador."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function transferSharesFrom(\n    address _sender,\n    address _recipient,\n    uint256 _sharesAmount\n) returns (uint256)\n"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Par\xe1metro"}),(0,d.jsx)(n.th,{children:"Tipo"}),(0,d.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_sender"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"address"})}),(0,d.jsx)(n.td,{children:"Direcci\xf3n del gastador"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_recipient"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"address"})}),(0,d.jsx)(n.td,{children:"Direcci\xf3n del receptor"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_sharesAmount"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsx)(n.td,{children:"Cantidad de shares a transferir"})]})]})]}),"\n",(0,d.jsx)(n.p,{children:"Devuelve la cantidad de tokens transferidos."}),"\n",(0,d.jsxs)(n.admonition,{type:"note",children:[(0,d.jsx)(n.p,{children:"Requisitos:"}),(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"_sender"})," no puede ser la direcci\xf3n cero."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"_recipient"})," no puede ser la direcci\xf3n cero ni el contrato stETH."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"_sender"})," debe tener al menos ",(0,d.jsx)(n.code,{children:"_sharesAmount"})," shares."]}),"\n",(0,d.jsxs)(n.li,{children:["El llamador debe tener una asignaci\xf3n para los tokens de ",(0,d.jsx)(n.code,{children:"_sender"})," de al menos ",(0,d.jsx)(n.code,{children:"getPooledEthByShares(_sharesAmount)"}),"."]}),"\n",(0,d.jsx)(n.li,{children:"El contrato no debe estar pausado."}),"\n"]})]}),"\n",(0,d.jsxs)(n.h2,{id:"m\xe9todos-relacionados-con-erc-2612",children:["M\xe9todos relacionados con ",(0,d.jsx)(n.code,{children:"ERC-2612"})]}),"\n",(0,d.jsx)(n.h3,{id:"nonces",children:"nonces()"}),"\n",(0,d.jsxs)(n.p,{children:["Devuelve el nonce actual para el ",(0,d.jsx)(n.code,{children:"owner"}),". Este valor debe incluirse siempre que se genere una firma para un permiso ERC-2612."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function nonces(address owner) view returns (uint256)\n"})}),"\n",(0,d.jsx)(n.h3,{id:"domain_separator",children:"DOMAIN_SEPARATOR()"}),"\n",(0,d.jsx)(n.p,{children:"Devuelve el separador de dominio utilizado en la codificaci\xf3n de la firma para el permiso ERC-2612, seg\xfan lo definido por EIP-712."}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function DOMAIN_SEPARATOR() view returns (bytes32)\n"})}),"\n",(0,d.jsx)(n.h3,{id:"permit",children:"permit()"}),"\n",(0,d.jsxs)(n.p,{children:["Establece ",(0,d.jsx)(n.code,{children:"value"})," como la asignaci\xf3n de ",(0,d.jsx)(n.code,{children:"spender"})," sobre los tokens de ",(0,d.jsx)(n.code,{children:"owner"}),", dado el permiso firmado de ",(0,d.jsx)(n.code,{children:"owner"}),"."]}),"\n",(0,d.jsx)(n.p,{children:"Emite un evento Approval."}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function permit(address owner, address spender, uint256 value, uint256 deadline, uint8 v, bytes32 r, bytes32 s)\n"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Par\xe1metro"}),(0,d.jsx)(n.th,{children:"Tipo"}),(0,d.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"owner"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"address"})}),(0,d.jsx)(n.td,{children:"Direcci\xf3n del propietario"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"spender"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"address"})}),(0,d.jsx)(n.td,{children:"Direcci\xf3n del gastador"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"value"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsx)(n.td,{children:"Asignaci\xf3n a establecer"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"deadline"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint256"})}),(0,d.jsx)(n.td,{children:"Tiempo de expiraci\xf3n del permiso"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"v"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint8"})}),(0,d.jsxs)(n.td,{children:["firma ",(0,d.jsx)(n.code,{children:"secp256k1"})," extendida"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"r"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"bytes32"})}),(0,d.jsxs)(n.td,{children:["firma ",(0,d.jsx)(n.code,{children:"secp256k1"})," extendida"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"s"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"bytes32"})}),(0,d.jsxs)(n.td,{children:["firma ",(0,d.jsx)(n.code,{children:"secp256k1"})," extendida"]})]})]})]}),"\n",(0,d.jsxs)(n.admonition,{type:"note",children:[(0,d.jsx)(n.p,{children:"Requisitos:"}),(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"spender"})," no puede ser la direcci\xf3n cero."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"deadline"})," debe ser una marca de tiempo en el futuro."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"v"}),", ",(0,d.jsx)(n.code,{children:"r"})," y ",(0,d.jsx)(n.code,{children:"s"})," deben ser una firma ",(0,d.jsx)(n.code,{children:"secp256k1"})," v\xe1lida de ",(0,d.jsx)(n.code,{children:"owner"}),"\nsobre los argumentos de funci\xf3n formateados seg\xfan EIP712."]}),"\n",(0,d.jsxs)(n.li,{children:["La firma debe usar el nonce actual de ",(0,d.jsx)(n.code,{children:"owner"})," (ver ",(0,d.jsx)(n.code,{children:"nonces"}),")."]}),"\n"]})]}),"\n",(0,d.jsxs)(n.h2,{id:"m\xe9todos-relacionados-con-erc-712",children:["M\xe9todos relacionados con ",(0,d.jsx)(n.code,{children:"ERC-712"})]}),"\n",(0,d.jsx)(n.h3,{id:"eip712domain",children:"eip712Domain()"}),"\n",(0,d.jsx)(n.p,{children:"Devuelve los campos y valores que describen el separador de dominio utilizado por este contrato para EIP-712"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function eip712Domain() view returns (\n    string name,\n    string version,\n    uint256 chainId,\n    address verifyingContract\n)\n"})}),"\n",(0,d.jsx)(n.h2,{id:"m\xe9todos-generales",children:"M\xe9todos Generales"}),"\n",(0,d.jsx)(n.h3,{id:"getlidolocator",children:"getLidoLocator()"}),"\n",(0,d.jsxs)(n.p,{children:["Devuelve la direcci\xf3n de ",(0,d.jsx)(n.a,{href:"/contracts/lido-locator",children:"LidoLocator"}),"."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function getLidoLocator() view returns (address)\n"})}),"\n",(0,d.jsx)(n.h3,{id:"getcontractversion",children:"getContractVersion()"}),"\n",(0,d.jsx)(n.p,{children:"Devuelve la versi\xf3n actual del contrato."}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function getContractVersion() view returns (uint256)\n"})}),"\n",(0,d.jsx)(n.admonition,{type:"note",children:(0,d.jsxs)(n.p,{children:["Siempre devuelve ",(0,d.jsx)(n.code,{children:"2"}),"."]})}),"\n",(0,d.jsx)(n.h3,{id:"transfertovault",children:"transferToVault()"}),"\n",(0,d.jsx)(n.p,{children:"Sobrescribe el comportamiento predeterminado de AragonApp para evitar la recuperaci\xf3n."}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sol",children:"function transferToVault(address _token)\n"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Par\xe1metro"}),(0,d.jsx)(n.th,{children:"Tipo"}),(0,d.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,d.jsx)(n.tbody,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"_token"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"address"})}),(0,d.jsx)(n.td,{children:"Token a enviar al dep\xf3sito de recuperaci\xf3n"})]})})]}),"\n",(0,d.jsx)(n.admonition,{type:"note",children:(0,d.jsxs)(n.p,{children:["Siempre revierte con el motivo ",(0,d.jsx)(n.code,{children:"NOT_SUPPORTED"})]})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(t,{...e})}):t(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>l});var d=s(6540);const r={},i=d.createContext(r);function a(e){const n=d.useContext(i);return d.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),d.createElement(i.Provider,{value:n},e.children)}}}]);