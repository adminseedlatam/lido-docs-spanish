<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-guías/validator-ejector-guide" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Validator Ejector | Lido Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://adminseedlatam.github.io/guías/validator-ejector-guide"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Validator Ejector | Lido Docs"><meta data-rh="true" name="description" content="Introducción"><meta data-rh="true" property="og:description" content="Introducción"><link data-rh="true" rel="canonical" href="https://adminseedlatam.github.io/guías/validator-ejector-guide"><link data-rh="true" rel="alternate" href="https://adminseedlatam.github.io/guías/validator-ejector-guide" hreflang="en"><link data-rh="true" rel="alternate" href="https://adminseedlatam.github.io/guías/validator-ejector-guide" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.4b5e42a6.css">
<script src="/assets/js/runtime~main.952f20aa.js" defer="defer"></script>
<script src="/assets/js/main.7bea6c5b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Lido Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Lido Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Lido Docs</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/adminseedlatam/lido-docs-spanish" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Introducción</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lido-dao">Lido DAO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/guías/lido-tokens-integration-guide">Guía de integración de tokens de Lido</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/guías/node-operators/general-overview">Guías</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/guías/node-operators/general-overview">Node Operators</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guías/oracle-operator-manual">Manual del Operador del Oráculo</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/guías/oracle-spec/accounting-oracle">Oracle specification</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guías/deposit-security-manual">Comité de Seguridad de Depósitos: Manual</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/guías/tooling">Tooling</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/guías/tooling">Resumen de Herramientas</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/guías/validator-ejector-guide">Validator Ejector</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/guías/kapi-guide">Keys API</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guías/multisig-deployment">Despliegue de Multisig</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guías/protocol-levers">Palancas del Protocolo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guías/etherscan-voting">Votación en la DAO con Etherscan</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guías/easy-track-guide">Guía para Easy Track</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guías/address-ownership-guide">Verificación de propiedad de dirección para operaciones del Lido DAO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guías/multisig-signer-manual">Guía para ser un firmante en cualquier multisig del Lido DAO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guías/checking-aragon-vote">Verificación del script EVM desde el voto de Aragon</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guías/checking-gnosis-safe">Cómo verificar que el multisig es uno de Gnosis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guías/1inch-pool-rewards">Cómo reclamar recompensas del pool 1inch stETH/LDO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guías/early-staker-airdrop">Cómo reclamar el airdrop para los primeros stakers de Lido (LDO)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guías/jumpgates">Cómo transferir tokens a través de Jumpgate</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guías/verify-lido-v2-upgrade-manual">Parámetros de Lido V2 en la red principal</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/integrations/api">Integrations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/guías-token/steth-superuser-functions">Guías Token</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/contracts/lido-locator">Contracts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/security/bugbounty">Security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/deployed-contracts/">Deployed contracts</a><button aria-label="Expand sidebar category &#x27;Deployed contracts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/multisigs/emergency-brakes">Multisigs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ipfs/about">IPFS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/staking-modules/csm/intro">Staking Modules</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Guías</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Tooling</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Validator Ejector</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Validator Ejector</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introducción">Introducción<a class="hash-link" aria-label="Direct link to Introducción" title="Direct link to Introducción" href="/guías/validator-ejector-guide#introducción">​</a></h2>
<p>Ejector es un servicio daemon que monitorea los eventos de <a href="https://github.com/lidofinance/lido-dao/blob/feature/shapella-upgrade/contracts/0.8.9/oracle/ValidatorsExitBusOracle.sol" target="_blank" rel="noopener noreferrer">ValidatorsExitBusOracle</a> y envía mensajes de salida almacenados cuando es necesario. Permite a los Node Operators generar y firmar mensajes de salida con anticipación, los cuales serán enviados por Ejector cuando el Protocolo solicite realizar una salida.</p>
<p>Al iniciar, carga los mensajes de salida desde una carpeta especificada en forma de archivos individuales <code>.json</code> y valida su formato, estructura y firma. Luego, carga eventos de una cantidad configurable de bloques finalizados más recientes, verifica si se deben realizar salidas y periódicamente obtiene eventos frescos.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="requisitos">Requisitos<a class="hash-link" aria-label="Direct link to Requisitos" title="Direct link to Requisitos" href="/guías/validator-ejector-guide#requisitos">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hardware">Hardware<a class="hash-link" aria-label="Direct link to Hardware" title="Direct link to Hardware" href="/guías/validator-ejector-guide#hardware">​</a></h3>
<ul>
<li>CPU de 2 núcleos</li>
<li>1GB de RAM</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="nodos">Nodos<a class="hash-link" aria-label="Direct link to Nodos" title="Direct link to Nodos" href="/guías/validator-ejector-guide#nodos">​</a></h3>
<ul>
<li>Nodo de Ejecución - <a href="https://ethereum.org/en/developers/docs/nodes-and-clients/#node-types" target="_blank" rel="noopener noreferrer">Se requiere un nodo completo</a></li>
<li>Nodo de Consenso</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="software">Software<a class="hash-link" aria-label="Direct link to Software" title="Direct link to Software" href="/guías/validator-ejector-guide#software">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="utilizando-docker">Utilizando Docker:<a class="hash-link" aria-label="Direct link to Utilizando Docker:" title="Direct link to Utilizando Docker:" href="/guías/validator-ejector-guide#utilizando-docker">​</a></h4>
<p>Docker + docker-compose.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ejecutando-directamente-o-para-encriptación-de-mensajes">Ejecutando directamente o para encriptación de mensajes:<a class="hash-link" aria-label="Direct link to Ejecutando directamente o para encriptación de mensajes:" title="Direct link to Ejecutando directamente o para encriptación de mensajes:" href="/guías/validator-ejector-guide#ejecutando-directamente-o-para-encriptación-de-mensajes">​</a></h4>
<p>Node.js 16.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="mensajes-de-salida">Mensajes de Salida<a class="hash-link" aria-label="Direct link to Mensajes de Salida" title="Direct link to Mensajes de Salida" href="/guías/validator-ejector-guide#mensajes-de-salida">​</a></h2>
<p>Ejector carga y valida los mensajes de salida al inicio. Esto significa que cualquier cambio en la carpeta de mensajes (por ejemplo, nuevos mensajes de salida) requiere un reinicio de la aplicación para ser detectado.</p>
<p>Ejector acepta mensajes en tres formatos:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="formato-genérico">Formato Genérico<a class="hash-link" aria-label="Direct link to Formato Genérico" title="Direct link to Formato Genérico" href="/guías/validator-ejector-guide#formato-genérico">​</a></h3>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;message&quot;: { &quot;epoch&quot;: &quot;123&quot;, &quot;validator_index&quot;: &quot;123&quot; },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;signature&quot;: &quot;0x123&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="formato-de-salida-de-ethdo">Formato de Salida de ethdo<a class="hash-link" aria-label="Direct link to Formato de Salida de ethdo" title="Direct link to Formato de Salida de ethdo" href="/guías/validator-ejector-guide#formato-de-salida-de-ethdo">​</a></h3>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;exit&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;message&quot;: { &quot;epoch&quot;: &quot;123&quot;, &quot;validator_index&quot;: &quot;123&quot; },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;signature&quot;: &quot;0x123&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;fork_version&quot;: &quot;0x123&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="formato-encriptado">Formato Encriptado<a class="hash-link" aria-label="Direct link to Formato Encriptado" title="Direct link to Formato Encriptado" href="/guías/validator-ejector-guide#formato-encriptado">​</a></h3>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;version&quot;: 4,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;uuid&quot;: &quot;123abc-123abc-123abc&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;path&quot;: &quot;&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;pubkey&quot;: &quot;&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;crypto&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;kdf&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;function&quot;: &quot;pbkdf2&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;params&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;dklen&quot;: 123,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;c&quot;: 123,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;prf&quot;: &quot;hmac-sha256&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;salt&quot;: &quot;123abc&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;message&quot;: &quot;&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;checksum&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;function&quot;: &quot;sha256&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;params&quot;: {},</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;message&quot;: &quot;123abc&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;cipher&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;function&quot;: &quot;aes-128-ctr&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;params&quot;: { &quot;iv&quot;: &quot;123abc&quot; },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;message&quot;: &quot;123abc&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="encriptación-de-mensajes">Encriptación de Mensajes<a class="hash-link" aria-label="Direct link to Encriptación de Mensajes" title="Direct link to Encriptación de Mensajes" href="/guías/validator-ejector-guide#encriptación-de-mensajes">​</a></h2>
<p>Se recomienda encarecidamente que después de generar y firmar los mensajes de salida, se encripten para la seguridad del almacenamiento. Ejector descifrará los archivos al inicio buscando la contraseña en la variable de entorno <code>MESSAGES_PASSWORD</code>.</p>
<p>Los mensajes de salida se encriptan y descifran siguiendo la especificación <a href="https://github.com/ethereum/EIPs/blob/master/EIPS/eip-2335.md" target="_blank" rel="noopener noreferrer">EIP-2335</a>.</p>
<p>Ejector incluye un pequeño y fácil de usar script de encriptación.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="encriptación-usando-ejector---código-fuente">Encriptación usando Ejector - Código Fuente<a class="hash-link" aria-label="Direct link to Encriptación usando Ejector - Código Fuente" title="Direct link to Encriptación usando Ejector - Código Fuente" href="/guías/validator-ejector-guide#encriptación-usando-ejector---código-fuente">​</a></h3>
<ol>
<li>Clonar el repositorio:</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">git clone https://github.com/lidofinance/validator-ejector.git</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cd validator-ejector</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>Crear el archivo <code>.env</code> con la contraseña de encriptación o pasarla antes del comando:</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">MESSAGES_PASSWORD=password</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="3">
<li>Copiar los archivos JSON de mensajes de salida a <code>encryptor/input</code></li>
<li>Ejecutar <code>yarn &amp; yarn encrypt</code></li>
<li>Los archivos de mensajes de salida encriptados se guardarán en <code>encryptor/output</code></li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="encriptación-usando-ejector---docker">Encriptación usando Ejector - Docker<a class="hash-link" aria-label="Direct link to Encriptación usando Ejector - Docker" title="Direct link to Encriptación usando Ejector - Docker" href="/guías/validator-ejector-guide#encriptación-usando-ejector---docker">​</a></h3>
<p>Ejector incluye un script de encriptación dentro, por lo que se puede ejecutar usando la misma imagen Docker:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker run \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">		-e MESSAGES_PASSWORD=secret \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">		-v /full/path/to/input:/app/encryptor/input/ \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">		-v /full/path/to/output:/app/encryptor/output/ \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">		lidofinance/validator-ejector@sha256:&lt;hash&gt; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">		node /app/dist/encryptor/encrypt.js</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Puedes encontrar el hash de la versión recomendada <a href="/guías/tooling">aquí</a>.</p>
<p>Para plataformas con una arquitectura diferente pero con soporte de emulación/transpilación como macOS en procesadores M, especifica adicionalmente:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">--platform linux/amd64</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="variables-de-entorno">Variables de Entorno<a class="hash-link" aria-label="Direct link to Variables de Entorno" title="Direct link to Variables de Entorno" href="/guías/validator-ejector-guide#variables-de-entorno">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="execution_node">EXECUTION_NODE<a class="hash-link" aria-label="Direct link to EXECUTION_NODE" title="Direct link to EXECUTION_NODE" href="/guías/validator-ejector-guide#execution_node">​</a></h3>
<p>Dirección del Nodo de Ejecución.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="consensus_node">CONSENSUS_NODE<a class="hash-link" aria-label="Direct link to CONSENSUS_NODE" title="Direct link to CONSENSUS_NODE" href="/guías/validator-ejector-guide#consensus_node">​</a></h3>
<p>Dirección del Nodo de Consenso.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="locator_address">LOCATOR_ADDRESS<a class="hash-link" aria-label="Direct link to LOCATOR_ADDRESS" title="Direct link to LOCATOR_ADDRESS" href="/guías/validator-ejector-guide#locator_address">​</a></h3>
<p>Dirección del contrato <a href="https://github.com/lidofinance/lido-dao/blob/feature/shapella-upgrade/contracts/0.8.9/LidoLocator.sol" target="_blank" rel="noopener noreferrer">LidoLocator</a>: <a href="https://docs.lido.fi/deployed-contracts/holesky" target="_blank" rel="noopener noreferrer">Holešky</a> / <a href="https://docs.lido.fi/deployed-contracts/" target="_blank" rel="noopener noreferrer">Mainnet</a></p>
<h1>STAKING_MODULE_ID</h1>
<p>ID del contrato StakingRouter: <a href="https://github.com/lidofinance/lido-dao/blob/feature/shapella-upgrade/contracts/0.8.9/StakingRouter.sol" target="_blank" rel="noopener noreferrer">StakingRouter.sol</a>. Actualmente, solo tiene un módulo (<a href="https://github.com/lidofinance/lido-dao/blob/feature/shapella-upgrade/contracts/0.4.24/nos/NodeOperatorsRegistry.sol" target="_blank" rel="noopener noreferrer">NodeOperatorsRegistry</a>), cuyo ID es <code>1</code>.</p>
<h1>OPERATOR_ID</h1>
<p>Puedes encontrar este ID en el Panel de Operadores (<code>#123</code> en la tarjeta del operador): <a href="https://operators-holesky.testnet.fi" target="_blank" rel="noopener noreferrer">Holešky</a> / <a href="https://operators.lido.fi" target="_blank" rel="noopener noreferrer">Mainnet</a>.</p>
<h1>MESSAGES_LOCATION</h1>
<p>Ubicación desde la cual cargar los mensajes de salida en formato <code>.json</code>.</p>
<p>Cuando se establece, activa el modo de mensajes. No es necesario si estás utilizando Ejector en modo webhook.</p>
<p>Por ejemplo, <code>/messages</code> en Docker o simplemente <code>messages</code> si se ejecuta directamente para archivos locales.</p>
<p>También se admite la URL de un bucket de almacenamiento externo para AWS S3 y Google Cloud Storage:</p>
<ul>
<li><code>s3://</code> para S3</li>
<li><code>gs://</code> para GCS</li>
</ul>
<p>Configuración de autenticación: <a href="https://cloud.google.com/docs/authentication/application-default-credentials#attached-sa" target="_blank" rel="noopener noreferrer">GCS</a>, <a href="https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/setting-credentials-node.html" target="_blank" rel="noopener noreferrer">S3</a>.</p>
<h1>VALIDATOR_EXIT_WEBHOOK</h1>
<p>Endpoint al cual hacer una solicitud cuando se requiere una salida. Permite implementar un enfoque Just-in-Time (JIT) descargando la lógica de salida a un servicio externo y utilizando Ejector como lector seguro de eventos de salida.</p>
<p>Cuando se establece, activa el modo webhook. No es necesario si estás utilizando Ejector en modo mensajes.</p>
<p>En el endpoint, se realizará un POST de JSON con la siguiente estructura:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;validatorIndex&quot;: &quot;123&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;validatorPubkey&quot;: &quot;0x123&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Se considerará una salida exitosa si la respuesta es 200, y como fallida si no lo es.</p>
<h1>ORACLE_ADDRESSES_ALLOWLIST</h1>
<p>Un array JSON de direcciones de oráculos de Lido, de las cuales solo se aceptarán transacciones de informe.</p>
<p>Puedes obtener una lista desde Etherscan en <a href="https://holesky.etherscan.io/address/0xa067FC95c22D51c3bC35fd4BE37414Ee8cc890d2#readContract#F16" target="_blank" rel="noopener noreferrer">Holešky</a> o <a href="https://etherscan.io/address/0xD624B08C83bAECF0807Dd2c6880C3154a5F0B288#readContract#F16" target="_blank" rel="noopener noreferrer">Mainnet</a>.</p>
<p>Formato:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[&quot;0x123&quot;, &quot;0x123&quot;]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>MESSAGES_PASSWORD</h1>
<p>Contraseña para descifrar los mensajes de salida encriptados al inicio de la aplicación.</p>
<h1>MESSAGES_PASSWORD_FILE</h1>
<p>Alternativa a <code>MESSAGES_PASSWORD</code>. Ruta a un archivo con la contraseña dentro para descifrar los mensajes de salida. Si se utiliza, <code>MESSAGES_PASSWORD</code> (no <code>MESSAGES_PASSWORD_FILE</code>) debe agregarse a <code>LOGGER_SECRETS</code> para que se oculte.</p>
<h1>BLOCKS_PRELOAD</h1>
<p>Cantidad de bloques desde los cuales cargar eventos al iniciar.</p>
<p>Se sugiere incluirlo en tus variables de entorno, pero dejar el valor predeterminado de 50000 (~7 días de bloques).</p>
<p>En caso de una emergencia que requiera que Ejector esté inactivo, este valor puede ajustarse para permitir cargar una cantidad mayor de bloques al inicio.</p>
<h1>HTTP_PORT</h1>
<p>Puerto para servir métricas y un punto de verificación de salud. El valor predeterminado es 8989.</p>
<h1>RUN_METRICS</h1>
<p>Habilita con <code>true</code> para servir métricas de Prometheus: <a href="https://github.com/lidofinance/validator-ejector#metrics" target="_blank" rel="noopener noreferrer">lista completa</a>.</p>
<p>Se servirá en <code>HOST:$HTTP_PORT/metrics</code>.</p>
<p>Altamente recomendado para monitoreo y alertas.</p>
<h1>RUN_HEALTH_CHECK</h1>
<p>Habilitado por defecto, deshabilitado con <code>false</code>. Altamente recomendado para monitorear este endpoint.</p>
<p>Se servirá en <code>HOST:$HTTP_PORT/health</code>.</p>
<h1>LOGGER_LEVEL</h1>
<p>Recomendado establecerlo en <code>info</code> (predeterminado), puede cambiarse a <code>debug</code> en caso de problemas para facilitar la depuración.</p>
<h1>LOGGER_FORMAT</h1>
<p>Formato de los logs, por defecto es <code>simple</code>, pero puede establecerse en <code>json</code> para que sea fácilmente interpretable por <a href="https://github.com/grafana/loki" target="_blank" rel="noopener noreferrer">Loki</a>, por ejemplo.</p>
<h1>LOGGER_SECRETS</h1>
<p>Nombres de variables de entorno o valores exactos que deben reemplazarse en los logs, en formato de array JSON de cadenas.</p>
<p>Se recomienda incluir tu <code>MESSAGES_PASSWORD</code>, <code>EXECUTION_NODE</code>, y <code>CONSENSUS_NODE</code>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[&quot;MESSAGES_PASSWORD&quot;, &quot;EXECUTION_NODE&quot;, &quot;CONSENSUS_NODE&quot;]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Asegúrate de copiar correctamente las comillas si copias este ejemplo.</p>
<h1>DRY_RUN</h1>
<p>Permite probar la aplicación con <code>true</code> sin enviar realmente mensajes de salida.</p>
<p>¡Úsalo con precaución!</p>
<p>Asegúrate de establecerlo en <code>false</code> o de eliminarlo completamente en producción.</p>
<h1>Parámetros Avanzados</h1>
<p>Por favor, no los utilices a menos que lo sugiera un contribuidor de Lido.</p>
<ul>
<li>BLOCKS_LOOP - 900 (3 horas de bloques) - Cantidad de bloques que Ejector observa en trabajos de sondeo al despertar.</li>
<li>JOB_INTERVAL - 384000 (1 epoch) - Tiempo que Ejector duerme entre trabajos.</li>
<li>DISABLE_SECURITY_DONT_USE_IN_PRODUCTION - false - Establecer en <code>true</code> para omitir controles de seguridad, por ejemplo, si el contrato de Consenso de Bus de Salida fue cambiado después de que Ejector no pudiera salir de los validadores, por ejemplo, si fue desactivado.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ejecución">Ejecución<a class="hash-link" aria-label="Direct link to Ejecución" title="Direct link to Ejecución" href="/guías/validator-ejector-guide#ejecución">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="código-fuente">Código Fuente<a class="hash-link" aria-label="Direct link to Código Fuente" title="Direct link to Código Fuente" href="/guías/validator-ejector-guide#código-fuente">​</a></h3>
<ol>
<li>Clona el repositorio:</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">git clone https://github.com/lidofinance/validator-ejector.git</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cd validator-ejector</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>Crea una carpeta de mensajes de salida, por ejemplo, localmente <code>mkdir messages</code>.</li>
<li>Coloca los archivos de mensajes de salida en la carpeta de mensajes.</li>
<li>Copia el archivo de ejemplo de env: <code>cp sample.env .env</code>.</li>
<li>Llena las variables de entorno en el archivo <code>.env</code>.</li>
<li>Ejecuta:</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">yarn</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">yarn build</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">yarn start</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-con-docker-compose">Docker con docker-compose<a class="hash-link" aria-label="Direct link to Docker con docker-compose" title="Direct link to Docker con docker-compose" href="/guías/validator-ejector-guide#docker-con-docker-compose">​</a></h3>
<ol>
<li>Crea una carpeta raíz para Ejector, y entra en esa carpeta.</li>
<li>Crea una carpeta de mensajes de salida <code>mkdir messages</code>.</li>
<li>Coloca los archivos de mensajes de salida en la carpeta de mensajes.</li>
<li>Copia el archivo de env: <code>cp sample.env .env</code>.</li>
<li>Crea un archivo <code>docker-compose.yml</code> utilizando la siguiente plantilla:</li>
</ol>
<p><a href="https://github.com/lidofinance/validator-ejector/blob/develop/docker-compose.yml" target="_blank" rel="noopener noreferrer">https://github.com/lidofinance/validator-ejector/blob/develop/docker-compose.yml</a></p>
<ol start="6">
<li>Ejecuta <code>docker-compose up</code> o <code>docker-compose up -d</code> para iniciar en modo desacoplado (en segundo plano).</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="verificación-de-que-ejector-está-funcionando">Verificación de que Ejector está funcionando<a class="hash-link" aria-label="Direct link to Verificación de que Ejector está funcionando" title="Direct link to Verificación de que Ejector está funcionando" href="/guías/validator-ejector-guide#verificación-de-que-ejector-está-funcionando">​</a></h2>
<ol>
<li>Asegúrate de que no haya errores en los logs y de que no haya reinicios.</li>
<li>Verifica que la configuración registrada al inicio sea correcta en los logs.</li>
<li>Si has colocado mensajes prefirmados en la carpeta de mensajes, asegúrate de que el recuento de mensajes cargados sea mayor que <code>0</code>.</li>
<li>Asegúrate de ver líneas como <code>Job started</code> y <code>Job finished</code> en los logs.</li>
</ol>
<p>Ejemplo de logs de operación correcta:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">info: Application started, version 1.0.0 {&quot;EXECUTION_NODE&quot;:&quot;&lt;secret&gt;&quot;,&quot;CONSENSUS_NODE&quot;:&quot;&lt;secret&gt;&quot;,&quot;LOCATOR_ADDRESS&quot;:&quot;0x123&quot;,&quot;STAKING_MODULE_ID&quot;:&quot;1&quot;,&quot;OPERATOR_ID&quot;:&quot;0&quot;,&quot;MESSAGES_LOCATION&quot;:&quot;messages&quot;,&quot;ORACLE_ADDRESSES_ALLOWLIST&quot;:[&quot;0x123&quot;],&quot;MESSAGES_PASSWORD&quot;:&quot;&lt;secret&gt;&quot;,&quot;BLOCKS_PRELOAD&quot;:190000,&quot;BLOCKS_LOOP&quot;:64,&quot;JOB_INTERVAL&quot;:384000,&quot;HTTP_PORT&quot;:8989,&quot;RUN_METRICS&quot;:true,&quot;RUN_HEALTH_CHECK&quot;:true,&quot;DRY_RUN&quot;:false}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">info: Loading messages from messages</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">info: Loaded 123 messages</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">info: Validating messages</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">info: Starting, searching only for requests for operator 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">info: Loading initial events for 190000 last blocks</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">info: Job started {&quot;operatorId&quot;:&quot;0&quot;,&quot;stakingModuleId&quot;:&quot;1&quot;,&quot;loadedMessages&quot;:123}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">info: Resolved Exit Bus contract address using the Locator {&quot;exitBusAddress&quot;:&quot;0x123&quot;}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">info: Resolved Consensus contract address {&quot;consensusAddress&quot;:&quot;0x123&quot;}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">info: Fetched the latest block from EL {&quot;latestBlock&quot;:12345}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">info: Fetching request events from the Exit Bus {&quot;eventsNumber&quot;:190000,&quot;fromBlock&quot;:12345,&quot;toBlock&quot;:12345}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">info</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">: Loaded ValidatorExitRequest events {&quot;amount&quot;:0}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">info: Handling ejection requests {&quot;amount&quot;:0}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">info: Job finished</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">info: Starting 384 seconds polling for 64 last blocks</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="qué-hacer-si-algo-está-mal">¿Qué hacer si algo está mal?<a class="hash-link" aria-label="Direct link to ¿Qué hacer si algo está mal?" title="Direct link to ¿Qué hacer si algo está mal?" href="/guías/validator-ejector-guide#qué-hacer-si-algo-está-mal">​</a></h2>
<ol>
<li>Asegúrate de que la configuración sea correcta.</li>
<li>Asegúrate de estar usando el hash SHA o la versión recomendada de la imagen Docker.</li>
<li>Verifica que los nodos estén sincronizados y funcionando correctamente.</li>
<li>Reinicia la aplicación.</li>
<li>Inicia la aplicación con la variable de entorno <code>LOGGER_LEVEL=debug</code> y contacta a los desarrolladores de Lido con los logs para investigar el problema.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="recursos-adicionales">Recursos Adicionales<a class="hash-link" aria-label="Direct link to Recursos Adicionales" title="Direct link to Recursos Adicionales" href="/guías/validator-ejector-guide#recursos-adicionales">​</a></h2>
<p>Repositorio GitHub de Validator Ejector (Open Source)
<a href="https://github.com/lidofinance/validator-ejector" target="_blank" rel="noopener noreferrer">https://github.com/lidofinance/validator-ejector</a></p>
<p>Retiros de Lido: Automatización de Salidas de Validador - algunas partes pueden estar desactualizadas
<a href="https://hackmd.io/@lido/BkxRxAr-o" target="_blank" rel="noopener noreferrer">https://hackmd.io/@lido/BkxRxAr-o</a></p>
<p>Especificación de la Lógica de Ejector - algunas partes pueden estar desactualizadas
<a href="https://hackmd.io/@lido/r1KZ4YNdj" target="_blank" rel="noopener noreferrer">https://hackmd.io/@lido/r1KZ4YNdj</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/adminseedlatam/lido-docs-spanish/edit/main/docs/guías/validator-ejector-guide.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/guías/tooling"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Resumen de Herramientas</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/guías/kapi-guide"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Keys API</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/guías/validator-ejector-guide#introducción">Introducción</a></li><li><a class="table-of-contents__link toc-highlight" href="/guías/validator-ejector-guide#requisitos">Requisitos</a><ul><li><a class="table-of-contents__link toc-highlight" href="/guías/validator-ejector-guide#hardware">Hardware</a></li><li><a class="table-of-contents__link toc-highlight" href="/guías/validator-ejector-guide#nodos">Nodos</a></li><li><a class="table-of-contents__link toc-highlight" href="/guías/validator-ejector-guide#software">Software</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/guías/validator-ejector-guide#mensajes-de-salida">Mensajes de Salida</a><ul><li><a class="table-of-contents__link toc-highlight" href="/guías/validator-ejector-guide#formato-genérico">Formato Genérico</a></li><li><a class="table-of-contents__link toc-highlight" href="/guías/validator-ejector-guide#formato-de-salida-de-ethdo">Formato de Salida de ethdo</a></li><li><a class="table-of-contents__link toc-highlight" href="/guías/validator-ejector-guide#formato-encriptado">Formato Encriptado</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/guías/validator-ejector-guide#encriptación-de-mensajes">Encriptación de Mensajes</a><ul><li><a class="table-of-contents__link toc-highlight" href="/guías/validator-ejector-guide#encriptación-usando-ejector---código-fuente">Encriptación usando Ejector - Código Fuente</a></li><li><a class="table-of-contents__link toc-highlight" href="/guías/validator-ejector-guide#encriptación-usando-ejector---docker">Encriptación usando Ejector - Docker</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/guías/validator-ejector-guide#variables-de-entorno">Variables de Entorno</a><ul><li><a class="table-of-contents__link toc-highlight" href="/guías/validator-ejector-guide#execution_node">EXECUTION_NODE</a></li><li><a class="table-of-contents__link toc-highlight" href="/guías/validator-ejector-guide#consensus_node">CONSENSUS_NODE</a></li><li><a class="table-of-contents__link toc-highlight" href="/guías/validator-ejector-guide#locator_address">LOCATOR_ADDRESS</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/guías/validator-ejector-guide#ejecución">Ejecución</a><ul><li><a class="table-of-contents__link toc-highlight" href="/guías/validator-ejector-guide#código-fuente">Código Fuente</a></li><li><a class="table-of-contents__link toc-highlight" href="/guías/validator-ejector-guide#docker-con-docker-compose">Docker con docker-compose</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/guías/validator-ejector-guide#verificación-de-que-ejector-está-funcionando">Verificación de que Ejector está funcionando</a></li><li><a class="table-of-contents__link toc-highlight" href="/guías/validator-ejector-guide#qué-hacer-si-algo-está-mal">¿Qué hacer si algo está mal?</a></li><li><a class="table-of-contents__link toc-highlight" href="/guías/validator-ejector-guide#recursos-adicionales">Recursos Adicionales</a></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>