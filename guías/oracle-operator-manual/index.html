<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-guías/oracle-operator-manual" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Manual del Operador del Oráculo | Lido Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://adminseedlatam.github.io/guías/oracle-operator-manual"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Manual del Operador del Oráculo | Lido Docs"><meta data-rh="true" name="description" content="Este documento está destinado a aquellos que desean participar en el protocolo Lido como entidad que ejecuta un demonio para sincronizar el estado desde la Capa Beacon hasta la Capa de Ejecución del protocolo. Debido a la falta de comunicación nativa entre estas dos redes, Lido emplea una red de oráculos para sincronizar el sistema en intervalos regulares."><meta data-rh="true" property="og:description" content="Este documento está destinado a aquellos que desean participar en el protocolo Lido como entidad que ejecuta un demonio para sincronizar el estado desde la Capa Beacon hasta la Capa de Ejecución del protocolo. Debido a la falta de comunicación nativa entre estas dos redes, Lido emplea una red de oráculos para sincronizar el sistema en intervalos regulares."><link data-rh="true" rel="canonical" href="https://adminseedlatam.github.io/guías/oracle-operator-manual"><link data-rh="true" rel="alternate" href="https://adminseedlatam.github.io/guías/oracle-operator-manual" hreflang="en"><link data-rh="true" rel="alternate" href="https://adminseedlatam.github.io/guías/oracle-operator-manual" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.4b5e42a6.css">
<script src="/assets/js/runtime~main.8203f56c.js" defer="defer"></script>
<script src="/assets/js/main.7bea6c5b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Lido Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Lido Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Lido Docs</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/adminseedlatam/lido-docs-spanish" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Introducción</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lido-dao">Lido DAO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/guías/lido-tokens-integration-guide">Guía de integración de tokens de Lido</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/guías/node-operators/general-overview">Guías</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/guías/node-operators/general-overview">Node Operators</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/guías/oracle-operator-manual">Manual del Operador del Oráculo</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/guías/oracle-spec/accounting-oracle">Oracle specification</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guías/deposit-security-manual">Comité de Seguridad de Depósitos: Manual</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/guías/tooling">Tooling</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guías/multisig-deployment">Despliegue de Multisig</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guías/protocol-levers">Palancas del Protocolo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guías/etherscan-voting">Votación en la DAO con Etherscan</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guías/easy-track-guide">Guía para Easy Track</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guías/address-ownership-guide">Verificación de propiedad de dirección para operaciones del Lido DAO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guías/multisig-signer-manual">Guía para ser un firmante en cualquier multisig del Lido DAO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guías/checking-aragon-vote">Verificación del script EVM desde el voto de Aragon</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guías/checking-gnosis-safe">Cómo verificar que el multisig es uno de Gnosis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guías/1inch-pool-rewards">Cómo reclamar recompensas del pool 1inch stETH/LDO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guías/early-staker-airdrop">Cómo reclamar el airdrop para los primeros stakers de Lido (LDO)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guías/jumpgates">Cómo transferir tokens a través de Jumpgate</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guías/verify-lido-v2-upgrade-manual">Parámetros de Lido V2 en la red principal</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/integrations/api">Integrations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/guías-token/steth-superuser-functions">Guías Token</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/contracts/lido-locator">Contracts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/security/bugbounty">Security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/deployed-contracts/">Deployed contracts</a><button aria-label="Expand sidebar category &#x27;Deployed contracts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/multisigs/emergency-brakes">Multisigs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ipfs/about">IPFS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/staking-modules/csm/intro">Staking Modules</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Guías</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Manual del Operador del Oráculo</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Manual del Operador del Oráculo</h1>
<p>Este documento está destinado a aquellos que desean participar en el protocolo Lido como entidad que ejecuta un demonio para sincronizar el estado desde la Capa Beacon hasta la Capa de Ejecución del protocolo. Debido a la falta de comunicación nativa entre estas dos redes, Lido emplea una red de oráculos para sincronizar el sistema en intervalos regulares.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="tldr">TL;DR<a class="hash-link" aria-label="Direct link to TL;DR" title="Direct link to TL;DR" href="/guías/oracle-operator-manual#tldr">​</a></h2>
<ol>
<li>Genera una dirección Ethereum.</li>
<li>Inicia y sincroniza un nodo de Capa de Ejecución (archivado durante al menos 2 semanas) con el endpoint JSON-RPC habilitado.</li>
<li>Inicia y sincroniza un nodo de Capa de Consenso (archivado) con el endpoint de API habilitado.</li>
<li>Inicia el servicio de la API de Keys.</li>
<li>Inicia los módulos de contabilidad y ejector del Oráculo.</li>
<li><strong>Opcional:</strong> Añade alertas a las métricas de Prometheus del Oráculo.</li>
<li>En caso de mainnet, comparte tu dirección e intención de unirte al conjunto del Oráculo de forma pública. Debes publicarlo en Twitter y también escribir un mensaje con el enlace de Twitter bajo la publicación de Onboarding en <a href="https://research.lido.fi/" target="_blank" rel="noopener noreferrer">el foro de Investigación</a>.</li>
<li>Proporciona tu dirección Ethereum del Oráculo al equipo de Lido para que vote por agregar tu dirección al conjunto de miembros del Oráculo.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introducción">Introducción<a class="hash-link" aria-label="Direct link to Introducción" title="Direct link to Introducción" href="/guías/oracle-operator-manual#introducción">​</a></h2>
<p>El mecanismo Oráculo de Lido comprende tres componentes principales. El primer componente es el conjunto de contratos inteligentes de Oráculo, que recibe informes de actualización de los oráculos y los transmite al contrato Lido para ejecutar las acciones necesarias basadas en los cambios reportados. El segundo componente es el demonio oráculo fuera de la cadena, ejecutado por cada nodo oráculo y responsable de monitorear el estado del protocolo y generar informes de actualización. El tercer componente es la red de nodos informáticos que ejecutan los miembros del oráculo, que proporcionan colectivamente la información necesaria para que el contrato inteligente Oráculo calcule el nuevo estado del protocolo.</p>
<p>Basándose en los informes de actualización recibidos de los oráculos, el contrato inteligente Lido realiza transiciones de estado como actualizar los saldos de los usuarios, procesar solicitudes de retiro y distribuir recompensas a los operadores de nodos. Así, el mecanismo Oráculo de Lido actúa como un dispositivo de sincronización que conecta el protocolo a través de las capas de ejecución y consenso. Garantiza que el protocolo se actualice de manera oportuna y precisa, permitiendo el funcionamiento fluido y eficiente de todo el sistema Lido.</p>
<p>Los dos contratos principales en el suite Oráculo de Lido se llaman <a href="/contracts/accounting-oracle">AccountingOráculo</a> y <a href="/contracts/validators-exit-bus-oracle">ValidatorsExitBus</a>. Juntos, estos contratos recopilan información presentada por los oráculos sobre el estado de los validadores y sus saldos, la cantidad de fondos acumulados en las bóvedas del protocolo, el número de solicitudes de retiro que el protocolo puede procesar y los validadores que se espera que salgan voluntariamente para finalizar más solicitudes de retiro. Esta información se utiliza luego para procesos cruciales como:</p>
<ul>
<li>Rebasar los saldos de los usuarios.</li>
<li>Distribuir recompensas a los operadores de nodos.</li>
<li>Procesar solicitudes de retiro.</li>
<li>Decidir qué validadores deben iniciar la salida voluntaria.</li>
<li>Distribuir la participación.</li>
<li>Poner el protocolo en modo búnker.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="fases-del-oráculo">Fases del Oráculo<a class="hash-link" aria-label="Direct link to Fases del Oráculo" title="Direct link to Fases del Oráculo" href="/guías/oracle-operator-manual#fases-del-oráculo">​</a></h2>
<p>Para enviar los datos del informe por parte del operador del oráculo tanto a <code>AccountingOráculo</code> como a <code>ValidatorsExitBusOráculo</code>, es necesario que:</p>
<ul>
<li>Este operador participe en el comité del oráculo, y</li>
<li>Se debe alcanzar un consenso para el informe correspondiente.</li>
</ul>
<p>El proceso de enviar los datos del informe se puede dividir en 3 etapas principales:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="fase-1-envío-de-un-hash-de-informe-y-alcanzar-consenso">Fase 1. Envío de un hash de informe y alcanzar consenso<a class="hash-link" aria-label="Direct link to Fase 1. Envío de un hash de informe y alcanzar consenso" title="Direct link to Fase 1. Envío de un hash de informe y alcanzar consenso" href="/guías/oracle-operator-manual#fase-1-envío-de-un-hash-de-informe-y-alcanzar-consenso">​</a></h3>
<p>En la primera etapa, los operadores del oráculo recopilan un informe para un determinado <code>refSlot</code> y envían el hash al contrato <code>HashConsensus</code>.</p>
<p>El diagrama siguiente muestra:
<code>ReportProcessor</code> - Contrato <code>AccountingOráculo</code> o <code>ValidatorsExitBusOráculo</code>.
<code>HashConsensus</code> - Un contrato que gestiona el comité de miembros del oráculo y permite a los miembros alcanzar consenso sobre el hash de datos particular para cada marco de informe.</p>
<p>Puedes leer más sobre <code>HashConsensus</code> <a href="/contracts/hash-consensus">aquí</a>.</p>
<!-- -->
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="fase-2-envío-de-datos-del-informe">Fase 2. Envío de datos del informe<a class="hash-link" aria-label="Direct link to Fase 2. Envío de datos del informe" title="Direct link to Fase 2. Envío de datos del informe" href="/guías/oracle-operator-manual#fase-2-envío-de-datos-del-informe">​</a></h3>
<p>Cuando se alcanza el consenso, uno de los operadores del oráculo envía los datos del informe y activa la actualización del estado central del protocolo (incluido el rebase del token, la distribución de recompensas a los operadores de nodos, la finalización de solicitudes de retiro y la decisión de entrar en el modo búnker) o emite eventos <code>ValidatorExitRequest</code> para informar a los operadores de nodos sobre las nuevas solicitudes de salida voluntaria necesarias para realizar.</p>
<!-- -->
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="fase-3-envío-de-datos-adicionales-del-informe">Fase 3. Envío de datos adicionales del informe<a class="hash-link" aria-label="Direct link to Fase 3. Envío de datos adicionales del informe" title="Direct link to Fase 3. Envío de datos adicionales del informe" href="/guías/oracle-operator-manual#fase-3-envío-de-datos-adicionales-del-informe">​</a></h3>
<p>Este paso es necesario para <code>AccountingOráculo</code>, que implica la distribución de recompensas para módulos de staking en esta fase.</p>
<!-- -->
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="membresía-del-comité">Membresía del Comité<a class="hash-link" aria-label="Direct link to Membresía del Comité" title="Direct link to Membresía del Comité" href="/guías/oracle-operator-manual#membresía-del-comité">​</a></h2>
<p>El conjunto actual de Oráculo consta de 9 participantes:</p>
<ul>
<li>Chorus One <code>0x140bd8fbdc884f48da7cb1c09be8a2fadfea776e</code></li>
<li>Staking Facilities <code>0x404335bce530400a5814375e7ec1fb55faff3ea2</code></li>
<li>stakefish <code>0x946d3b081ed19173dc83cd974fc69e1e760b7d78</code></li>
<li>P2P Validator <code>0x007de4a5f7bc37e2f26c0cb2e8a95006ee9b89b5</code></li>
<li>Rated <a href="https://research.lido.fi/t/expansion-of-lidos-ethereum-Or%C3%A1culo-set/2836/49" target="_blank" rel="noopener noreferrer">0xec4bfbaf681eb505b94e4a7849877dc6c600ca3a</a></li>
<li>bloXroute <a href="https://research.lido.fi/t/expansion-of-lidos-ethereum-Or%C3%A1culo-set/2836/54" target="_blank" rel="noopener noreferrer">0x61c91ECd902EB56e314bB2D5c5C07785444Ea1c8</a></li>
<li>Instadapp <a href="https://research.lido.fi/t/expansion-of-lidos-ethereum-Or%C3%A1culo-set/2836/53" target="_blank" rel="noopener noreferrer">0x1ca0fec59b86f549e1f1184d97cb47794c8af58d</a></li>
<li>Kyber Network <a href="https://research.lido.fi/t/expansion-of-lidos-ethereum-Or%C3%A1culo-set/2836/52" target="_blank" rel="noopener noreferrer">0xA7410857ABbf75043d61ea54e07D57A6EB6EF186</a></li>
<li>ChainLayer <a href="https://research.lido.fi/t/expansion-of-lidos-ethereum-Or%C3%A1culo-set/2836/69" target="_blank" rel="noopener noreferrer">0xc79F702202E3A6B0B6310B537E786B9ACAA19BAf</a></li>
</ul>
<p>El quórum es 5/9. Esto significa que la finalización del informe solo puede ocurrir cuando hay 5 informes idénticos de 5 miembros de oráculos diferentes.</p>
<p>Consulta <a href="https://research.lido.fi/t/expansion-of-lidos-ethereum-Or%C3%A1culo-set/2836" target="_blank" rel="noopener noreferrer">Expansion of Lido on Ethereum Oráculo set</a> para más detalles.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="requisitos-previos">Requisitos Previos<a class="hash-link" aria-label="Direct link to Requisitos Previos" title="Direct link to Requisitos Previos" href="/guías/oracle-operator-manual#requisitos-previos">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="nodo-cliente-de-ejecución">Nodo Cliente de Ejecución<a class="hash-link" aria-label="Direct link to Nodo Cliente de Ejecución" title="Direct link to Nodo Cliente de Ejecución" href="/guías/oracle-operator-manual#nodo-cliente-de-ejecución">​</a></h3>
<p>Para preparar el informe, el Oráculo recupera hasta 10 días de eventos antigu</p>
<p>os, realiza solicitudes históricas de datos de saldo y genera informes simulados en bloques históricos. Esto requiere un nodo de ejecución archivado con al menos dos semanas de datos archivados.</p>
<table><thead><tr><th>Cliente</th><th>Probado</th><th>Notas</th></tr></thead><tbody><tr><td><a href="https://geth.ethereum.org/" target="_blank" rel="noopener noreferrer">Geth</a></td><td></td><td><code>--gcmode=archive</code> <br> <code>--syncmode=snap</code> <br><br>O<br><br><code>--gcmode=archive</code><br><code>--syncmode=full</code></td></tr><tr><td><a href="https://nethermind.io/" target="_blank" rel="noopener noreferrer">Nethermind</a></td><td></td><td>No probado aún</td></tr><tr><td><a href="https://besu.hyperledger.org/en/stable/" target="_blank" rel="noopener noreferrer">Besu</a></td><td></td><td>Usar <br> <code>--rpc-max-logs-range=100000</code> <br> <code>--sync-mode=FULL</code> <br> <code>--data-storage-format=&quot;FOREST&quot;</code> <br> <code>--pruning-enabled</code> <br><code>--pruning-blocks-retained=100000</code> <br> parámetros</td></tr><tr><td><a href="https://github.com/ledgerwatch/erigon" target="_blank" rel="noopener noreferrer">Erigon</a></td><td></td><td>Usar <br> <code>--prune=htc</code> <br> <code>--prune.h.before=100000</code> <br> <code>--prune.t.before=100000</code> <br> <code>--prune.c.before=100000</code> <br> parámetros</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="nodo-cliente-de-consenso">Nodo Cliente de Consenso<a class="hash-link" aria-label="Direct link to Nodo Cliente de Consenso" title="Direct link to Nodo Cliente de Consenso" href="/guías/oracle-operator-manual#nodo-cliente-de-consenso">​</a></h3>
<p>Para calcular algunas métricas para el modo búnker, Oráculo necesita un nodo de consenso archivado.</p>
<table><thead><tr><th>Cliente</th><th>Probado</th><th>Notas</th></tr></thead><tbody><tr><td><a href="https://lighthouse.sigmaprime.io/" target="_blank" rel="noopener noreferrer">Lighthouse</a></td><td></td><td>Usar el parámetro <code>--reconstruct-historic-states</code>.</td></tr><tr><td><a href="https://nethermind.io/" target="_blank" rel="noopener noreferrer">Lodestar</a></td><td></td><td>No probado aún</td></tr><tr><td><a href="https://nimbus.guide/quick-start.html" target="_blank" rel="noopener noreferrer">Nimbus</a></td><td></td><td>No probado aún</td></tr><tr><td><a href="https://github.com/ledgerwatch/erigon" target="_blank" rel="noopener noreferrer">Prysm</a></td><td></td><td>Usar <br> <code>--grpc-max-msg-size=104857600</code> <br> <code>--enable-historical-state-representation=true</code> <br> <code>--slots-per-archive-point=1024</code> <br> parámetros</td></tr><tr><td><a href="https://docs.teku.consensys.net" target="_blank" rel="noopener noreferrer">Teku</a></td><td></td><td>Usar <br> <code>--data-storage-mode=archive</code> <br><code>--data-storage-archive-frequency=1024</code><br> <code>--reconstruct-historic-states=true</code><br> parámetros</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="servicio-de-api-de-keys">Servicio de API de Keys<a class="hash-link" aria-label="Direct link to Servicio de API de Keys" title="Direct link to Servicio de API de Keys" href="/guías/oracle-operator-manual#servicio-de-api-de-keys">​</a></h3>
<p>Este es un servicio separado que utiliza el cliente de ejecución para recuperar todas las claves de Lido. Almacena el estado más reciente de las claves de Lido en la base de datos.</p>
<p><a href="https://github.com/lidofinance/lido-keys-api" target="_blank" rel="noopener noreferrer">Repositorio de Lido Keys API</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="el-daemon-del-oráculo">El daemon del Oráculo<a class="hash-link" aria-label="Direct link to El daemon del Oráculo" title="Direct link to El daemon del Oráculo" href="/guías/oracle-operator-manual#el-daemon-del-oráculo">​</a></h2>
<p>El daemon Oráculo es una aplicación en Python que contiene dos módulos:</p>
<ul>
<li>Módulo de contabilidad</li>
<li>Módulo ejector</li>
</ul>
<p>El código fuente del Oráculo está disponible en <a href="https://github.com/lidofinance/lido-Or%C3%A1culo" target="_blank" rel="noopener noreferrer">https://github.com/lidofinance/lido-Oráculo</a>.</p>
<p>Los módulos obtienen el slot reportable, y si este slot está finalizado, calculan y envían el informe a los contratos inteligentes AccountingOráculo y ExitBusOráculo.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="variables-de-entorno">Variables de entorno<a class="hash-link" aria-label="Direct link to Variables de entorno" title="Direct link to Variables de entorno" href="/guías/oracle-operator-manual#variables-de-entorno">​</a></h3>
<p>El daemon Oráculo requiere las siguientes variables de entorno:</p>
<p><strong>Requeridas</strong></p>
<ul>
<li><code>EXECUTION_CLIENT_URI</code> - lista de URI del cliente de ejecución separados por coma. El segundo y siguientes URI se usarán como respaldo.</li>
<li><code>CONSENSUS_CLIENT_URI</code> - lista de URI del cliente de consenso separados por coma. El segundo y siguientes URI se usarán como respaldo.</li>
<li><code>KEYS_API_URI</code> - lista de URI del cliente de API de Keys separados por coma. El segundo y siguientes URI se usarán como respaldo.</li>
<li><code>LIDO_LOCATOR_ADDRESS</code> - dirección del contrato inteligente Lido Locator.</li>
</ul>
<p><strong>Opcional</strong></p>
<p><strong>Uno de:</strong></p>
<ul>
<li><code>MEMBER_PRIV_KEY</code> - Clave privada de la cuenta de miembro del Oráculo.</li>
<li><code>MEMBER_PRIV_KEY_FILE</code> - Ruta al archivo que contiene la clave privada de la cuenta de miembro del Oráculo.</li>
</ul>
<p>Se puede encontrar una lista completa <a href="https://github.com/lidofinance/lido-Or%C3%A1culo#env-variables" target="_blank" rel="noopener noreferrer">aquí</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dirección-del-lido-locator">Dirección del Lido Locator<a class="hash-link" aria-label="Direct link to Dirección del Lido Locator" title="Direct link to Dirección del Lido Locator" href="/guías/oracle-operator-manual#dirección-del-lido-locator">​</a></h3>
<p><strong>Mainnet</strong>
<strong><a href="https://etherscan.io/address/0xC1d0b3DE6792Bf6b4b37EccdcC24e45978Cfd2Eb" target="_blank" rel="noopener noreferrer">0xC1d0b3DE6792Bf6b4b37EccdcC24e45978Cfd2Eb</a></strong></p>
<p><strong>Holešky</strong>
<strong><a href="https://holesky.etherscan.io/address/0x28FAB2059C713A7F9D8c86Db49f9bb0e96Af1ef8" target="_blank" rel="noopener noreferrer">0x28FAB2059C713A7F9D8c86Db49f9bb0e96Af1ef8</a></strong></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ejecución-del-daemon">Ejecución del daemon<a class="hash-link" aria-label="Direct link to Ejecución del daemon" title="Direct link to Ejecución del daemon" href="/guías/oracle-operator-manual#ejecución-del-daemon">​</a></h3>
<p>Iniciar el módulo de contabilidad</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker run -d --name lido-Oráculo-accounting \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --env &quot;EXECUTION_CLIENT_URI=$EXECUTION_CLIENT_URI&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --env &quot;CONSENSUS_CLIENT_URI=$CONSENSUS_CLIENT_URI&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --env &quot;KEYS_API_URI=$KEYS_API_URI&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --env &quot;LIDO_LOCATOR_ADDRESS=$LOCATOR_ADDRESS&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --env &quot;MEMBER_PRIV_KEY=$MEMBER_PRIV_KEY&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  lidofinance/Oráculo@&lt;hash de la imagen&gt; accounting</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Iniciar el módulo ejector</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker run -d --name lido-Oráculo-ejector \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --env &quot;EXECUTION_CLIENT_URI=$EXECUTION_CLIENT_URI&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --env &quot;CONSENSUS_CLIENT_URI=$CONSENSUS_CLIENT_URI&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --env &quot;KEYS_API_URI=$KEYS_API_URI&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --env &quot;LIDO_LOCATOR_ADDRESS=$LOCATOR_ADDRESS&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --env &quot;MEMBER_PRIV_KEY=$MEMBER_PRIV_KEY&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  lidofinance/Oráculo@&lt;hash de la imagen&gt; ejector</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Hash de la imagen más reciente</strong>
<a href="https://docs.lido.fi/guides/tooling/#Or%C3%A1culo" target="_blank" rel="noopener noreferrer">https://docs.lido.fi/guías/tooling/#Oráculo</a></p>
<p>Esto iniciará el Oráculo en modo daemon. También puedes ejecutarlo en modo puntual, por ejemplo, si prefieres activar la ejecución del Oráculo como un trabajo <code>cron</code>. En este caso, establece la variable de entorno <code>DAEMON</code> en 0.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="métricas-y-alertas">Métricas y Alertas<a class="hash-link" aria-label="Direct link to Métricas y Alertas" title="Direct link to Métricas y Alertas" href="/guías/oracle-operator-manual#métricas-y-alertas">​</a></h3>
<p>Cómo configurar alertas y detalles sobre métricas se pueden encontrar <a href="https://github.com/lidofinance/lido-Or%C3%A1culo#alerts" target="_blank" rel="noopener noreferrer">aquí</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/adminseedlatam/lido-docs-spanish/edit/main/docs/guías/oracle-operator-manual.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/guías/node-operators/exits/tooling-setup"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Configuración y Configuración de Herramientas</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/guías/oracle-spec/accounting-oracle"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Oráculo contable</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/guías/oracle-operator-manual#tldr">TL;DR</a></li><li><a class="table-of-contents__link toc-highlight" href="/guías/oracle-operator-manual#introducción">Introducción</a></li><li><a class="table-of-contents__link toc-highlight" href="/guías/oracle-operator-manual#fases-del-oráculo">Fases del Oráculo</a><ul><li><a class="table-of-contents__link toc-highlight" href="/guías/oracle-operator-manual#fase-1-envío-de-un-hash-de-informe-y-alcanzar-consenso">Fase 1. Envío de un hash de informe y alcanzar consenso</a></li><li><a class="table-of-contents__link toc-highlight" href="/guías/oracle-operator-manual#fase-2-envío-de-datos-del-informe">Fase 2. Envío de datos del informe</a></li><li><a class="table-of-contents__link toc-highlight" href="/guías/oracle-operator-manual#fase-3-envío-de-datos-adicionales-del-informe">Fase 3. Envío de datos adicionales del informe</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/guías/oracle-operator-manual#membresía-del-comité">Membresía del Comité</a></li><li><a class="table-of-contents__link toc-highlight" href="/guías/oracle-operator-manual#requisitos-previos">Requisitos Previos</a><ul><li><a class="table-of-contents__link toc-highlight" href="/guías/oracle-operator-manual#nodo-cliente-de-ejecución">Nodo Cliente de Ejecución</a></li><li><a class="table-of-contents__link toc-highlight" href="/guías/oracle-operator-manual#nodo-cliente-de-consenso">Nodo Cliente de Consenso</a></li><li><a class="table-of-contents__link toc-highlight" href="/guías/oracle-operator-manual#servicio-de-api-de-keys">Servicio de API de Keys</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/guías/oracle-operator-manual#el-daemon-del-oráculo">El daemon del Oráculo</a><ul><li><a class="table-of-contents__link toc-highlight" href="/guías/oracle-operator-manual#variables-de-entorno">Variables de entorno</a></li><li><a class="table-of-contents__link toc-highlight" href="/guías/oracle-operator-manual#dirección-del-lido-locator">Dirección del Lido Locator</a></li><li><a class="table-of-contents__link toc-highlight" href="/guías/oracle-operator-manual#ejecución-del-daemon">Ejecución del daemon</a></li><li><a class="table-of-contents__link toc-highlight" href="/guías/oracle-operator-manual#métricas-y-alertas">Métricas y Alertas</a></li></ul></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>