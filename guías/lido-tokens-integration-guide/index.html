<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-guías/lido-tokens-integration-guide" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Guía de integración de tokens de Lido | Lido Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://adminseedlatam.github.io/lido-docs-spanish/guías/lido-tokens-integration-guide"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Guía de integración de tokens de Lido | Lido Docs"><meta data-rh="true" name="description" content="Este documento está destinado a desarrolladores interesados en integrar los tokens stETH o wstETH de Lido en sus dApps o servicios, con un enfoque en mercados de dinero, DEXes y puentes blockchain."><meta data-rh="true" property="og:description" content="Este documento está destinado a desarrolladores interesados en integrar los tokens stETH o wstETH de Lido en sus dApps o servicios, con un enfoque en mercados de dinero, DEXes y puentes blockchain."><link data-rh="true" rel="icon" href="/lido-docs-spanish/img/favicon-32x32.png"><link data-rh="true" rel="canonical" href="https://adminseedlatam.github.io/lido-docs-spanish/guías/lido-tokens-integration-guide"><link data-rh="true" rel="alternate" href="https://adminseedlatam.github.io/lido-docs-spanish/guías/lido-tokens-integration-guide" hreflang="en"><link data-rh="true" rel="alternate" href="https://adminseedlatam.github.io/lido-docs-spanish/guías/lido-tokens-integration-guide" hreflang="x-default"><link rel="stylesheet" href="/lido-docs-spanish/assets/css/styles.4b5e42a6.css">
<script src="/lido-docs-spanish/assets/js/runtime~main.92d34c25.js" defer="defer"></script>
<script src="/lido-docs-spanish/assets/js/main.251271b9.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/lido-docs-spanish/"><div class="navbar__logo"><img src="/lido-docs-spanish/img/logo.svg" alt="Lido Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/lido-docs-spanish/img/logo.svg" alt="Lido Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Lido Docs</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/adminseedlatam/lido-docs-spanish" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lido-docs-spanish/">Introducción</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lido-docs-spanish/lido-dao">Lido DAO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/lido-docs-spanish/guías/lido-tokens-integration-guide">Guía de integración de tokens de Lido</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/lido-docs-spanish/guías/node-operators/general-overview">Guías</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/lido-docs-spanish/integrations/api">Integrations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/lido-docs-spanish/guías-token/steth-superuser-functions">Guías Token</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/lido-docs-spanish/contracts/lido-locator">Contracts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/lido-docs-spanish/security/bugbounty">Security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/lido-docs-spanish/deployed-contracts/">Deployed contracts</a><button aria-label="Expand sidebar category &#x27;Deployed contracts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/lido-docs-spanish/multisigs/emergency-brakes">Multisigs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/lido-docs-spanish/ipfs/about">IPFS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/lido-docs-spanish/staking-modules/csm/intro">Staking Modules</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/lido-docs-spanish/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Guía de integración de tokens de Lido</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Guía de integración de tokens de Lido</h1>
<p>Este documento está destinado a desarrolladores interesados en integrar los tokens stETH o wstETH de Lido en sus dApps o servicios, con un enfoque en mercados de dinero, DEXes y puentes blockchain.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>La integración puede implementarse a nivel de contratos inteligentes (on-chain) o utilizando el <a href="/lido-docs-spanish/integrations/sdk#lido-ethereum-sdk">Lido Ethereum SDK</a> (off-chain).</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="lido">Lido<a class="hash-link" aria-label="Direct link to Lido" title="Direct link to Lido" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#lido">​</a></h2>
<p>Lido es una familia de protocolos de participación líquida en múltiples blockchains, con sede en Ethereum.
El término &quot;líquido&quot; se refiere a la capacidad del stake del usuario para convertirse en líquido. Al depositar, Lido emite el stToken, que representa los tokens depositados junto con todas las recompensas y penalizaciones acumuladas por el staking del depósito. A diferencia de los fondos congelados, este stToken es líquido: puede transferirse libremente entre partes, lo que lo hace utilizable en diferentes aplicaciones DeFi y aún así recibir recompensas de staking diarias. Es fundamental preservar esta propiedad al integrar stTokens en cualquier protocolo DeFi.</p>
<p>Esta guía se refiere a Lido en Ethereum (en adelante, Lido).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="tokens-de-lido">Tokens de Lido<a class="hash-link" aria-label="Direct link to Tokens de Lido" title="Direct link to Tokens de Lido" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#tokens-de-lido">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sttokens-steth-y-wsteth">stTokens: stETH y wstETH<a class="hash-link" aria-label="Direct link to stTokens: stETH y wstETH" title="Direct link to stTokens: stETH y wstETH" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#sttokens-steth-y-wsteth">​</a></h3>
<p>Hacer staking de ether con Lido proporciona una cantidad equivalente de <a href="/lido-docs-spanish/guías/lido-tokens-integration-guide#steth">stETH</a>.
El balance de stETH del usuario representa la cantidad de ether que se puede retirar directamente del protocolo Lido.</p>
<p>Para integraciones DeFi más simples, <code>stETH</code> tiene un valor no rebaseable que aumenta (no rebaseable) llamado <a href="/lido-docs-spanish/guías/lido-tokens-integration-guide#wsteth">&#x27;wrapped stETH&#x27;</a>
(o simplemente <code>wstETH</code>).</p>
<p>Los stTokens compatibles con ERC-20 de Lido son ampliamente adoptados en el ecosistema Ethereum:</p>
<ul>
<li>Los lugares de <a href="https://dune.com/lido/wsteth-liquidity" target="_blank" rel="noopener noreferrer">liquidez más importantes on-chain</a> incluyen:<!-- -->
<ul>
<li><a href="https://curve.fi/#/ethereum/pools/steth" target="_blank" rel="noopener noreferrer">Pool de liquidez stETH/ETH en Curve</a></li>
<li><a href="https://app.uniswap.org/explore/pools/ethereum/0x109830a1AAaD605BbF02a9dFA7B0B92EC2FB7dAa" target="_blank" rel="noopener noreferrer">Pool wstETH/ETH en Uniswap V3</a></li>
<li><a href="https://app.balancer.fi/#/ethereum/pool/0x93d199263632a4ef4bb438f1feb99e57b4b5f0bd0000000000000000000005c2" target="_blank" rel="noopener noreferrer">Pool estable componible wstETH/ETH en Balancer v2</a></li>
</ul>
</li>
<li>wstETH está listado como token colateral en los siguientes mercados de AAVE v3:<!-- -->
<ul>
<li><a href="https://app.aave.com/reserve-overview/?underlyingAsset=0x7f39c581f595b53c5cb19bd0b3f8da6c935e2ca0&amp;marketName=proto_mainnet_v3" target="_blank" rel="noopener noreferrer">Mainnet de Ethereum</a></li>
<li><a href="https://app.aave.com/reserve-overview/?underlyingAsset=0x5979d7b546e38e414f7e9822514be443a4800529&amp;marketName=proto_arbitrum_v3" target="_blank" rel="noopener noreferrer">Arbitrum</a></li>
<li><a href="https://app.aave.com/reserve-overview/?underlyingAsset=0xf610a9dfb7c89644979b4a0f27063e9e7d7cda32&amp;marketName=proto_scroll_v3" target="_blank" rel="noopener noreferrer">Scroll</a></li>
<li><a href="https://app.aave.com/reserve-overview/?underlyingAsset=0xc1cba3fcea344f92d9239c08c0568f6f2f0ee452&amp;marketName=proto_base_v3" target="_blank" rel="noopener noreferrer">Base</a></li>
<li><a href="https://app.aave.com/reserve-overview/?underlyingAsset=0x1f32b1c2345538c0c6f582fcb022739c4a194ebb&amp;marketName=proto_optimism_v3" target="_blank" rel="noopener noreferrer">Optimism</a></li>
<li><a href="https://app.aave.com/reserve-overview/?underlyingAsset=0x03b54a6e9a984069379fae1a4fc4dbae93b3bccd&amp;marketName=proto_polygon_v3" target="_blank" rel="noopener noreferrer">Polygon PoS</a></li>
</ul>
</li>
<li>wstETH está <a href="https://daistats.com/#/collateral" target="_blank" rel="noopener noreferrer">listado como token colateral en Maker</a></li>
<li>hay varios proyectos <a href="https://app.mellow.finance/restake" target="_blank" rel="noopener noreferrer">Mellow LRT</a> construidos sobre (w)stETH</li>
<li>stETH está listado como token colateral en el mercado AAVE v2 <a href="https://app.aave.com/reserve-overview/?underlyingAsset=0xae7ab96520de3a18e5e111b5eaab095312d7fe84&amp;marketName=proto_mainnet" target="_blank" rel="noopener noreferrer">Mainnet de Ethereum</a></li>
<li>steCRV (el token LP de Curve stETH/ETH) está <a href="https://daistats.com/#/collateral" target="_blank" rel="noopener noreferrer">listado como token colateral en Maker</a></li>
<li>Blast L2 integró <a href="https://docs.blastfutures.com/get-started/introduction/what-is-blast#how-blast-works" target="_blank" rel="noopener noreferrer">stETH</a> como ether rebaseable (siendo stakeado implícitamente como parte del flujo de puenteo de ether de L1 a L2)</li>
<li>existen múltiples estrategias de liquidez construidas sobre los stTokens de Lido, incluyendo <a href="https://yearn.fi/vaults/1/0xdCD90C7f6324cfa40d7169ef80b12031770B4325" target="_blank" rel="noopener noreferrer">Yearn</a> y <a href="https://harvest.finance/" target="_blank" rel="noopener noreferrer">Harvest Finance</a></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="utilidades-de-integración-feeds-de-tasa-y-precio">Utilidades de integración: Feeds de tasa y precio<a class="hash-link" aria-label="Direct link to Utilidades de integración: Feeds de tasa y precio" title="Direct link to Utilidades de integración: Feeds de tasa y precio" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#utilidades-de-integración-feeds-de-tasa-y-precio">​</a></h4>
<p>El sentimiento actual para los mercados de dinero e integraciones DeFi en general es considerar que los Tokens de Stake Líquido están respaldados por sus tasas de cambio nativas frente a ETH.
Este enfoque implica un invariante de precios de 1 stETH = 1 ETH que se debe utilizar.</p>
<p>Las aplicaciones del mundo real incluyen <a href="https://github.com/bgd-labs/aave-proposals/blob/main/src/AaveV2-V3PriceFeedsUpdate_20230613/PRICE-FEEDS-UPDATE-20230613.md#motivation" target="_blank" rel="noopener noreferrer">AAVE v3</a>
y enfoques de precios <a href="https://etherscan.io/address/0x1Dc89c28e59d142688D65Bd7b22C4Fd40C2cC06d" target="_blank" rel="noopener noreferrer">Mellow LRT</a>.</p>
<p>Hay feeds de tasa <code>wstETH/stETH</code> disponibles para usar en conjunto con (w)stETH:</p>
<ul>
<li><a href="https://etherscan.io/address/0x94336dF517036f2Bf5c620a1BC75a73A37b7bb16#readContract" target="_blank" rel="noopener noreferrer">Ethereum Mainnet</a></li>
<li><a href="https://data.chain.link/feeds/arbitrum/mainnet/wsteth-steth%20exchangerate" target="_blank" rel="noopener noreferrer">Arbitrum</a></li>
<li><a href="https://data.chain.link/feeds/optimism/mainnet/wsteth-steth%20exchangerate" target="_blank" rel="noopener noreferrer">Optimism</a></li>
<li><a href="https://data.chain.link/feeds/scroll/mainnet/wsteth-steth%20exchangerate" target="_blank" rel="noopener noreferrer">Scroll</a></li>
<li><a href="https://data.chain.link/feeds/base/base/wsteth-steth%20exchangerate" target="_blank" rel="noopener noreferrer">Base</a></li>
<li><a href="https://data.chain.link/feeds/polygon/mainnet/wsteth-steth" target="_blank" rel="noopener noreferrer">Polygon PoS</a></li>
<li><a href="https://data.chain.link/feeds/zksync/zksync/wsteth-steth%20exchangerate" target="_blank" rel="noopener noreferrer">Era ZKSync</a></li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>El feed compatible con Chainlink en Ethereum Mainnet está desplegado y es utilizado por los vaults de Mellow LRT, siendo un envoltorio para <code>wstETH.getStETHByWstETH(10 ** decimals)</code></p></div></div>
<p>Estos feeds pueden utilizarse para componer un feed objetivo, por ejemplo, para el par <code>wstETH/USD</code>, consulte los ejemplos de los mercados AAVE v3:</p>
<ul>
<li><a href="https://etherscan.io/address/0x8b6851156023f4f5a66f68bea80851c3d905ac93#code" target="_blank" rel="noopener noreferrer">Ethereum Mainnet <code>WstETHSynchronicityPriceAdapter</code></a></li>
<li><a href="https://optimistic.etherscan.io/address/0x80f2c02224a2e548fc67c0bf705ebfa825dd5439" target="_blank" rel="noopener noreferrer">Optimism <code>CLSynchronicityPriceAdapterPegToBase</code></a></li>
<li><a href="https://arbiscan.io/address/0x945fd405773973d286de54e44649cc0d9e264f78" target="_blank" rel="noopener noreferrer">Arbitrum <code>CLSynchronicityPriceAdapterPegToBase</code></a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ldo">LDO<a class="hash-link" aria-label="Direct link to LDO" title="Direct link to LDO" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#ldo">​</a></h3>
<p><a href="/lido-docs-spanish/guías/lido-tokens-integration-guide#ldo-1">LDO</a> es un token ERC-20 de gobernanza de Lido derivado del <a href="https://github.com/Giveth/minime" target="_blank" rel="noopener noreferrer">MiniMe Token</a>.
Por lo tanto, los saldos de los titulares de LDO son consultables para cualquier número de bloque, una característica de seguridad esencial para los mecanismos de votación de Lido.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="unsteth">unstETH<a class="hash-link" aria-label="Direct link to unstETH" title="Direct link to unstETH" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#unsteth">​</a></h3>
<p>Un token no fungible (NFT) se utiliza para representar una posición de solicitud de retiro <a href="/lido-docs-spanish/contracts/withdrawal-queue-erc721">en la cola de retiros a nivel de protocolo</a> cuando un titular de stToken decide canjearlo por ether a través del protocolo.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>A diferencia de los otros tokens de Lido (<code>stETH</code>, <code>wstETH</code> y <code>LDO</code>), <a href="/lido-docs-spanish/guías/lido-tokens-integration-guide#retiros-unsteth">unstETH</a> es no fungible y utiliza el estándar de token ERC-721 en lugar del ERC-20.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="steth-vs-wsteth">stETH vs. wstETH<a class="hash-link" aria-label="Direct link to stETH vs. wstETH" title="Direct link to stETH vs. wstETH" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#steth-vs-wsteth">​</a></h2>
<p>Existen dos versiones de los tokens stTokens de Lido, llamados stETH y wstETH.
Ambos son tokens fungibles pero reflejan las recompensas de staking acumuladas de manera diferente. stETH implementa una mecánica de rebase, lo que significa que el saldo de stETH se actualiza regularmente. Por el contrario, el saldo de wstETH no cambia por sí solo, sino que aumenta su valor frente a stETH.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>En cualquier momento, cualquier cantidad de stETH se puede convertir en wstETH y viceversa mediante un wrapper sin confianza, por lo que los tokens comparten efectivamente liquidez.</p></div></div>
<p>Por ejemplo, las posiciones de wstETH subcolateralizadas en Maker pueden ser liquidadas desenrollando wstETH e intercambiándolas por ether en Curve.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="steth">stETH<a class="hash-link" aria-label="Direct link to stETH" title="Direct link to stETH" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#steth">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="qué-es-steth">¿Qué es stETH?<a class="hash-link" aria-label="Direct link to ¿Qué es stETH?" title="Direct link to ¿Qué es stETH?" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#qué-es-steth">​</a></h3>
<p>stETH es un token ERC-20 rebaseable que representa ether con stake en Lido. A diferencia del ether con stake, es líquido y puede transferirse, negociarse o utilizarse en aplicaciones DeFi. El suministro total de stETH refleja la cantidad de ether depositado en el protocolo combinado con las recompensas de staking, menos posibles penalizaciones de validadores. Los tokens stETH se emiten al depositar ether en una proporción de 1:1. Desde que se introdujeron los retiros de la capa de consenso, también es posible canjear ether quemando stETH en la misma proporción de 1:1 (aunque en casos raros no preservará la proporción 1:1).</p>
<p>Ten en cuenta que Lido ha implementado límites de tasa de staking para reducir el impacto del aumento de staking posterior a la fusión en la cola de staking y el modelo de distribución de recompensas socializadas de Lido. Lee más al respecto <a href="/lido-docs-spanish/guías/lido-tokens-integration-guide#l%C3%ADmites-de-tasa-de-staking">aquí</a>.</p>
<p>stETH es un token ERC-20 rebaseable. Normalmente, los saldos de tokens stETH se recalculan diariamente cuando el oráculo de Lido informa la actualización del saldo de ether de la capa de consenso. La actualización del saldo de stETH ocurre automáticamente en todas las direcciones que poseen stETH en el momento del rebase. La mecánica de rebase se ha implementado mediante shares (ver <a href="/lido-docs-spanish/guías/lido-tokens-integration-guide#internos-de-steth-mec%C3%A1nica-de-shares">shares</a>).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="nota-sobre-la-conformidad-erc-20">Nota sobre la conformidad ERC-20<a class="hash-link" aria-label="Direct link to Nota sobre la conformidad ERC-20" title="Direct link to Nota sobre la conformidad ERC-20" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#nota-sobre-la-conformidad-erc-20">​</a></h3>
<p>stETH no cumple estrictamente con ERC-20. La única excepción es que no emite <code>Transfer()</code> en el rebase como lo requiere el estándar <a href="https://eips.ethereum.org/EIPS/eip-20#events" target="_blank" rel="noopener noreferrer">ERC-20</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="oráculo-de-contabilidad">Oráculo de contabilidad<a class="hash-link" aria-label="Direct link to Oráculo de contabilidad" title="Direct link to Oráculo de contabilidad" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#oráculo-de-contabilidad">​</a></h3>
<p>Normalmente, los rebases de stETH ocurren diariamente cuando el oráculo de Lido informa la actualización del saldo de ether de la capa de consenso. El rebase puede ser positivo o negativo, según el desempeño de los validadores. En caso de que los validadores de Lido sean castigados o penalizados, los saldos de stETH pueden disminuir según el tamaño de las penalizaciones. Sin embargo, hasta la fecha de escritura, los rebases diarios nunca han sido negativos.</p>
<p>El oráculo de contabilidad tiene controles de integridad tanto en el APR máximo reportado (el APR no puede exceder el 27%, lo que significa que un rebase diario está limitado a <code>(27/365)%</code>) como en la disminución del monto total stakeado (la disminución de ether stakeado reportada no puede exceder el 5%).</p>
<p>Actualmente, la red de oráculos incluye 9 oráculos independientes, demonios de oráculo alojados por operadores de nodos establecidos seleccionados por el DAO.
Tan pronto como cinco de los nueve demonios de oráculo informen los mismos datos, alcanzando el consenso, el informe se envía al contrato inteligente de Lido y ocurre el rebase.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="casos-especiales-del-oráculo">Casos especiales del oráculo<a class="hash-link" aria-label="Direct link to Casos especiales del oráculo" title="Direct link to Casos especiales del oráculo" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#casos-especiales-del-oráculo">​</a></h4>
<ul>
<li>En caso de que los demonios del oráculo no informen la actualización del saldo de la capa de consenso o no alcancen el quórum, el oráculo no envía el informe diario y el rebase diario no ocurre hasta que se alcance el quórum.</li>
<li>El informe del oráculo puede retrasarse, pero incluirá valores actuales para el refSlot de informe. Así que, incluso si se informa 2 horas tarde, solo incluirá los valores de rebase para el período original.</li>
<li>En caso de que no se alcance el quórum, los demonios del oráculo pueden omitir el informe diario. El informe se realizará tan pronto como se alcance el quórum para uno de los siguientes períodos, e incluirá la actualización incremental del saldo para todos los períodos desde el último informe exitoso del oráculo.</li>
<li>Los demonios del oráculo solo informan los epochs finalizados. En caso de falta de finalidad en la capa de consenso, los demonios no enviarán sus informes y el rebase diario no ocurrirá.</li>
<li>En caso de que fallen los controles de integridad del APR máximo o la disminución del monto total stakeado, el informe del oráculo no puede finalizarse y el rebase no puede ocurrir.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="internos-de-steth-mecánica-de-shares">Internos de stETH: Mecánica de shares<a class="hash-link" aria-label="Direct link to Internos de stETH: Mecánica de shares" title="Direct link to Internos de stETH: Mecánica de shares" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#internos-de-steth-mecánica-de-shares">​</a></h3>
<p>Los rebases diarios resultan en cambios en los saldos de tokens stETH. Este mecanismo se implementa mediante shares.
El <code>share</code> es una unidad básica que representa la participación del titular de stETH en la cantidad total de ether controlado por el protocolo. Cuando ocurre un nuevo depósito, se emiten nuevos shares para reflejar qué parte del ether controlado por el protocolo se ha agregado al pool. Cuando llega el informe del oráculo de la capa de consenso, se recalcula el precio de 1 share en stETH. Los shares no están normalizados, por lo que el contrato también almacena la suma de todos los shares para calcular el saldo de tokens de cada cuenta.
El saldo de shares por saldo de stETH se puede calcular mediante esta fórmula:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">shares</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">account</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">balanceOf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">account</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> totalShares </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> totalPooledEther</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="caso-especial-de-1-2-wei">Caso especial de 1-2 wei<a class="hash-link" aria-label="Direct link to Caso especial de 1-2 wei" title="Direct link to Caso especial de 1-2 wei" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#caso-especial-de-1-2-wei">​</a></h4>
<p>El cálculo del saldo de stETH incluye división entera, y hay un caso común en el que todo el saldo de stETH no se puede transferir de la cuenta mientras se deja los últimos 1-2 wei en la cuenta del remitente. Lo mismo puede ocurrir en cualquier transacción de transferencia o depósito. En el futuro, cuando la tasa stETH/share sea mayor, el error puede ser un poco mayor. Para evitarlo, se puede usar <code>transferShares</code> para ser preciso.</p>
<p>Ejemplo:</p>
<ol>
<li>El usuario A transfiere 1 stETH al usuario B.</li>
<li>Bajo el capó, el saldo de stETH se convierte en shares, se aplica la división entera y se redondea hacia abajo.</li>
<li>La cantidad correspondiente de shares se transfiere de A a B.</li>
<li>El saldo de shares se convierte en saldo de stETH para B.</li>
<li>En muchos casos, la cantidad realmente transferida es 1-2 wei menos de lo esperado.</li>
</ol>
<p>El problema está documentado aquí: <a href="https://github.com/lidofinance/lido-dao/issues/442" target="_blank" rel="noopener noreferrer">lido-dao/issues/442</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="bookkeeping-shares">Bookkeeping shares<a class="hash-link" aria-label="Direct link to Bookkeeping shares" title="Direct link to Bookkeeping shares" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#bookkeeping-shares">​</a></h3>
<p>Aunque es amigable para el usuario, los rebases de stETH añaden un nivel completo de complejidad a la integración de stETH en otras dApps y protocolos. Cuando se integra stETH como un token en cualquier dApp, se recomienda encarecidamente almacenar y operar con shares en lugar de los saldos públicos de stETH directamente, porque los saldos de stETH cambian tanto en las transferencias, mint/burns y rebases, mientras que los saldos de shares solo pueden cambiar en las transferencias y mint/burns.</p>
<p>Para calcular el saldo de shares, se puede usar la función <code>getSharesByPooledEth(uint256)</code>. Devuelve el valor que no se ve afectado por los futuros rebases y se puede convertir de vuelta a stETH llamando a la función <code>getPooledEthByShares</code>.</p>
<blockquote>
<p>Consulta todos los métodos disponibles de stETH <a href="https://github.com/lidofinance/docs/blob/main/docs/contracts/lido.md#view-methods" target="_blank" rel="noopener noreferrer">aquí</a>.</p>
</blockquote>
<p>Cualquier operación en stETH se puede realizar directamente en shares, sin diferencia entre share y stETH.</p>
<p>La forma preferida de operar con stETH debería ser:</p>
<ol>
<li>Obtener el saldo del token stETH;</li>
<li>Convertir el saldo de stETH en saldo de shares y usarlo como unidad de saldo principal en tu dApp;</li>
<li>Cuando se realice cualquier operación en el saldo, hazlo en el saldo de shares;</li>
<li>Cuando los usuarios interactúen con stETH, convierte el saldo de shares de vuelta al saldo del token stETH.</li>
</ol>
<p>Ten en cuenta que un APR del 10% en el saldo de shares y un APR del 10% en el saldo del token stETH darán como resultado valores de salida diferentes con el tiempo, porque el saldo de shares es estable, mientras que el saldo del token stETH cambia eventualmente.</p>
<p>Hay dos métodos de conveniencia disponibles para trabajar con shares en el token stETH:</p>
<ul>
<li><code>transferShares</code> (cuando <code>msg.sender</code> gasta su propio saldo)</li>
<li><code>transferSharesFrom</code> (cuando <code>msg.sender</code> gasta la asignación aprobada)</li>
</ul>
<p>Si el uso del token stETH rebaseable no es una opción para tu integración, se recomienda usar wstETH en lugar de stETH. Mira cómo funciona <a href="/lido-docs-spanish/guías/lido-tokens-integration-guide#wsteth">aquí</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="función-de-transferencia-de-shares-para-steth">Función de transferencia de shares para stETH<a class="hash-link" aria-label="Direct link to Función de transferencia de shares para stETH" title="Direct link to Función de transferencia de shares para stETH" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#función-de-transferencia-de-shares-para-steth">​</a></h3>
<p>El <a href="https://github.com/lidofinance/lido-improvement-proposals/blob/develop/LIPS/lip-11.md" target="_blank" rel="noopener noreferrer">LIP-11</a> introdujo la función <code>transferShares</code> que permite transferir stETH de manera &quot;agnóstica al rebase&quot;: transferir en términos de cantidad de <a href="/lido-docs-spanish/guías/lido-tokens-integration-guide#internos-de-steth-mec%C3%A1nica-de-shares">shares</a>.</p>
<p>Normalmente, uno transfiere stETH utilizando las funciones ERC-20 <code>transfer</code> y <code>transferFrom</code>, que aceptan como entrada la cantidad de stETH, no la cantidad de shares subyacentes. A veces es mejor operar directamente con shares para evitar posibles problemas de redondeo. Los problemas de redondeo generalmente podrían aparecer después de un rebase del token.
Esta característica está destinada a proporcionar un nivel adicional de precisión al operar con stETH.
Lee más sobre la función en el <a href="https://github.com/lidofinance/lido-improvement-proposals/blob/develop/LIPS/lip-11.md" target="_blank" rel="noopener noreferrer">LIP-11</a>.</p>
<p>Además, la actualización V2 introdujo <code>transferSharesFrom</code> para que coincida completamente con el conjunto de métodos de transferencia ERC-20.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tarifas">Tarifas<a class="hash-link" aria-label="Direct link to Tarifas" title="Direct link to Tarifas" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#tarifas">​</a></h3>
<p>Lido recoge un porcentaje de las recompensas de staking como tarifa del protocolo. El tamaño exacto de la tarifa lo define el DAO y puede cambiarse en el futuro mediante votación del DAO. Para recoger la tarifa, el protocolo emite nuevos shares del token stETH y los asigna a los destinatarios de la tarifa. Actualmente, la tarifa recolectada por el protocolo Lido es del 10% de las recompensas de staking, con la mitad destinada a los operadores de nodos y la otra mitad al tesoro del protocolo.</p>
<p>Dado que el total de ether de Lido en el pool tiende a aumentar, el valor combinado de todos los shares de los titulares denominados en stETH aumenta respectivamente. Por lo tanto, las recompensas se distribuyen efectivamente entre cada titular de token en proporción a su participación en el TVL del protocolo. Así, Lido emite nuevos shares al destinatario de la tarifa de manera que el costo total de los shares recién emitidos corresponda exactamente a la tarifa tomada (calculada en puntos básicos):</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">shares2mint * newShareCost = (_totalRewards * feeBasis) / 10000</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">newShareCost = newTotalPooledEther / (prevTotalShares + shares2mint)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>lo que sigue:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        _totalRewards * feeBasis * prevTotalShares</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">shares2mint = --------------------------------------------------------------</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                (newTotalPooledEther * 10000) - (feeBasis * _totalRewards)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cómo-obtener-el-apr">¿Cómo obtener el APR?<a class="hash-link" aria-label="Direct link to ¿Cómo obtener el APR?" title="Direct link to ¿Cómo obtener el APR?" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#cómo-obtener-el-apr">​</a></h3>
<p>Consulta <a href="https://docs.lido.fi/integrations/api/#last-lido-apr-for-steth" target="_blank" rel="noopener noreferrer">esta página</a> para la correcta calculación del APR de Lido V2.</p>
<p>Es importante señalar que con los retiros habilitados, el método de cálculo del APR para Lido ha cambiado significativamente. Cuando el protocolo Lido V2 finaliza las solicitudes de retiro, el contrato Lido excluye fondos del TVL y asigna para quemar shares de stETH bloqueados en retorno. En otras palabras, la finalización del retiro disminuye tanto el TVL como los shares totales.
La fórmula antigua de V1 ya no es adecuada porque captura los cambios del TVL, pero no los cambios en los shares totales.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="los-premios-de-steth-se-componen">¿Los premios de stETH se componen?<a class="hash-link" aria-label="Direct link to ¿Los premios de stETH se componen?" title="Direct link to ¿Los premios de stETH se componen?" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#los-premios-de-steth-se-componen">​</a></h3>
<p>Sí, los premios de stETH se componen.</p>
<p>Todos los premios que se retiran de la Capa de Consenso o se reciben como tarifas MEV o EL de prioridad (que no se utilizan para cumplir solicitudes de retiro) se reestacan finalmente para configurar nuevos validadores y recibir más premios al final. Por lo tanto, podemos decir que stETH se convierte completamente en auto-compound después del lanzamiento de V2.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="wsteth">wstETH<a class="hash-link" aria-label="Direct link to wstETH" title="Direct link to wstETH" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#wsteth">​</a></h2>
<p>Debido a la naturaleza de rebasing de stETH, el saldo de stETH en la dirección del titular no es constante, cambia diariamente a medida que llega el informe del oráculo.
Aunque los tokens rebaseables están siendo comunes en DeFi recientemente, muchas dApps no admiten tokens rebaseables. Por ejemplo, Maker, UniSwap y SushiSwap no están diseñados para tokens rebaseables. Listar stETH en estas aplicaciones puede resultar en que los titulares no reciban sus recompensas diarias de staking, lo que efectivamente anula los beneficios del staking líquido. Para integrarse con estas dApps, existe otra forma de stTokens de Lido llamada wstETH (ether con stake envuelto).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="qué-es-wsteth">¿Qué es wstETH?<a class="hash-link" aria-label="Direct link to ¿Qué es wstETH?" title="Direct link to ¿Qué es wstETH?" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#qué-es-wsteth">​</a></h3>
<p>wstETH es un token ERC20 que representa la participación de una cuenta en el suministro total de stETH (envoltura de token stETH con saldos estáticos). Para wstETH, 1 wei en <a href="/lido-docs-spanish/guías/lido-tokens-integration-guide#internos-de-steth-mec%C3%A1nica-de-shares">participaciones</a> es equivalente a 1 wei en saldo. El saldo de wstETH solo puede modificarse mediante transferencias, creación y quema de tokens. El saldo de wstETH no se rebasea; en cambio, el precio de wstETH denominado en stETH cambia.</p>
<p>En cualquier momento, cualquier persona que posea wstETH puede convertir cualquier cantidad de este a stETH a una tasa fija, y viceversa. La tasa es la misma para todos en cualquier momento dado. Normalmente, la tasa se actualiza una vez al día, cuando stETH experimenta un rebase. La tasa actual se puede obtener llamando a <code>wstETH.stEthPerToken()</code> o <code>wstETH.getStETHByWstETH(10 ** decimals)</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="envolver-y-desenvolver">Envolver y Desenvolver<a class="hash-link" aria-label="Direct link to Envolver y Desenvolver" title="Direct link to Envolver y Desenvolver" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#envolver-y-desenvolver">​</a></h3>
<p>Cuando se envuelve stETH a wstETH, la cantidad deseada de stETH se bloquea en el saldo del contrato WstETH, y se emite wstETH según la fórmula de <a href="/lido-docs-spanish/guías/lido-tokens-integration-guide#bookkeeping-shares">contabilidad de participaciones</a>.</p>
<p>Al desenvolver, se quema wstETH y se desbloquea la cantidad correspondiente de stETH. Por lo tanto, la cantidad de stETH desbloqueada al desenvolver puede diferir de la cantidad inicialmente envuelta (dado que ocurrió un rebase entre el envoltorio y desenvoltorio de stETH).</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="atajo-wsteth">Atajo wstETH<a class="hash-link" aria-label="Direct link to Atajo wstETH" title="Direct link to Atajo wstETH" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#atajo-wsteth">​</a></h4>
<p>Es importante notar que el contrato WstETH incluye un atajo para convertir ether a wstETH automáticamente, lo cual permite saltarse efectivamente el paso de envoltura y apostar ether directamente por wstETH. Ten en cuenta que al usar este atajo, <a href="/lido-docs-spanish/guías/lido-tokens-integration-guide#l%C3%ADmites-de-tasa-de-staking">los límites de tasa de apostado</a> aún se aplican.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="contabilidad-de-recompensas">Contabilidad de Recompensas<a class="hash-link" aria-label="Direct link to Contabilidad de Recompensas" title="Direct link to Contabilidad de Recompensas" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#contabilidad-de-recompensas">​</a></h3>
<p>Dado que wstETH representa la participación del titular en la cantidad total de ether controlado por Lido, los rebases no afectan los saldos de wstETH pero sí cambian el precio de wstETH denominado en stETH.</p>
<p><strong>Ejemplo básico</strong>:</p>
<ol>
<li>Un usuario envuelve 1 stETH y recibe 0.9803 wstETH (1 stETH = 0.9803 wstETH).</li>
<li>Ocurre un rebase, el precio de wstETH aumenta un 5%.</li>
<li>El usuario desenvuelve 0.9803 wstETH y recibe 1.0499 stETH (1 stETH = 0.9337 wstETH).</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="wsteth-en-las-redes-l2">wstETH en las Redes L2<a class="hash-link" aria-label="Direct link to wstETH en las Redes L2" title="Direct link to wstETH en las Redes L2" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#wsteth-en-las-redes-l2">​</a></h3>
<p>Actualmente, el token wstETH está <a href="/lido-docs-spanish/deployed-contracts/#lido-on-l2">presente en</a>:</p>
<ul>
<li><a href="https://arbiscan.io/address/0x5979D7b546E38E414F7E9822514be443A4800529" target="_blank" rel="noopener noreferrer">Arbitrum</a></li>
<li><a href="https://optimistic.etherscan.io/address/0x1F32b1c2345538c0c6f582fCB022739c4A194Ebb" target="_blank" rel="noopener noreferrer">Optimism</a></li>
<li><a href="https://scrollscan.com/address/0xf610A9dfB7C89644979b4A0f27063E9e7d7Cda32" target="_blank" rel="noopener noreferrer">Scroll</a></li>
<li><a href="https://basescan.org/address/0xc1CBa3fCea344f92D9239c08C0568f6F2F0ee452" target="_blank" rel="noopener noreferrer">Base</a></li>
<li><a href="https://lineascan.build/address/0xB5beDd42000b71FddE22D3eE8a79Bd49A568fC8F" target="_blank" rel="noopener noreferrer">Linea</a></li>
<li><a href="https://docs.lido.fi/deployed-contracts/#zksync-era" target="_blank" rel="noopener noreferrer">ZKSync Era</a></li>
<li><a href="https://explorer.mantle.xyz/address/0x458ed78EB972a369799fb278c0243b25e5242A83" target="_blank" rel="noopener noreferrer">Mantle</a></li>
<li><a href="https://polygonscan.com/token/0x03b54a6e9a984069379fae1a4fc4dbae93b3bccd" target="_blank" rel="noopener noreferrer">Polygon PoS</a></li>
</ul>
<p>con puentes implementados a través del <a href="/lido-docs-spanish/guías-token/wsteth-bridging-guide">enfoque recomendado de puentes canónicos</a>.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>A diferencia de la red principal de Ethereum, en las redes L2, wstETH es simplemente un token ERC-20 y no puede desenvolverse para desbloquear stETH en la red L2 correspondiente hasta ahora.</p></div></div>
<p>Sin la contabilidad de participaciones, el token no puede proporcionar la tasa <code>wstETH/stETH</code> ni las recompensas acumuladas en cadena. Utiliza los <a href="/lido-docs-spanish/guías/lido-tokens-integration-guide#utilidades-de-integraci%C3%B3n-feeds-de-tasa-y-precio">feeds de tasas y precios</a> de wstETH/stETH listados arriba.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ldo-1">LDO<a class="hash-link" aria-label="Direct link to LDO" title="Direct link to LDO" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#ldo-1">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="qué-es-ldo">¿Qué es LDO?<a class="hash-link" aria-label="Direct link to ¿Qué es LDO?" title="Direct link to ¿Qué es LDO?" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#qué-es-ldo">​</a></h3>
<p>LDO es un token de gobernanza utilizado para el proceso de votación del DAO de Lido (<a href="https://lido.fi/governance#regular-process" target="_blank" rel="noopener noreferrer">tanto fuera de cadena como en cadena</a>). El token está ampliamente disponible en los ecosistemas DeFi y CeFi.</p>
<p>LDO tiene mecanismos internos de instantáneas de saldo (<a href="https://etherscan.io/address/0x5A98FcBEA516Cf06857215779Fd812CA3beF1B32#readContract#F5" target="_blank" rel="noopener noreferrer"><code>balanceOfAt</code></a> y <a href="https://etherscan.io/address/0x5A98FcBEA516Cf06857215779Fd812CA3beF1B32#readContract#F10" target="_blank" rel="noopener noreferrer"><code>totalSupplyAt</code></a>) para permitir que el poder de voto no sea manipulado durante el tiempo de la votación en curso.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="nota-sobre-la-conformidad-con-erc-20">Nota sobre la conformidad con ERC-20<a class="hash-link" aria-label="Direct link to Nota sobre la conformidad con ERC-20" title="Direct link to Nota sobre la conformidad con ERC-20" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#nota-sobre-la-conformidad-con-erc-20">​</a></h3>
<p>Aunque LDO cumple completamente con ERC-20, es importante destacar que el token no revierte una transacción en todos los caminos de fallo dentro de los métodos <code>transfer</code> y <code>transferFrom</code>, devolviendo en su lugar el estado <code>false</code>.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Es crítico verificar el estado de retorno para integraciones externas, ya que el estándar de token ERC-20 <a href="https://eips.ethereum.org/EIPS/eip-20#methods" target="_blank" rel="noopener noreferrer">requiere</a> prevenir varios vectores de ataque (por ejemplo, depósitos de tokens en bóvedas):</p><blockquote>
<p>Los llamadores DEBEN manejar <code>false</code> de los <code>returns (bool success)</code>. ¡Los llamadores NO DEBEN asumir que <code>false</code> nunca se devuelve!</p>
</blockquote></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="erc20permit">ERC20Permit<a class="hash-link" aria-label="Direct link to ERC20Permit" title="Direct link to ERC20Permit" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#erc20permit">​</a></h2>
<p>Los tokens wstETH y stETH en la red principal de Ethereum implementan la extensión ERC20 Permit que permite realizar aprobaciones mediante firmas, como se define en <a href="https://eips.ethereum.org/EIPS/eip-2612" target="_blank" rel="noopener noreferrer">EIP-2612</a>. stETH también es compatible con firmas de contratos inteligentes, implementando <a href="https://eips.ethereum.org/EIPS/eip-1271" target="_blank" rel="noopener noreferrer">EIP-1271</a> que se utiliza como parte de la Abstracción de Cuenta.</p>
<p>El método <code>permit</code> permite a los usuarios modificar la asignación utilizando un mensaje firmado, en lugar de a través de <code>msg.sender</code>. Al no depender del método <code>approve</code>, puedes construir interfaces que aprueben y utilicen wstETH en una sola transacción.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="límites-de-tasa-de-staking">Límites de Tasa de Staking<a class="hash-link" aria-label="Direct link to Límites de Tasa de Staking" title="Direct link to Límites de Tasa de Staking" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#límites-de-tasa-de-staking">​</a></h2>
<p>Para manejar la afluencia de Staking en caso de algunas condiciones de mercado imprevistas, el protocolo Lido implementó límites de tasa de Staking destinados a reducir el impacto de la afluencia en la cola de Staking y en el modelo de distribución de recompensas socializadas de Lido.</p>
<p>Existe un límite de ventana deslizante parametrizado con <code>_maxStakingLimit</code> y <code>_stakeLimitIncreasePerBlock</code>. Esto significa que solo es posible enviar esta cantidad de ether a los contratos de apostado de Lido dentro de un marco de tiempo de 24 horas. Actualmente, el límite diario de apostado está establecido en 150,000 ether.</p>
<p>Puedes imaginar esto como una esfera de salud de Diablo 2 con un máximo de <code>_maxStakingLimit</code> y regenerando a una velocidad constante por bloque. Cuando depositas ether en el protocolo, el nivel de salud se reduce por su cantidad y el límite actual se vuelve cada vez más pequeño. Cuando llega a cero, la transacción se revierte.</p>
<p>Para evitar esto, debes verificar si <code>getCurrentStakeLimit() &gt;= amountToStake</code>, y si no es así, puedes optar por una ruta alternativa. Los límites de tasa de apostado están denominados en ether, por lo que no importa si el apostado se realiza para stETH o utilizando [el atajo wstETH](#wst</p>
<p>eth-shortcut), los límites se aplican en ambos casos.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="rutas-alternativas">Rutas Alternativas<a class="hash-link" aria-label="Direct link to Rutas Alternativas" title="Direct link to Rutas Alternativas" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#rutas-alternativas">​</a></h3>
<ol>
<li>Espera a que los límites de apostado se regeneren a valores más altos y vuelve a intentar depositar ether en Lido más tarde.</li>
<li>Considera intercambiar ETH por stETH en DEXes como Curve o Balancer. En condiciones de mercado específicas, stETH puede adquirirse efectivamente allí con un descuento debido a las fluctuaciones en el precio de stETH.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="retiros-unsteth">Retiros unstETH<a class="hash-link" aria-label="Direct link to Retiros unstETH" title="Direct link to Retiros unstETH" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#retiros-unsteth">​</a></h2>
<p>Lido V2 introdujo la posibilidad de retirar ETH del protocolo Lido en Ethereum (es decir, mercado primario).</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Dado que los retiros en el protocolo tienen una naturaleza asincrónica y un flujo de ejecución sofisticado, en general, utilizar mercados secundarios (intercambios y agregadores de swaps) podría ser una opción más amigable y conveniente desde el punto de vista de la experiencia de usuario para las integraciones.</p></div></div>
<p>Puedes encontrar una visión general de la actualización en <a href="https://blog.lido.fi/introducing-lido-v2/" target="_blank" rel="noopener noreferrer">la publicación del blog</a>. El flujo de retiros está organizado como una cola FIFO que acepta las solicitudes con stETH adjunto y estas solicitudes se finalizan con informes de oráculo tan pronto como el ether para cumplir con la solicitud esté disponible.</p>
<p>Para obtener ether del protocolo, debes seguir estos pasos:</p>
<ul>
<li>Solicitar el retiro, bloqueando tu stETH en la cola y recibiendo un NFT que representa tu posición en la cola.</li>
<li>Esperar a que la solicitud se finalice mediante el informe del oráculo y se pueda reclamar.</li>
<li>Reclamar tu ether, quemando el NFT.</li>
</ul>
<p>El tamaño de la solicitud debe ser al menos <strong>100 wei</strong> (en stETH) y como máximo <strong>1000 stETH</strong>. Cantidades mayores deben retirarse en varias solicitudes, que pueden agruparse a través de la API en protocolo. Una vez solicitado, el retiro no se puede cancelar. El NFT de retiro se puede transferir a una dirección diferente, y el nuevo propietario podrá reclamar el retiro solicitado una vez que se finalice.</p>
<p>La cantidad de ETH reclamable se determina una vez que se finaliza la solicitud de retiro. La tasa stETH/ETH de la finalización de la solicitud no puede ser más alta que la que estaba en el momento de la creación de la solicitud. El usuario podrá reclamar:</p>
<ul>
<li>Normalmente: la cantidad de ETH correspondiente a la cantidad de stETH en el momento de la colocación de la solicitud.</li>
</ul>
<p><strong>O</strong></p>
<ul>
<li>Con descuento: cantidad de ETH reducida correspondiente a la tasa informada por el oráculo en caso de que el protocolo haya sufrido pérdidas significativas (multas y penalizaciones).</li>
</ul>
<p>La segunda opción es poco probable, y hasta ahora no hemos visto las condiciones para ello en la red principal.</p>
<p>El contrato de usuario final para manejar los retiros es <code>WithdrawalQueueERC721.sol</code>, que implementa el estándar ERC721. El NFT representa la posición en la cola de retiros y puede ser reclamado después de que se finalice la solicitud.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="solicitar-retiro-y-emitir-nft">Solicitar retiro y emitir NFT<a class="hash-link" aria-label="Direct link to Solicitar retiro y emitir NFT" title="Direct link to Solicitar retiro y emitir NFT" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#solicitar-retiro-y-emitir-nft">​</a></h3>
<p>Tienes varias opciones para solicitar retiros, las cuales requieren que tengas stETH o wstETH en tu dirección:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="steth-1">stETH<a class="hash-link" aria-label="Direct link to stETH" title="Direct link to stETH" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#steth-1">​</a></h4>
<ul>
<li>Llama a <code>requestWithdrawalsWithPermit(uint256[] _amounts, address _owner, PermitInput _permit)</code> y obtén los IDs de las posiciones creadas, donde <code>msg.sender</code> se usará para transferir tokens y <code>_owner</code> será la dirección que puede reclamar o transferir el NFT (predeterminadamente <code>msg.sender</code> si no se proporciona).</li>
<li>Alternativamente, puedes aprobar el contrato <code>WithdrawalQueueERC721.sol</code> para stETH en una transacción separada (<code>stETH.approve(withdrawalQueueERC721.address, allowance)</code>) y luego llamar al método <code>requestWithdrawals(uint256[] _amounts, address _owner)</code>.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="wsteth-1">wstETH<a class="hash-link" aria-label="Direct link to wstETH" title="Direct link to wstETH" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#wsteth-1">​</a></h4>
<ul>
<li>Llama a <code>requestWithdrawalsWstETHWithPermit(uint256[] _amounts, address _owner, PermitInput _permit)</code> y obtén los IDs de las posiciones creadas, donde <code>msg.sender</code> se usará para transferir tokens y <code>_owner</code> será la dirección que puede reclamar o transferir el NFT (predeterminadamente <code>msg.sender</code> si no se proporciona).</li>
<li>Alternativamente, puedes aprobar el contrato <code>WithdrawalQueueERC721.sol</code> para wstETH en una transacción separada (<code>wstETH.approve(withdrawalQueueERC721.address, allowance)</code>) y luego llamar al método <code>requestWithdrawalsWstETH(uint256[] _amounts, address _owner)</code>.</li>
</ul>
<p>La estructura <code>PermitInput</code> está definida de la siguiente manera:</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">PermitInput</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> deadline</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint8</span><span class="token plain"> v</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">bytes32</span><span class="token plain"> r</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">bytes32</span><span class="token plain"> s</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Después de la solicitud, se emite un NFT <a href="https://eips.ethereum.org/EIPS/eip-721" target="_blank" rel="noopener noreferrer">ERC721</a> a la dirección <code>_owner</code> y puede transferirse al otro propietario, quien tendrá todos los derechos para reclamar el retiro.</p>
<p>Además, este NFT implementa el estándar <a href="https://eips.ethereum.org/EIPS/eip-4906" target="_blank" rel="noopener noreferrer">ERC4906</a> y se recomienda utilizar</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">event</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">BatchMetadataUpdate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> _fromTokenId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> _toTokenId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>para actualizar los metadatos del NFT si se integra en algún lugar donde deba mostrarse correctamente.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Las transacciones de retiro realizadas con <code>requestWithdrawalsWithPermit</code> o <code>requestWithdrawalsWstETHWithPermit</code> pueden fallar debido a ser &quot;front-run&quot; al robar la firma proporcionada por el usuario para ejecutar el método <code>token.permit</code>. Esto no impone riesgos de pérdida de fondos ni bloquea la capacidad de retirar, pero afecta la experiencia del usuario. Para más detalles, consulta <a href="https://github.com/lidofinance/lido-dao/issues/803" target="_blank" rel="noopener noreferrer">este problema</a>.</p><p>Se recomienda mitigar el problema, por ejemplo, utilizando el enfoque utilizado en el <a href="https://github.com/lidofinance/ethereum-staking-widget" target="_blank" rel="noopener noreferrer">widget de apuestas de Lido</a>. En resumen, si la transacción inicial <code>...WithPermit</code> falla, reenvía inmediatamente la solicitud pero a través del método <code>requestWithdrawals/requestWithdrawalsWstETH</code>, utilizando sin problemas la asignación ya proporcionada como resultado de la transacción de &quot;griefing&quot;.
Para el ejemplo específico, consulta <a href="https://github.com/lidofinance/ethereum-staking-widget/blob/ba65f2180ad0ab43b5f3bdcfeee118e6ceeabe7f/features/withdrawals/hooks/contract/useRequest.ts#L319C6-L319C6" target="_blank" rel="noopener noreferrer">el siguiente código</a>.</p><p>También se pueden usar otros enfoques viables para la mitigación. Como otro ejemplo, despliega un contrato inteligente envolvente que intente <code>requestWithdrawalsWithPermit/requestWithdrawalsWithPermitWstETH</code> y, si <a href="https://docs.soliditylang.org/en/latest/control-structures.html#try-catch" target="_blank" rel="noopener noreferrer">captura</a> el error de revertir, continúa con <code>requestWithdrawals/requestWithdrawalsWstETH</code>, verificando que la asignación sea suficiente.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="verificación-del-estado-del-retiro">Verificación del estado del retiro<a class="hash-link" aria-label="Direct link to Verificación del estado del retiro" title="Direct link to Verificación del estado del retiro" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#verificación-del-estado-del-retiro">​</a></h3>
<ul>
<li>Puedes verificar todas las solicitudes de retiro para el propietario llamando a <code>getWithdrawalRequests(address _owner)</code>, que devuelve una matriz de IDs de NFT.</li>
<li>Para verificar el estado de NFTs particulares, puedes llamar a <code>getWithdrawalStatus(uint256[] _requestIds)</code>, que devuelve una matriz de la estructura <a href="https://github.com/lidofinance/lido-dao/blob/feature/shapella-upgrade/contracts/0.8.9/WithdrawalQueueBase.sol#L67-L81" target="_blank" rel="noopener noreferrer"><code>WithdrawalRequestStatus</code></a>.</li>
</ul>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">WithdrawalRequestStatus</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/// @notice Cantidad de stETH bloqueada en la cola de retiros para esta solicitud</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> amountOfStETH</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/// @notice Cantidad de acciones stETH bloqueadas en la cola de retiros para esta solicitud</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> amountOfShares</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/// @notice Dirección que puede reclamar o transferir esta solicitud</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">address</span><span class="token plain"> owner</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/// @notice Marca de tiempo de cuando se creó la solicitud, en segundos</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> timestamp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/// @notice Verdadero, si la solicitud está finalizada</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">bool</span><span class="token plain"> isFinalized</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/// @notice Verdadero, si la solicitud está reclamada. La solicitud es reclamable si (isFinalized &amp;&amp; !isClaimed)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">bool</span><span class="token plain"> isClaimed</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>NOTA: Dado que stETH es un token esencial si el usuario solicita un retiro usando wstETH directamente, la cantidad se designará en stETH en la creación de la solicitud.</p>
</blockquote>
<p>Puedes llamar a <code>getClaimableEther(uint256[] _requestIds, uint256[] _hints)</code> para obtener la cantidad exacta de ether reservado para las solicitudes, donde <code>_hints</code> se puede encontrar llamando a <code>findCheckpointHints(__requestIds, 1, getLastCheckpointIndex())</code>. Devolverá un valor distinto de cero solo si la solicitud es reclamable (<code>isFinalized &amp;&amp; !isClaimed</code>).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="reclamación">Reclamación<a class="hash-link" aria-label="Direct link to Reclamación" title="Direct link to Reclamación" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#reclamación">​</a></h3>
<p>Para reclamar ether, debes llamar a:</p>
<ul>
<li><code>claimWithdrawal(uint256 _requestId)</code> con el ID del NFT en nombre del propietario del NFT.</li>
<li><code>claimWithdrawals(uint256[] _requestIDs, uint256[] _hints)</code> si deseas reclamar múltiples retiros en lotes u optimizar en la búsqueda de pistas<!-- -->
<ul>
<li><code>hints = findCheckpointHints(uint256[] calldata _requestIDs, 1, lastCheckpoint)</code></li>
<li><code>lastCheckpoint = getLastCheckpointIndex()</code></li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ejemplos-de-integración-general">Ejemplos de integración general<a class="hash-link" aria-label="Direct link to Ejemplos de integración general" title="Direct link to Ejemplos de integración general" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#ejemplos-de-integración-general">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="stethwsteth-como-garantía">stETH/wstETH como garantía<a class="hash-link" aria-label="Direct link to stETH/wstETH como garantía" title="Direct link to stETH/wstETH como garantía" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#stethwsteth-como-garantía">​</a></h3>
<p>stETH/wstETH como garantía DeFi es beneficioso por varias razones:</p>
<ul>
<li>stETH/wstETH es casi tan seguro como ether, en términos de precio: excepto en escenarios catastróficos, su valor tiende a mantenerse bien respecto a ETH 1:1.</li>
<li>stETH/wstETH es un token productivo: obtener recompensas por la garantía efectivamente reduce el costo de endeudamiento.</li>
<li>stETH/wstETH es un token muy líquido con miles de millones de liquidez bloqueada en pools de liquidez (ver <a href="/lido-docs-spanish/guías/lido-tokens-integration-guide#sttokens-steth-y-wsteth">arriba</a>).</li>
</ul>
<p>Los tokens staked de Lido se han listado en importantes protocolos de liquidez:</p>
<ul>
<li>En Maker, <a href="https://daistats.com/#/collateral" target="_blank" rel="noopener noreferrer">colateral de wstETH (desplácese hacia abajo a la sección Dai de la sección WSTETH-A)</a> se puede usar para emitir la moneda estable DAI. Consulta la <a href="https://blog.lido.fi/makerdao-integrates-lidos-staked-eth-steth-as-collateral-asset/" target="_blank" rel="noopener noreferrer">publicación en el blog de Lido</a> para más detalles.</li>
<li>En AAVE v3, se pueden pedir prestados varios tokens contra wstETH en varias cadenas (ver la lista de <a href="/lido-docs-spanish/guías/lido-tokens-integration-guide#sttokens-steth-y-wsteth">mercados</a>)</li>
</ul>
<p>Se requieren fuentes de precios sólidas para listar en la mayoría de los mercados de dinero, siendo los feeds de precios de ChainLink el estándar de la industria.
La opción predeterminada es utilizar los <a href="/lido-docs-spanish/guías/lido-tokens-integration-guide#sttokens-steth-y-wsteth">feeds de tasas de cambio</a> con la opción de componer feeds arbitrarios:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">&#x27;wstETH/X price feed&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;wstETH/stETH rate feed&#x27;</span><span class="token plain"> × </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ETH/X price feed&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="integraciones-de-billetera">Integraciones de billetera<a class="hash-link" aria-label="Direct link to Integraciones de billetera" title="Direct link to Integraciones de billetera" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#integraciones-de-billetera">​</a></h3>
<p>Los servicios de participación en Ethereum de Lido se han integrado con éxito en las billeteras DeFi más populares, incluyendo Ledger, Metamask, MyEtherWallet, ImToken y otras.
Tener integrado stETH puede proporcionar a los usuarios de billeteras una gran experiencia de usuario para participar directamente desde la interfaz de usuario de la b</p>
<p>illetera.</p>
<p>Al agregar soporte para stETH a una billetera DeFi, es importante preservar la naturaleza de rebasing de stETH.
Ten en cuenta que el saldo de stETH cambia en cada rebase sin transferencias entrantes o salientes del usuario y no emite eventos de transferencia ERC-20.
Como consecuencia, evita almacenar el saldo en caché de stETH durante períodos prolongados (más de 24 horas).</p>
<p>La integración se puede implementar utilizando el <a href="/lido-docs-spanish/integrations/sdk#lido-ethereum-sdk">Lido en Ethereum SDK</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="puenteado-entre-cadenas">Puenteado entre cadenas<a class="hash-link" aria-label="Direct link to Puenteado entre cadenas" title="Direct link to Puenteado entre cadenas" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#puenteado-entre-cadenas">​</a></h3>
<p>El wstETH de Lido se puentea a varios L2 y sidechains.
El proceso de adopción de una nueva red de manera resistente al futuro se describe como parte de la <a href="/lido-docs-spanish/guías-token/wsteth-bridging-guide">guía de puenteado separada</a>.</p>
<p>La mayoría de los puentes de tokens entre cadenas no tienen mecanismos para manejar rebases.
Esto significa que el puenteo de stETH a otras cadenas impedirá que los validadores recojan sus recompensas de participación.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>En el caso más común, las recompensas irán naturalmente al contrato inteligente del puente y quedarán bloqueadas allí, sin llegar a los validadores.</p></div></div>
<p>Mientras se trabaja en soluciones completas de puenteado, los contribuyentes de Lido alientan a los usuarios a puentear solo la representación no rebaseable del ether con stake, es decir, wstETH.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="riesgos">Riesgos<a class="hash-link" aria-label="Direct link to Riesgos" title="Direct link to Riesgos" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#riesgos">​</a></h2>
<p>Existen varios riesgos potenciales al participar en protocolos de participación líquida.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="seguridad-del-contrato-inteligente">Seguridad del contrato inteligente<a class="hash-link" aria-label="Direct link to Seguridad del contrato inteligente" title="Direct link to Seguridad del contrato inteligente" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#seguridad-del-contrato-inteligente">​</a></h3>
<p>Existe el riesgo inherente de que Lido pueda contener una vulnerabilidad o error en el contrato inteligente. El código de Lido es de código abierto, auditado y está cubierto por un extenso programa de recompensas por errores para minimizar este riesgo. Para mitigar los riesgos de los contratos inteligentes, todos los contratos centrales de Lido están auditados. Los informes de auditoría se pueden encontrar aquí. Además, Lido está cubierto con un extenso programa de recompensas por errores de Immunefi.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="riesgo-de-sanción">Riesgo de sanción<a class="hash-link" aria-label="Direct link to Riesgo de sanción" title="Direct link to Riesgo de sanción" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#riesgo-de-sanción">​</a></h3>
<p>Los validadores corren el riesgo de sufrir penalizaciones por participación, con hasta el 100% de los fondos participados en riesgo si los validadores fallan. Para minimizar este riesgo, Lido participa en múltiples operadores de nodos profesionales y reputados con configuraciones heterogéneas, con cobertura adicional en forma de auto-cobertura.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="riesgo-de-precio-de-sttoken">Riesgo de precio de stToken<a class="hash-link" aria-label="Direct link to Riesgo de precio de stToken" title="Direct link to Riesgo de precio de stToken" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#riesgo-de-precio-de-sttoken">​</a></h3>
<p>Los usuarios corren el riesgo de un precio de stTokens en el intercambio que sea inferior al valor inherente debido a restricciones de retiro en Lido, lo que hace imposible el arbitraje y la creación de mercado sin riesgo. La DAO de Lido se esfuerza por mitigar los riesgos mencionados en la medida de lo posible. Sin embargo, estos pueden existir y, como tal, es nuestro deber comunicarlos.</p>
<p>La DAO de Lido se esfuerza por mitigar los riesgos mencionados en la medida de lo posible. Sin embargo, estos pueden existir.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/adminseedlatam/lido-docs-spanish/edit/main/docs/guías/lido-tokens-integration-guide.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/lido-docs-spanish/lido-dao"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Lido DAO</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/lido-docs-spanish/guías/node-operators/general-overview"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">general-overview</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#lido">Lido</a></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#tokens-de-lido">Tokens de Lido</a><ul><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#sttokens-steth-y-wsteth">stTokens: stETH y wstETH</a></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#ldo">LDO</a></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#unsteth">unstETH</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#steth-vs-wsteth">stETH vs. wstETH</a></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#steth">stETH</a><ul><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#qué-es-steth">¿Qué es stETH?</a></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#nota-sobre-la-conformidad-erc-20">Nota sobre la conformidad ERC-20</a></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#oráculo-de-contabilidad">Oráculo de contabilidad</a></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#internos-de-steth-mecánica-de-shares">Internos de stETH: Mecánica de shares</a></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#bookkeeping-shares">Bookkeeping shares</a></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#función-de-transferencia-de-shares-para-steth">Función de transferencia de shares para stETH</a></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#tarifas">Tarifas</a></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#cómo-obtener-el-apr">¿Cómo obtener el APR?</a></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#los-premios-de-steth-se-componen">¿Los premios de stETH se componen?</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#wsteth">wstETH</a><ul><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#qué-es-wsteth">¿Qué es wstETH?</a></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#envolver-y-desenvolver">Envolver y Desenvolver</a></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#contabilidad-de-recompensas">Contabilidad de Recompensas</a></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#wsteth-en-las-redes-l2">wstETH en las Redes L2</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#ldo-1">LDO</a><ul><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#qué-es-ldo">¿Qué es LDO?</a></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#nota-sobre-la-conformidad-con-erc-20">Nota sobre la conformidad con ERC-20</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#erc20permit">ERC20Permit</a></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#límites-de-tasa-de-staking">Límites de Tasa de Staking</a><ul><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#rutas-alternativas">Rutas Alternativas</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#retiros-unsteth">Retiros unstETH</a><ul><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#solicitar-retiro-y-emitir-nft">Solicitar retiro y emitir NFT</a></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#verificación-del-estado-del-retiro">Verificación del estado del retiro</a></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#reclamación">Reclamación</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#ejemplos-de-integración-general">Ejemplos de integración general</a><ul><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#stethwsteth-como-garantía">stETH/wstETH como garantía</a></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#integraciones-de-billetera">Integraciones de billetera</a></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#puenteado-entre-cadenas">Puenteado entre cadenas</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#riesgos">Riesgos</a><ul><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#seguridad-del-contrato-inteligente">Seguridad del contrato inteligente</a></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#riesgo-de-sanción">Riesgo de sanción</a></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guías/lido-tokens-integration-guide#riesgo-de-precio-de-sttoken">Riesgo de precio de stToken</a></li></ul></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>