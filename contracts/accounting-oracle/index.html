<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-contracts/accounting-oracle" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">AccountingOracle | Lido Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://adminseedlatam.github.io/contracts/accounting-oracle"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="AccountingOracle | Lido Docs"><meta data-rh="true" name="description" content="- Código fuente"><meta data-rh="true" property="og:description" content="- Código fuente"><link data-rh="true" rel="canonical" href="https://adminseedlatam.github.io/contracts/accounting-oracle"><link data-rh="true" rel="alternate" href="https://adminseedlatam.github.io/contracts/accounting-oracle" hreflang="en"><link data-rh="true" rel="alternate" href="https://adminseedlatam.github.io/contracts/accounting-oracle" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.4b5e42a6.css">
<script src="/assets/js/runtime~main.8f87c737.js" defer="defer"></script>
<script src="/assets/js/main.7bea6c5b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Lido Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Lido Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Lido Docs</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/adminseedlatam/lido-docs-spanish" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Introducción</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lido-dao">Lido DAO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/guías/lido-tokens-integration-guide">Guía de integración de tokens de Lido</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/guías/node-operators/general-overview">Guías</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/integrations/api">Integrations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/guías-token/steth-superuser-functions">Guías Token</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/contracts/lido-locator">Contracts</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contracts/lido-locator">LidoLocator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contracts/lido">Lido</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contracts/eip712-steth">EIP712StETH</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/contracts/accounting-oracle">AccountingOracle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contracts/validators-exit-bus-oracle">ValidatorsExitBusOracle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contracts/hash-consensus">hash-consensus</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contracts/legacy-oracle">LegacyOracle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contracts/oracle-report-sanity-checker">OracleReportSanityChecker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contracts/oracle-daemon-config">oracle-daemon-config</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contracts/staking-router">staking-router</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contracts/node-operators-registry">NodeOperatorsRegistry</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contracts/withdrawal-queue-erc721">WithdrawalQueueERC721</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contracts/withdrawal-vault">WithdrawalVault</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contracts/wsteth">wstETH</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contracts/deposit-security-module">Módulo de Seguridad de Depósitos (DepositSecurityModule)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contracts/burner">Burner</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contracts/lido-execution-layer-rewards-vault">LidoExecutionLayerRewardsVault</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contracts/mev-boost-relays-allowed-list">MevBoostRelayAllowedList</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contracts/trp-vesting-escrow">TRP VestingEscrow</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contracts/gate-seal">GateSeal</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contracts/insurance">InsuranceFund</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contracts/ossifiable-proxy">OssifiableProxy</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/security/bugbounty">Security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/deployed-contracts/">Deployed contracts</a><button aria-label="Expand sidebar category &#x27;Deployed contracts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/multisigs/emergency-brakes">Multisigs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ipfs/about">IPFS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/staking-modules/csm/intro">Staking Modules</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Contracts</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">AccountingOracle</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>AccountingOracle</h1>
<ul>
<li><a href="https://github.com/lidofinance/lido-dao/blob/master/contracts/0.8.9/oracle/AccountingOracle.sol" target="_blank" rel="noopener noreferrer">Código fuente</a></li>
<li><a href="https://etherscan.io/address/0x852deD011285fe67063a08005c71a85690503Cee" target="_blank" rel="noopener noreferrer">Contrato desplegado</a></li>
<li>Hereda de <a href="https://github.com/lidofinance/lido-dao/blob/master/contracts/0.8.9/oracle/BaseOracle.sol" target="_blank" rel="noopener noreferrer">BaseOracle</a></li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Se recomienda leer <a href="/guías/oracle-operator-manual#introducci%C3%B3n">¿Qué es el mecanismo de Lido Oracle?</a> antes.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="qué-es-accountingoracle">¿Qué es AccountingOracle?<a class="hash-link" aria-label="Direct link to ¿Qué es AccountingOracle?" title="Direct link to ¿Qué es AccountingOracle?" href="/contracts/accounting-oracle#qué-es-accountingoracle">​</a></h2>
<p>AccountingOracle es un contrato que recopila información enviada por los oráculos fuera de la cadena sobre el estado de los validadores que participan en Lido y sus saldos, la cantidad de fondos acumulados en las bóvedas del protocolo (es decir, <a href="/contracts/withdrawal-vault">retiro</a> y <a href="/contracts/lido-execution-layer-rewards-vault">recompensas de la capa de ejecución</a>), el número de validadores <a href="/contracts/staking-router#validadores-salidos-y-atascados">salidos y atascados</a>, el número de <a href="/contracts/withdrawal-queue-erc721#solicitud">solicitudes de retiro</a> que el protocolo puede procesar y distribuye las recompensas a los operadores de nodos.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ciclo-de-reporte">Ciclo de reporte<a class="hash-link" aria-label="Direct link to Ciclo de reporte" title="Direct link to Ciclo de reporte" href="/contracts/accounting-oracle#ciclo-de-reporte">​</a></h2>
<p>El trabajo del oráculo se delimita por períodos de tiempo iguales llamados marcos. En operación normal, los oráculos finalizan un informe en cada marco (la duración del marco es de 225 épocas de la capa de consenso de Ethereum, cada marco comienza alrededor de las 12:00 del mediodía UTC). Cada marco tiene un slot de referencia y un plazo de procesamiento. Los datos del informe se recopilan observando el estado mundial (tanto de las capas de ejecución como de consenso de Ethereum) en el momento del slot de referencia del marco (incluyendo cualquier cambio de estado realizado en ese slot), y deben procesarse antes del plazo de procesamiento del marco.</p>
<p>El slot de referencia para cada marco se establece en el último slot de la época que precede a la primera época del marco. El plazo de procesamiento se establece en el último slot de la última época del marco.</p>
<p>Vale la pena señalar que la duración del marco <a href="/contracts/hash-consensus#setframeconfig">puede cambiarse</a>. Y si el informe del oráculo se retrasa, no extiende el período del informe, a menos que se pierda. En este caso, el próximo informe tendrá el período del informe incrementado.</p>
<p>El marco incluye estas etapas:</p>
<ul>
<li><strong>Esperando:</strong> el oráculo comienza como un <a href="/guías/oracle-operator-manual#el-daemon-del-or%C3%A1culo">daemon</a> y se despierta cada 12 segundos (por defecto) para encontrar el último slot finalizado, intentando colisionarlo con el slot de referencia esperado;</li>
<li><strong>Recopilación de datos:</strong> los oráculos monitorean el estado de ambas capas de ejecución y consenso y recopilan los datos para el slot de referencia finalizado que ha llegado con éxito;</li>
<li><strong>Consenso de hash:</strong> los oráculos analizan los datos, compilan el informe y envían su hash al contrato inteligente <a href="/contracts/hash-consensus"><code>HashConsensus</code></a>;</li>
<li><strong>Informe de actualización central:</strong> una vez que se alcanza el <a href="/contracts/hash-consensus#getquorum">quórum</a> de hashes, lo que significa que más de la mitad de los oráculos enviaron el mismo hash (es decir, 5 de 9 miembros del comité de oráculos en el momento de escribir), uno de los oráculos elegido a su vez envía el informe real al contrato <code>AccountingOracle</code>, lo que desencadena la actualización del estado central del protocolo, incluyendo la rebase del token, la distribución de recompensas a los operadores de nodos, la finalización de las solicitudes de retiro y la decisión del modo del protocolo: si entrar en modo búnker, y</li>
<li><strong>Informe de datos adicionales:</strong> un informe adicional que lleva información adicional que no es vital para la actualización central se envía a <code>AccountingOracle</code>, y puede enviarse en partes (por ejemplo, estados de claves de operadores de nodos y datos de distribución de recompensas).</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Como se dijo, los informes diarios del oráculo no deben darse por sentados.
Los daemons de los oráculos podrían dejar de enviar sus informes por períodos prolongados en caso de no haber <a href="https://ethereum.org/en/developers/docs/consensus-mechanisms/pos/#finality" target="_blank" rel="noopener noreferrer">finalidad</a> en la capa de consenso de Ethereum.
Esto resultaría en última instancia en la ausencia de informes del oráculo y en la falta de rebases de stETH durante todo ese período.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="procesamiento-de-informes">Procesamiento de informes<a class="hash-link" aria-label="Direct link to Procesamiento de informes" title="Direct link to Procesamiento de informes" href="/contracts/accounting-oracle#procesamiento-de-informes">​</a></h2>
<p>La <a href="/contracts/accounting-oracle#submitreportdata">envío</a> del informe principal a <code>AccountingOracle</code> desencadena los siguientes procesos en orden, aunque dentro de una única transacción:</p>
<ol>
<li>Actualizar el conteo de validadores salidos para cada módulo de staking en StakingRouter;</li>
<li>Actualizar el estado de modo búnker para WithdrawalQueue;</li>
<li>Manejar la función en el contrato Lido que realiza el cambio principal de estado del protocolo.</li>
<li>Almacenar información sobre ExtraData.</li>
</ol>
<p>El diagrama muestra la interacción con los contratos.</p>
<!-- -->
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="datos-del-informe">Datos del informe<a class="hash-link" aria-label="Direct link to Datos del informe" title="Direct link to Datos del informe" href="/contracts/accounting-oracle#datos-del-informe">​</a></h2>
<p>La función <code>submitReportData()</code> acepta la siguiente estructura <code>ReportData</code>.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ReportData</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> consensusVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> refSlot</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> numValidators</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> clBalanceGwei</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> stakingModuleIdsWithNewlyExitedValidators</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> numExitedValidatorsByStakingModule</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> withdrawalVaultBalance</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> elRewardsVaultBalance</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> sharesRequestedToBurn</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> withdrawalFinalizationBatches</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> simulatedShareRate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">bool</span><span class="token plain"> isBunkerMode</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> extraDataFormat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">bytes32</span><span class="token plain"> extraDataHash</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> extraDataItemsCount</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Información de consenso del oráculo</strong></p>
<ul>
<li><code>consensusVersion</code> — Versión de las reglas de consenso del oráculo. La versión actual esperada por el oráculo puede obtenerse llamando a <code>getConsensusVersion()</code>.</li>
<li><code>refSlot</code> — Slot de referencia para el cual se calculó el informe. El estado informado debe incluir todos los cambios de estado resultantes de todos los bloques hasta este slot de referencia (inclusive). La época que contiene el slot debe estar finalizada antes de calcular el informe.</li>
</ul>
<p><strong>Valores de la CL</strong></p>
<ul>
<li><code>numValidators</code> — El número de validadores en la capa de consenso de Ethereum que alguna vez fueron depositados a través de Lido, observado en el slot de referencia.</li>
<li><code>clBalanceGwei</code> — Saldo acumulado nominado en gwei de todos los validadores de Lido en la capa de consenso de Ethereum observado en el slot de referencia.</li>
<li><code>stakingModuleIdsWithNewlyExitedValidators</code> — IDs de módulos de staking que tienen más validadores salidos que el número almacenado en el contrato del módulo de staking respectivo, observado en el slot de referencia.</li>
<li><code>numExitedValidatorsByStakingModule</code> — Número de validadores que han salido alguna vez para cada uno de los módulos de staking del array <code>stakingModuleIdsWithNewlyExitedValidators</code>, observado en el slot de referencia.</li>
</ul>
<p><strong>Valores de la EL</strong></p>
<ul>
<li><code>withdrawalVaultBalance</code> — Saldo en ether de la <a href="/contracts/withdrawal-vault">bóveda de retiros</a> de Lido observado en el slot de referencia.</li>
<li><code>elRewardsVaultBalance</code> — Saldo en ether de la <a href="/contracts/lido-execution-layer-rewards-vault">bóveda de recompensas de la capa de ejecución</a> de Lido observado en el slot de referencia.</li>
<li><code>sharesRequestedToBurn</code> — La cantidad de acciones solicitadas para quemar a través del <a href="/contracts/burner">Burner</a> observado en el slot de referencia. El valor puede obtenerse de la siguiente manera:</li>
</ul>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">coverSharesToBurn</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> nonCoverSharesToBurn</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">IBurner</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">burner</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">getSharesRequestedToBurn</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sharesRequestedToBurn </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> coverSharesToBurn </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> nonCoverSharesToBurn</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>Decisión de finalización de retiros</h1>
<ul>
<li><code>withdrawalFinalizationBatches</code> — Array ordenado ascendentemente de IDs de solicitudes de retiro obtenidos por el daemon del oráculo al recopilar el informe llamando a <a href="/contracts/withdrawal-queue-erc721#calculatefinalizationbatches"><code>WithdrawalQueue.calculateFinalizationBatches</code></a>. Un array vacío significa que no hay solicitudes de retiro para finalizar.</li>
<li><code>simulatedShareRate</code> — La tasa de participación (es decir, <a href="/contracts/lido#gettotalpooledether">total de ether agrupado</a> dividido por <a href="/contracts/lido#gettotalshares">total de acciones</a>) con una precisión de 10^27 (es decir, multiplicado por 10^27) que sería efectiva como resultado de aplicar este informe del oráculo en el slot de referencia, con <code>withdrawalFinalizationBatches</code> establecido en array vacío y <code>simulatedShareRate</code> establecido en 0. Para estimar <code>simulatedShareRate</code> se debe realizar una llamada de vista <a href="/contracts/lido#handleoraclereport">Lido.handleOracleReport</a> directamente a través de la API JSON-RPC <a href="https://ethereum.org/en/developers/docs/apis/json-rpc/#eth_call" target="_blank" rel="noopener noreferrer"><code>eth_call</code></a> y calcularlo de la siguiente manera:</li>
</ul>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">_simulatedShareRate </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">postTotalPooledEther </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token operator" style="color:rgb(137, 221, 255)">**</span><span class="token number" style="color:rgb(247, 140, 108)">27</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> postTotalShares</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>donde <code>postTotalPooledEther</code> y <code>postTotalShares</code> se recuperaron como valores de retorno de la llamada de vista realizada.</p>
<ul>
<li><code>isBunkerMode</code> — Si, basado en el estado observado en el slot de referencia, el protocolo debe estar en modo búnker o en modo turbo (regular).</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><h5 class="anchor anchorWithStickyNavbar_LWe7" id="datos-adicionales">Datos adicionales<a class="hash-link" aria-label="Direct link to Datos adicionales" title="Direct link to Datos adicionales" href="/contracts/accounting-oracle#datos-adicionales">​</a></h5><p>Datos adicionales — la información del oráculo que permite el procesamiento asincrónico, potencialmente en partes, después de que se procesan los datos principales. El oráculo no impone que los datos adicionales adjuntos al mismo informe de datos se procesen en su totalidad antes de que expire el plazo de procesamiento o comience a procesarse un nuevo informe de datos, pero impone que no es posible procesar datos adicionales para un informe después de que expire su plazo de procesamiento o llegue un nuevo informe de datos.</p><p>Los datos adicionales son un array de elementos, cada elemento codificado de la siguiente manera:</p><p>3 bytes    2 bytes      X bytes
| itemIndex | itemType | itemPayload |</p><ul>
<li><code>itemIndex</code> es un índice basado en 0 en el array de datos adicionales;</li>
<li><code>itemType</code> es el tipo de elemento de datos adicionales;</li>
<li><code>itemPayload</code> es el dato del elemento cuya interpretación depende del tipo de elemento.</li>
</ul><p>Los elementos deben estar ordenados de manera ascendente por la clave compuesta <code>(itemType, ...itemSortingKey)</code> donde el cálculo de <code>itemSortingKey</code> depende del tipo de elemento (ver más abajo).</p><hr><p><strong><code>itemType=0</code></strong> (<code>EXTRA_DATA_TYPE_STUCK_VALIDATORS</code>): validadores atascados por operadores de nodos.</p><p>El campo <code>itemPayload</code> tiene el siguiente formato:</p><p>| 3 bytes  |   8 bytes    |  nodeOpsCount * 8 bytes  |  nodeOpsCount * 16 bytes  |
| moduleId | nodeOpsCount |      nodeOperatorIds     |   stuckValidatorsCounts   |</p><p><code>moduleId</code> es el módulo de staking para el cual se informan los conteos de claves salidas.</p><p><code>nodeOperatorIds</code> contiene un array de IDs de operadores de nodos que tienen cambios en los conteos totales de validadores atascados en comparación con el almacenamiento del contrato inteligente del módulo de staking observado en el slot de referencia. Cada ID es un uint de 8 bytes, los IDs están empaquetados de forma compacta.</p><p><code>nodeOpsCount</code> contiene el número de IDs de operadores de nodos contenidos en el array <code>nodeOperatorIds</code>. Así,</p><p>nodeOpsCount = byteLength(nodeOperatorIds) / 8</p><p><code>stuckValidatorsCounts</code> contiene un array de conteos totales de validadores atascados, observado en el slot de referencia, para los operadores de nodos del array <code>nodeOperatorIds</code>, en el mismo orden. Cada conteo es un uint de 16 bytes, los conteos están empaquetados de forma compacta. Así,</p><p>byteLength(stuckValidatorsCounts) = nodeOpsCount * 16</p><p><code>nodeOpsCount</code> no debe ser mayor que <code>maxAccountingExtraDataListItemsCount</code> especificado en el contrato <a href="/contracts/oracle-report-sanity-checker"><code>OracleReportSanityChecker</code></a>. Si un módulo de staking tiene más operadores de nodos con cambios en los conteos totales de validadores atascados en comparación con el almacenamiento del contrato inteligente del módulo de staking (observado en el slot de referencia), los informes para ese módulo deben dividirse en múltiples elementos.</p><p>La clave de ordenación del elemento es una clave compuesta que consiste en el ID del módulo y el ID del primer operador de nodos informado:</p><p>itemSortingKey = (moduleId, nodeOperatorIds[0:8])</p><hr><p><strong><code>itemType=1</code></strong> (<code>EXTRA_DATA_TYPE_EXITED_VALIDATORS</code>): validadores salidos por operadores de nodos.</p><p>El formato de carga útil es exactamente el mismo que para <code>itemType=EXTRA_DATA_TYPE_STUCK_VALIDATORS</code>, excepto que, en lugar de los conteos de validadores atascados, se informan los conteos de validadores salidos. La clave de ordenación del elemento se calcula de manera idéntica.</p><hr><p>El daemon del oráculo debe informar los conteos de validadores salidos/atascados SOLO para aquellos pares <code>(moduleId, nodeOperatorId)</code> que contienen conteos desactualizados en el almacenamiento del contrato inteligente del módulo de staking observado en el slot de referencia.</p><p>El array de datos adicionales puede pasarse en diferentes formatos, ver más abajo.</p></div></div>
<ul>
<li><code>extraDataFormat</code> - Formato de los datos adicionales. Actualmente, solo se admiten los formatos <code>EXTRA_DATA_FORMAT_EMPTY=0</code> y <code>EXTRA_DATA_FORMAT_LIST=1</code>. Ver la constante que define un formato de datos específico para más información.</li>
<li><code>extraDataHash</code> - Hash de los datos adicionales. Ver la constante que define un formato de datos adicionales específico para obtener información sobre cómo calcular el hash. Debe establecerse en un hash nulo si el informe del oráculo no contiene datos adicionales.</li>
<li><code>extraDataItemsCount</code> - Número de elementos de datos adicionales. Debe establecerse en cero si el informe del oráculo no contiene datos adicionales.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="acceso-y-permisos">Acceso y permisos<a class="hash-link" aria-label="Direct link to Acceso y permisos" title="Direct link to Acceso y permisos" href="/contracts/accounting-oracle#acceso-y-permisos">​</a></h2>
<p>El acceso a los métodos de palanca está restringido utilizando la funcionalidad del contrato <a href="https://github.com/lidofinance/lido-dao/blob/master/contracts/0.8.9/utils/access/AccessControlEnumerable.sol" target="_blank" rel="noopener noreferrer">AccessControlEnumerable</a> y un conjunto de <a href="/contracts/accounting-oracle#permisos">roles granulares</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="constantes">Constantes<a class="hash-link" aria-label="Direct link to Constantes" title="Direct link to Constantes" href="/contracts/accounting-oracle#constantes">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="lido">LIDO()<a class="hash-link" aria-label="Direct link to LIDO()" title="Direct link to LIDO()" href="/contracts/accounting-oracle#lido">​</a></h3>
<p>Devuelve una dirección del contrato <a href="/contracts/lido">Lido</a></p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token builtin" style="color:rgb(130, 170, 255)">address</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> immutable LIDO</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="locator">LOCATOR()<a class="hash-link" aria-label="Direct link to LOCATOR()" title="Direct link to LOCATOR()" href="/contracts/accounting-oracle#locator">​</a></h3>
<p>Devuelve la dirección del contrato <a href="/contracts/lido-locator">LidoLocator</a></p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">ILidoLocator </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> immutable LOCATOR</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="legacy_oracle">LEGACY_ORACLE()<a class="hash-link" aria-label="Direct link to LEGACY_ORACLE()" title="Direct link to LEGACY_ORACLE()" href="/contracts/accounting-oracle#legacy_oracle">​</a></h3>
<p>Devuelve la dirección del contrato <a href="/contracts/legacy-oracle">LegacyOracle</a></p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token builtin" style="color:rgb(130, 170, 255)">address</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> immutable LEGACY_ORACLE</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="seconds_per_slot">SECONDS_PER_SLOT()<a class="hash-link" aria-label="Direct link to SECONDS_PER_SLOT()" title="Direct link to SECONDS_PER_SLOT()" href="/contracts/accounting-oracle#seconds_per_slot">​</a></h3>
<p>Ver <a href="https://ethereum.org/en/developers/docs/blocks/#block-time" target="_blank" rel="noopener noreferrer">https://ethereum.org/en/developers/docs/blocks/#block-time</a></p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>siempre devuelve 12 segundos debido a <a href="https://ethereum.org/en/roadmap/merge/" target="_blank" rel="noopener noreferrer">the Merge</a></p></div></div>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> immutable SECONDS_PER_SLOT</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="genesis_time">GENESIS_TIME()<a class="hash-link" aria-label="Direct link to GENESIS_TIME()" title="Direct link to GENESIS_TIME()" href="/contracts/accounting-oracle#genesis_time">​</a></h3>
<p>Ver <a href="https://blog.ethereum.org/2020/11/27/eth2-quick-update-no-21" target="_blank" rel="noopener noreferrer">https://blog.ethereum.org/2020/11/27/eth2-quick-update-no-21</a></p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>siempre devuelve 1606824023 (1 de diciembre de 2020, 12:00:23 pm UTC) en <a href="https://blog.ethereum.org/2020/11/27/eth2-quick-update-no-21" target="_blank" rel="noopener noreferrer">Mainnet</a></p></div></div>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> immutable GENESIS_TIME</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="extra_data_type_stuck_validators">EXTRA_DATA_TYPE_STUCK_VALIDATORS()<a class="hash-link" aria-label="Direct link to EXTRA_DATA_TYPE_STUCK_VALIDATORS()" title="Direct link to EXTRA_DATA_TYPE_STUCK_VALIDATORS()" href="/contracts/accounting-oracle#extra_data_type_stuck_validators">​</a></h3>
<p>Este tipo lleva los detalles de los validador(es) <a href="/contracts/staking-router#validadores-salidos-y-atascados">atascados</a>.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">constant</span><span class="token plain"> EXTRA_DATA_TYPE_STUCK_VALIDATORS </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="extra_data_type_exited_validators">EXTRA_DATA_TYPE_EXITED_VALIDATORS()<a class="hash-link" aria-label="Direct link to EXTRA_DATA_TYPE_EXITED_VALIDATORS()" title="Direct link to EXTRA_DATA_TYPE_EXITED_VALIDATORS()" href="/contracts/accounting-oracle#extra_data_type_exited_validators">​</a></h3>
<p>Este tipo contiene los detalles de los validador(es) <a href="/contracts/staking-router#validadores-salidos-y-atascados">salidos</a>.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">constant</span><span class="token plain"> EXTRA_DATA_TYPE_EXITED_VALIDATORS </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="extra_data_format_empty">EXTRA_DATA_FORMAT_EMPTY()<a class="hash-link" aria-label="Direct link to EXTRA_DATA_FORMAT_EMPTY()" title="Direct link to EXTRA_DATA_FORMAT_EMPTY()" href="/contracts/accounting-oracle#extra_data_format_empty">​</a></h3>
<p>El formato de datos adicionales utilizado para significar que el informe del oráculo no contiene <a href="/contracts/accounting-oracle#datos-adicionales">datos adicionales</a>.</p>
<p>Enviado como parte de la <a href="/guías/oracle-operator-manual#fase-3-env%C3%ADo-de-datos-adicionales-del-informe">Fase 3</a> del oráculo.</p>
<p>Este formato se usa cuando no hay nuevos validadores <a href="/contracts/staking-router#validadores-salidos-y-atascados">atascados</a> o <a href="/contracts/staking-router#validadores-salidos-y-atascados">salidos</a> en el período del informe.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">constant</span><span class="token plain"> EXTRA_DATA_FORMAT_EMPTY </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="extra_data_format_list">EXTRA_DATA_FORMAT_LIST()<a class="hash-link" aria-label="Direct link to EXTRA_DATA_FORMAT_LIST()" title="Direct link to EXTRA_DATA_FORMAT_LIST()" href="/contracts/accounting-oracle#extra_data_format_list">​</a></h3>
<p>El formato de lista para el array de datos adicionales. Se utiliza cuando todo el procesamiento de datos adicionales cabe en una sola transacción.</p>
<p>Los datos adicionales se pasan en una sola transacción como un array de bytes que contiene todos los elementos de datos empaquetados de manera compacta.</p>
<p>El hash es un hash <code>keccak256</code> calculado sobre los elementos del array de bytes. El equivalente en Solidity del código de cálculo del hash sería <code>keccak256(array)</code>, donde <code>array</code> tiene el tipo <code>bytes</code>.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">constant</span><span class="token plain"> EXTRA_DATA_FORMAT_LIST </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="processingstate">ProcessingState<a class="hash-link" aria-label="Direct link to ProcessingState" title="Direct link to ProcessingState" href="/contracts/accounting-oracle#processingstate">​</a></h2>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ProcessingState</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> currentFrameRefSlot</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> processingDeadlineTime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">bytes32</span><span class="token plain"> mainDataHash</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">bool</span><span class="token plain"> mainDataSubmitted</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">bytes32</span><span class="token plain"> extraDataHash</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> extraDataFormat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">bool</span><span class="token plain"> extraDataSubmitted</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> extraDataItemsCount</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> extraDataItemsSubmitted</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>currentFrameRefSlot</code> - Slot de referencia para el marco de informes actual.</li>
<li><code>processingDeadlineTime</code> - El último tiempo en el que se pueden enviar datos para el marco de informes actual.</li>
<li><code>mainDataHash</code> - Hash de los datos del informe principal. Bytes cero si no se ha alcanzado el consenso sobre el hash para el marco de informes actual.</li>
<li><code>mainDataSubmitted</code> - Si los datos del informe principal para el marco de informes actual ya se han enviado.</li>
<li><code>extraDataHash</code> - Hash de los datos del informe adicional. Debe ser ignorado a menos que <code>mainDataSubmitted</code> sea verdadero.</li>
<li><code>extraDataFormat</code> - Formato de los datos del informe adicional para el marco de informes actual. Debe ser ignorado a menos que <code>mainDataSubmitted</code> sea verdadero.</li>
<li><code>extraDataSubmitted</code> - Número total de elementos de datos del informe adicional para el marco de informes actual. Debe ser ignorado a menos que <code>mainDataSubmitted</code> sea verdadero.</li>
<li><code>extraDataItemsSubmitted</code> - Cuántos elementos de datos del informe adicional ya se han enviado para el marco de informes actual.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="métodos-de-vista">Métodos de vista<a class="hash-link" aria-label="Direct link to Métodos de vista" title="Direct link to Métodos de vista" href="/contracts/accounting-oracle#métodos-de-vista">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getconsensuscontract">getConsensusContract()<a class="hash-link" aria-label="Direct link to getConsensusContract()" title="Direct link to getConsensusContract()" href="/contracts/accounting-oracle#getconsensuscontract">​</a></h3>
<p>Devuelve la dirección de la instancia del contrato <a href="/contracts/hash-consensus">HashConsensus</a> utilizada por <code>AccountingOracle</code>.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getConsensusContract</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">external</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">view</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">address</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getconsensusreport">getConsensusReport()<a class="hash-link" aria-label="Direct link to getConsensusReport()" title="Direct link to getConsensusReport()" href="/contracts/accounting-oracle#getconsensusreport">​</a></h3>
<p>Devuelve el último hash del informe de consenso y los metadatos.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getConsensusReport</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">external</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">view</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">bytes32</span><span class="token plain"> hash</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> refSlot</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> processingDeadlineTime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">bool</span><span class="token plain"> processingStarted</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns">Returns<a class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" href="/contracts/accounting-oracle#returns">​</a></h4>
<table><thead><tr><th>Nombre</th><th>Tipo</th><th>Descripción</th></tr></thead><tbody><tr><td><code>hash</code></td><td><code>bytes32</code></td><td>El último hash reportado</td></tr><tr><td><code>refSlot</code></td><td><code>uint256</code></td><td>El slot de referencia del marco: si los datos sobre los cuales se está alcanzando el consenso incluyen o dependen de algún estado on-chain, este estado debe consultarse en el slot de referencia. El estado reportado debe incluir todos los cambios de estado resultantes de todos los bloques hasta este slot de referencia (inclusive).</td></tr><tr><td><code>processingDeadlineTime</code></td><td><code>uint256</code></td><td>Marca de tiempo del último slot en el cual un informe puede ser reportado y procesado</td></tr><tr><td><code>processingStarted</code></td><td><code>bool</code></td><td>Indica si se ha iniciado o no el procesamiento del informe</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getconsensusversion">getConsensusVersion()<a class="hash-link" aria-label="Direct link to getConsensusVersion()" title="Direct link to getConsensusVersion()" href="/contracts/accounting-oracle#getconsensusversion">​</a></h3>
<p>Devuelve la versión actual de consenso esperada por el contrato del oráculo.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>La versión de consenso debe cambiar cada vez que cambian las reglas de consenso, lo que significa que un oráculo que observa el mismo slot de referencia calcularía un hash diferente.</p></div></div>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getConsensusVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">external</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">view</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getcontractversion">getContractVersion()<a class="hash-link" aria-label="Direct link to getContractVersion()" title="Direct link to getContractVersion()" href="/contracts/accounting-oracle#getcontractversion">​</a></h3>
<p>Devuelve la versión actual del contrato.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getContractVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">view</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getlastprocessingrefslot">getLastProcessingRefSlot()<a class="hash-link" aria-label="Direct link to getLastProcessingRefSlot()" title="Direct link to getLastProcessingRefSlot()" href="/contracts/accounting-oracle#getlastprocessingrefslot">​</a></h3>
<p>Devuelve el último slot de referencia para el cual se inició el procesamiento del informe.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getLastProcessingRefSlot</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">external</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">view</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getprocessingstate">getProcessingState()<a class="hash-link" aria-label="Direct link to getProcessingState()" title="Direct link to getProcessingState()" href="/contracts/accounting-oracle#getprocessingstate">​</a></h3>
<p>Devuelve el estado del procesamiento de datos para el marco de informes actual. Ver la documentación para la estructura <a href="/contracts/accounting-oracle#processingstate">ProcessingState</a>.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getProcessingState</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">external</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">view</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">ProcessingState </span><span class="token keyword" style="font-style:italic">memory</span><span class="token plain"> result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="métodos">Métodos<a class="hash-link" aria-label="Direct link to Métodos" title="Direct link to Métodos" href="/contracts/accounting-oracle#métodos">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="submitreportdata">submitReportData()<a class="hash-link" aria-label="Direct link to submitReportData()" title="Direct link to submitReportData()" href="/contracts/accounting-oracle#submitreportdata">​</a></h3>
<p>Envía los datos del informe para su procesamiento.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">submitReportData</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">ReportData </span><span class="token keyword" style="font-style:italic">calldata</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> contractVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parámetros">Parámetros<a class="hash-link" aria-label="Direct link to Parámetros" title="Direct link to Parámetros" href="/contracts/accounting-oracle#parámetros">​</a></h4>
<table><thead><tr><th>Nombre</th><th>Tipo</th><th>Descripción</th></tr></thead><tbody><tr><td><code>data</code></td><td><code>ReportData</code></td><td>Los datos. Ver la documentación de la estructura <a href="/contracts/accounting-oracle#datos-del-informe">ReportData</a> para más detalles.</td></tr><tr><td><code>contractVersion</code></td><td><code>uint256</code></td><td>Versión esperada del contrato del oráculo.</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="reverts">Reverts<a class="hash-link" aria-label="Direct link to Reverts" title="Direct link to Reverts" href="/contracts/accounting-oracle#reverts">​</a></h4>
<p>Para más información sobre reverts, ver una sección separada <a href="/contracts/accounting-oracle#reverts-3">aquí</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="submitreportextradataempty">submitReportExtraDataEmpty()<a class="hash-link" aria-label="Direct link to submitReportExtraDataEmpty()" title="Direct link to submitReportExtraDataEmpty()" href="/contracts/accounting-oracle#submitreportextradataempty">​</a></h3>
<p>Dispara el procesamiento requerido cuando no hay datos adicionales presentes en el informe, es decir, cuando el formato de datos adicionales es igual a EXTRA_DATA_FORMAT_EMPTY.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">submitReportExtraDataEmpty</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="reverts-1">Reverts<a class="hash-link" aria-label="Direct link to Reverts" title="Direct link to Reverts" href="/contracts/accounting-oracle#reverts-1">​</a></h4>
<ul>
<li>Reviértese con <code>SenderNotAllowed()</code> si el remitente no tiene un rol <code>SUBMIT_DATA_ROLE</code> y el remitente no es un miembro del consenso.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="submitreportextradatalist">submitReportExtraDataList()<a class="hash-link" aria-label="Direct link to submitReportExtraDataList()" title="Direct link to submitReportExtraDataList()" href="/contracts/accounting-oracle#submitreportextradatalist">​</a></h3>
<p>Envía los datos adicionales del informe en el formato EXTRA_DATA_FORMAT_LIST para su procesamiento.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">submitReportExtraDataList</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">bytes</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">calldata</span><span class="token plain"> items</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parámetros-1">Parámetros<a class="hash-link" aria-label="Direct link to Parámetros" title="Direct link to Parámetros" href="/contracts/accounting-oracle#parámetros-1">​</a></h4>
<table><thead><tr><th>Nombre</th><th>Tipo</th><th>Descripción</th></tr></thead><tbody><tr><td><code>items</code></td><td><code>bytes</code></td><td>La lista de elementos de datos adicionales. Ver la documentación para la constante <a href="/contracts/accounting-oracle#extra_data_format_list">EXTRA_DATA_FORMAT_LIST</a> para más detalles.</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="reverts-2">Reverts<a class="hash-link" aria-label="Direct link to Reverts" title="Direct link to Reverts" href="/contracts/accounting-oracle#reverts-2">​</a></h4>
<ul>
<li>Reviértese con <code>SenderNotAllowed()</code> si el remitente no tiene un rol <code>SUBMIT_DATA_ROLE</code> y el remitente no es un miembro del consenso.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="submitconsensusreport">submitConsensusReport()<a class="hash-link" aria-label="Direct link to submitConsensusReport()" title="Direct link to submitConsensusReport()" href="/contracts/accounting-oracle#submitconsensusreport">​</a></h3>
<p>Llamado por el contrato <a href="/contracts/hash-consensus">AccountingOracle HashConsensus</a> para enviar un informe de consenso para su procesamiento.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Tenga en cuenta que enviar el informe no requiere que el procesador comience a procesarlo de inmediato, esto puede suceder más tarde (ver <a href="/contracts/accounting-oracle#getlastprocessingrefslot"><code>getLastProcessingRefSlot</code></a>). Hasta que se inicie el procesamiento, HashConsensus es libre de alcanzar el consenso sobre otro informe para el mismo marco de informes y enviarlo usando esta misma función, o perder el consenso sobre el informe enviado, notificando al procesador a través de <code>discardConsensusReport</code>.</p></div></div>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">submitConsensusReport</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">bytes32</span><span class="token plain"> reportHash</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> refSlot</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> deadline</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parámetros-2">Parámetros<a class="hash-link" aria-label="Direct link to Parámetros" title="Direct link to Parámetros" href="/contracts/accounting-oracle#parámetros-2">​</a></h4>
<table><thead><tr><th>Nombre</th><th>Tipo</th><th>Descripción</th></tr></thead><tbody><tr><td><code>reportHash</code></td><td><code>bytes32</code></td><td>Hash de los datos calculados para el slot de referencia dado.</td></tr><tr><td><code>refSlot</code></td><td><code>uint256</code></td><td>El slot de referencia para el cual se calcularon los datos. Revierte si no coincide con el slot de referencia actual.</td></tr><tr><td><code>deadline</code></td><td><code>uint256</code></td><td>La marca de tiempo del último slot en el cual el informe puede ser procesado por el contrato de procesamiento de informes.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="discardconsensusreport">discardConsensusReport()<a class="hash-link" aria-label="Direct link to discardConsensusReport()" title="Direct link to discardConsensusReport()" href="/contracts/accounting-oracle#discardconsensusreport">​</a></h3>
<p>Llamado por el contrato HashConsensus para notificar que el informe para el slot de referencia dado
ya no es un informe de consenso y debe ser descartado. Esto puede suceder cuando un miembro
cambia su informe, es removido del conjunto, o cuando se incrementa el valor del quórum.</p>
<p>Solo se llama cuando, para el slot de referencia dado:</p>
<ol>
<li>Anteriormente hubo un informe de consenso; Y</li>
<li>El procesamiento del informe de consenso no ha comenzado aún; Y</li>
<li>La fecha límite para el procesamiento del informe no ha expirado aún; Y</li>
<li>Actualmente no hay un informe de consenso (de lo contrario, se llama a <a href="/contracts/accounting-oracle#submitconsensusreport">submitConsensusReport</a>).</li>
</ol>
<p>Puede ser llamado incluso cuando no hay un informe de consenso no descartado presentado para el slot de referencia actual, es decir, puede ser llamado múltiples veces sucesivamente.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">discardConsensusReport</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> refSlot</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setconsensuscontract">setConsensusContract()<a class="hash-link" aria-label="Direct link to setConsensusContract()" title="Direct link to setConsensusContract()" href="/contracts/accounting-oracle#setconsensuscontract">​</a></h3>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">setConsensusContract</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">address</span><span class="token plain"> addr</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setconsensusversion">setConsensusVersion()<a class="hash-link" aria-label="Direct link to setConsensusVersion()" title="Direct link to setConsensusVersion()" href="/contracts/accounting-oracle#setconsensusversion">​</a></h3>
<p>Establece la versión de consenso esperada por el contrato del oráculo.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">setConsensusVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> version</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="permisos">Permisos<a class="hash-link" aria-label="Direct link to Permisos" title="Direct link to Permisos" href="/contracts/accounting-oracle#permisos">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="submit_data_role">SUBMIT_DATA_ROLE()<a class="hash-link" aria-label="Direct link to SUBMIT_DATA_ROLE()" title="Direct link to SUBMIT_DATA_ROLE()" href="/contracts/accounting-oracle#submit_data_role">​</a></h3>
<p>Un rol de ACL que otorga permiso para enviar los datos para un informe del comité.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token builtin" style="color:rgb(130, 170, 255)">bytes32</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">constant</span><span class="token plain"> SUBMIT_DATA_ROLE </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">keccak256</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;SUBMIT_DATA_ROLE&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="manage_consensus_contract_role">MANAGE_CONSENSUS_CONTRACT_ROLE()<a class="hash-link" aria-label="Direct link to MANAGE_CONSENSUS_CONTRACT_ROLE()" title="Direct link to MANAGE_CONSENSUS_CONTRACT_ROLE()" href="/contracts/accounting-oracle#manage_consensus_contract_role">​</a></h3>
<p>Un rol de ACL que otorga permiso para establecer la dirección del contrato de consenso llamando a setConsensusContract.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token builtin" style="color:rgb(130, 170, 255)">bytes32</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">constant</span><span class="token plain"> MANAGE_CONSENSUS_CONTRACT_ROLE </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">keccak256</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;MANAGE_CONSENSUS_CONTRACT_ROLE&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="manage_consensus_version_role">MANAGE_CONSENSUS_VERSION_ROLE()<a class="hash-link" aria-label="Direct link to MANAGE_CONSENSUS_VERSION_ROLE()" title="Direct link to MANAGE_CONSENSUS_VERSION_ROLE()" href="/contracts/accounting-oracle#manage_consensus_version_role">​</a></h3>
<p>Un rol de ACL que otorga permiso para establecer la versión de consenso llamando a setConsensusVersion.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token builtin" style="color:rgb(130, 170, 255)">bytes32</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">constant</span><span class="token plain"> MANAGE_CONSENSUS_VERSION_ROLE </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">keccak256</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;MANAGE_CONSENSUS_VERSION_ROLE&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="eventos">Eventos<a class="hash-link" aria-label="Direct link to Eventos" title="Direct link to Eventos" href="/contracts/accounting-oracle#eventos">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="extradatasubmitted">ExtraDataSubmitted()<a class="hash-link" aria-label="Direct link to ExtraDataSubmitted()" title="Direct link to ExtraDataSubmitted()" href="/contracts/accounting-oracle#extradatasubmitted">​</a></h3>
<p>Se emite cuando se han enviado datos adicionales para el marco de informes actual.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">ExtraDataSubmitted</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">indexed</span><span class="token plain"> refSlot</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> itemsProcessed</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> itemsCount</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="warnextradataincompleteprocessing">WarnExtraDataIncompleteProcessing()<a class="hash-link" aria-label="Direct link to WarnExtraDataIncompleteProcessing()" title="Direct link to WarnExtraDataIncompleteProcessing()" href="/contracts/accounting-oracle#warnextradataincompleteprocessing">​</a></h3>
<p>Se emite cuando se intenta enviar el mismo informe, pero aún no se han procesado todos los elementos.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">event</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">WarnExtraDataIncompleteProcessing</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">indexed</span><span class="token plain"> refSlot</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> processedItemsCount</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> itemsCount</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="consensushashcontractset">ConsensusHashContractSet()<a class="hash-link" aria-label="Direct link to ConsensusHashContractSet()" title="Direct link to ConsensusHashContractSet()" href="/contracts/accounting-oracle#consensushashcontractset">​</a></h3>
<p>Se emite cuando se cambia el valor del hash del contrato.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">event</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">ConsensusHashContractSet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">address</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">indexed</span><span class="token plain"> addr</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">address</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">indexed</span><span class="token plain"> prevAddr</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="consensusversionset">ConsensusVersionSet()<a class="hash-link" aria-label="Direct link to ConsensusVersionSet()" title="Direct link to ConsensusVersionSet()" href="/contracts/accounting-oracle#consensusversionset">​</a></h3>
<p>Se emite cuando se cambia el valor de la versión de consenso.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">event</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">ConsensusVersionSet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">indexed</span><span class="token plain"> version</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">indexed</span><span class="token plain"> prevVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="reportsubmitted">ReportSubmitted()<a class="hash-link" aria-label="Direct link to ReportSubmitted()" title="Direct link to ReportSubmitted()" href="/contracts/accounting-oracle#reportsubmitted">​</a></h3>
<p>Se emite cuando se envía un nuevo hash de informe de consenso</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">event</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">ReportSubmitted</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">indexed</span><span class="token plain"> refSlot</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">bytes32</span><span class="token plain"> hash</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> processingDeadlineTime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="reportdiscarded">ReportDiscarded()<a class="hash-link" aria-label="Direct link to ReportDiscarded()" title="Direct link to ReportDiscarded()" href="/contracts/accounting-oracle#reportdiscarded">​</a></h3>
<p>Se emite cuando se descarta un informe de consenso.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">event</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">ReportDiscarded</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">indexed</span><span class="token plain"> refSlot</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">bytes32</span><span class="token plain"> hash</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="processingstarted">ProcessingStarted()<a class="hash-link" aria-label="Direct link to ProcessingStarted()" title="Direct link to ProcessingStarted()" href="/contracts/accounting-oracle#processingstarted">​</a></h3>
<p>Se emite cuando se envían datos de informe</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">event</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">ProcessingStarted</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">indexed</span><span class="token plain"> refSlot</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">bytes32</span><span class="token plain"> hash</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="warnprocessingmissed">WarnProcessingMissed()<a class="hash-link" aria-label="Direct link to WarnProcessingMissed()" title="Direct link to WarnProcessingMissed()" href="/contracts/accounting-oracle#warnprocessingmissed">​</a></h3>
<p>Se emite en <a href="/contracts/accounting-oracle#submitconsensusreport">submitConsensusReport</a> cuando <code>refSlot != prevSubmittedRefSlot &amp;&amp; prevProcessingRefSlot != prevSubmittedRefSlot</code></p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">event</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">WarnProcessingMissed</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">indexed</span><span class="token plain"> refSlot</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="reverts-3">Reverts<a class="hash-link" aria-label="Direct link to Reverts" title="Direct link to Reverts" href="/contracts/accounting-oracle#reverts-3">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="submitreportdata-1">submitReportData()<a class="hash-link" aria-label="Direct link to submitReportData()" title="Direct link to submitReportData()" href="/contracts/accounting-oracle#submitreportdata-1">​</a></h3>
<p>Para asegurarse de que los datos reportados están dentro de los valores posibles, la función manejadora realiza una serie de comprobaciones de sanidad. Al comprobar, pueden ocurrir reverts en diferentes contratos.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="contratos-accountingoracle-y-baseoracle">Contratos AccountingOracle y BaseOracle<a class="hash-link" aria-label="Direct link to Contratos AccountingOracle y BaseOracle" title="Direct link to Contratos AccountingOracle y BaseOracle" href="/contracts/accounting-oracle#contratos-accountingoracle-y-baseoracle">​</a></h4>
<ul>
<li>Revierte con <code>SenderNotAllowed()</code> si el llamador no tiene un rol <code>SUBMIT_DATA_ROLE</code> y no es un miembro del comité del oráculo.</li>
<li>Revierte con <code>UnexpectedContractVersion(expectedVersion, version)</code> si la versión del contrato proporcionada es diferente de la actual.</li>
<li>Revierte con <code>UnexpectedConsensusVersion(expectedConsensusVersion, consensusVersion)</code> si la versión de consenso proporcionada es diferente de la esperada.</li>
<li>Revierte con <code>UnexpectedRefSlot(report.refSlot, refSlot)</code> si el slot de referencia proporcionado difiere del del marco de consenso actual.</li>
<li>Revierte con <code>UnexpectedDataHash(report.hash, hash)</code> si el hash keccak256 de los datos codificados en ABI es diferente del último hash.</li>
<li>Revierte con <code>NoConsensusReportToProcess()</code> si los datos del hash del informe son 0.</li>
<li>Revierte con <code>RefSlotAlreadyProcessing()</code> si el slot de referencia del informe es igual al slot de referencia de procesamiento previo.</li>
<li>Revierte con <code>UnexpectedExtraDataHash(bytes32(0), data.extraDataHash)</code> si <code>data.extraDataFormat</code> es <code>EXTRA_DATA_FORMAT_EMPTY</code> y <code>data.extraDataHash</code> es 0.</li>
<li>Revierte con <code>UnexpectedExtraDataItemsCount(0, data.extraDataItemsCount)</code> si <code>data.extraDataFormat</code> es <code>EXTRA_DATA_FORMAT_EMPTY</code> y <code>data.extraDataItemsCount</code> no es 0.</li>
<li>Revierte con <code>UnsupportedExtraDataFormat(data.extraDataFormat)</code> si <code>data.extraDataFormat</code> no es <code>EXTRA_DATA_FORMAT_EMPTY</code> y no es <code>EXTRA_DATA_FORMAT_LIST</code>.</li>
<li>Revierte con <code>ExtraDataItemsCountCannotBeZeroForNonEmptyData()</code> si <code>data.extraDataFormat</code> es <code>EXTRA_DATA_FORMAT_LIST</code> y <code>data.extraDataItemsCount</code> es 0.</li>
<li>Revierte con <code>ExtraDataHashCannotBeZeroForNonEmptyData()</code> si <code>data.extraDataFormat</code> es <code>EXTRA_DATA_FORMAT_LIST</code> y <code>data.extraDataHash</code> es 0.</li>
<li>Revierte con <code>InvalidExitedValidatorsData()</code> si los datos de validadores salientes proporcionados no cumplen con las comprobaciones de seguridad.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="oraclereportsanitychecker">OracleReportSanityChecker<a class="hash-link" aria-label="Direct link to OracleReportSanityChecker" title="Direct link to OracleReportSanityChecker" href="/contracts/accounting-oracle#oraclereportsanitychecker">​</a></h4>
<ul>
<li>Revierte con el error <code>MaxAccountingExtraDataItemsCountExceeded(uint256 maxItemsCount, uint256 receivedItemsCount)</code> cuando la comprobación falla, más información <a href="/contracts/oracle-report-sanity-checker#checkaccountingextradatalistitemscount">aquí</a></li>
<li>Revierte con <code>ExitedValidatorsLimitExceeded(uint256 limitPerDay, uint256 exitedPerDay)</code> si los datos de validadores salientes proporcionados no cumplen con las comprobaciones de seguridad. (OracleReportSanityChecker)</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="stakingrouter">StakingRouter<a class="hash-link" aria-label="Direct link to StakingRouter" title="Direct link to StakingRouter" href="/contracts/accounting-oracle#stakingrouter">​</a></h4>
<ul>
<li>Revierte con <code>ArraysLengthMismatch(_stakingModuleIds.length, _exitedValidatorsCounts.length)</code> si los datos de validadores salientes proporcionados no cumplen con las comprobaciones de seguridad. (StakingRouter)</li>
<li>Revierte con <code>ExitedValidatorsCountCannotDecrease()</code> si los datos de validadores salientes proporcionados no cumplen con las comprobaciones de seguridad. (StakingRouter)</li>
<li>Revierte con <code>ReportedExitedValidatorsExceedDeposited(uint256 reportedExitedValidatorsCount,uint256 depositedValidatorsCount)</code> si los datos de validadores salientes proporcionados no cumplen con las comprobaciones de seguridad. (StakingRouter)</li>
</ul>
<p>Otras reverts en <code>Lido.handleOracleReport()</code></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/adminseedlatam/lido-docs-spanish/edit/main/docs/contracts/accounting-oracle.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/contracts/eip712-steth"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">EIP712StETH</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/contracts/validators-exit-bus-oracle"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">ValidatorsExitBusOracle</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#qué-es-accountingoracle">¿Qué es AccountingOracle?</a></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#ciclo-de-reporte">Ciclo de reporte</a></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#procesamiento-de-informes">Procesamiento de informes</a></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#datos-del-informe">Datos del informe</a></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#acceso-y-permisos">Acceso y permisos</a></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#constantes">Constantes</a><ul><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#lido">LIDO()</a></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#locator">LOCATOR()</a></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#legacy_oracle">LEGACY_ORACLE()</a></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#seconds_per_slot">SECONDS_PER_SLOT()</a></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#genesis_time">GENESIS_TIME()</a></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#extra_data_type_stuck_validators">EXTRA_DATA_TYPE_STUCK_VALIDATORS()</a></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#extra_data_type_exited_validators">EXTRA_DATA_TYPE_EXITED_VALIDATORS()</a></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#extra_data_format_empty">EXTRA_DATA_FORMAT_EMPTY()</a></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#extra_data_format_list">EXTRA_DATA_FORMAT_LIST()</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#processingstate">ProcessingState</a></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#métodos-de-vista">Métodos de vista</a><ul><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#getconsensuscontract">getConsensusContract()</a></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#getconsensusreport">getConsensusReport()</a></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#getconsensusversion">getConsensusVersion()</a></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#getcontractversion">getContractVersion()</a></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#getlastprocessingrefslot">getLastProcessingRefSlot()</a></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#getprocessingstate">getProcessingState()</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#métodos">Métodos</a><ul><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#submitreportdata">submitReportData()</a></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#submitreportextradataempty">submitReportExtraDataEmpty()</a></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#submitreportextradatalist">submitReportExtraDataList()</a></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#submitconsensusreport">submitConsensusReport()</a></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#discardconsensusreport">discardConsensusReport()</a></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#setconsensuscontract">setConsensusContract()</a></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#setconsensusversion">setConsensusVersion()</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#permisos">Permisos</a><ul><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#submit_data_role">SUBMIT_DATA_ROLE()</a></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#manage_consensus_contract_role">MANAGE_CONSENSUS_CONTRACT_ROLE()</a></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#manage_consensus_version_role">MANAGE_CONSENSUS_VERSION_ROLE()</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#eventos">Eventos</a><ul><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#extradatasubmitted">ExtraDataSubmitted()</a></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#warnextradataincompleteprocessing">WarnExtraDataIncompleteProcessing()</a></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#consensushashcontractset">ConsensusHashContractSet()</a></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#consensusversionset">ConsensusVersionSet()</a></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#reportsubmitted">ReportSubmitted()</a></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#reportdiscarded">ReportDiscarded()</a></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#processingstarted">ProcessingStarted()</a></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#warnprocessingmissed">WarnProcessingMissed()</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#reverts-3">Reverts</a><ul><li><a class="table-of-contents__link toc-highlight" href="/contracts/accounting-oracle#submitreportdata-1">submitReportData()</a></li></ul></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>