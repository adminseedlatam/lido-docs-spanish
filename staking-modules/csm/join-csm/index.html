<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-staking-modules/csm/join-csm" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Unirse a CSM | Lido Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://adminseedlatam.github.io/staking-modules/csm/join-csm"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Unirse a CSM | Lido Docs"><meta data-rh="true" name="description" content="join-csm-1"><meta data-rh="true" property="og:description" content="join-csm-1"><link data-rh="true" rel="canonical" href="https://adminseedlatam.github.io/staking-modules/csm/join-csm"><link data-rh="true" rel="alternate" href="https://adminseedlatam.github.io/staking-modules/csm/join-csm" hreflang="en"><link data-rh="true" rel="alternate" href="https://adminseedlatam.github.io/staking-modules/csm/join-csm" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.4b5e42a6.css">
<script src="/assets/js/runtime~main.7dfaf175.js" defer="defer"></script>
<script src="/assets/js/main.7bea6c5b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Lido Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Lido Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Lido Docs</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/adminseedlatam/lido-docs-spanish" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Introducción</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lido-dao">Lido DAO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/guías/lido-tokens-integration-guide">Guía de integración de tokens de Lido</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/guías/node-operators/general-overview">Guías</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/integrations/api">Integrations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/guías-token/steth-superuser-functions">Guías Token</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/contracts/lido-locator">Contracts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/security/bugbounty">Security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/deployed-contracts/">Deployed contracts</a><button aria-label="Expand sidebar category &#x27;Deployed contracts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/multisigs/emergency-brakes">Multisigs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ipfs/about">IPFS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/staking-modules/csm/intro">Staking Modules</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/staking-modules/csm/intro">CSM</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/staking-modules/csm/intro">Introducción</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/staking-modules/csm/join-csm">Unirse a CSM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/staking-modules/csm/rewards">Recompensas</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/staking-modules/csm/penalties">Penalizaciones</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/staking-modules/csm/validator-exits">Validator Exits</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/staking-modules/csm/further-reading">Further reading</a></li></ul></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Staking Modules</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">CSM</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Unirse a CSM</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Unirse a CSM</h1>
<p><img decoding="async" loading="lazy" alt="join-csm-1" src="/assets/images/join-csm-1-0d4160028c3b5a5ab570a5057990f45e.png" width="2753" height="1979" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="creación-de-operador-de-nodo">Creación de Operador de Nodo<a class="hash-link" aria-label="Direct link to Creación de Operador de Nodo" title="Direct link to Creación de Operador de Nodo" href="/staking-modules/csm/join-csm#creación-de-operador-de-nodo">​</a></h2>
<p>Para convertirse en Operador de Nodo en CSM o registrar nuevos validadores para un Operador de Nodo existente, se debe proporcionar al menos una <code>clave pública del validador</code>, la firma de depósito correspondiente <a href="https://github.com/ethereum/consensus-specs/blob/v1.4.0/specs/phase0/beacon-chain.md#signingdata" target="_blank" rel="noopener noreferrer"><code>signature</code></a>, y el monto de colateral correspondiente.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="preparación-y-carga-de-datos-de-depósito">Preparación y carga de datos de depósito<a class="hash-link" aria-label="Direct link to Preparación y carga de datos de depósito" title="Direct link to Preparación y carga de datos de depósito" href="/staking-modules/csm/join-csm#preparación-y-carga-de-datos-de-depósito">​</a></h2>
<p>CSM acepta datos de depósito en el mismo <a href="/contracts/node-operators-registry#addsigningkeys">formato</a> (<code>clave pública del validador</code> + <code>firma de depósito</code>) que el <a href="/contracts/node-operators-registry">módulo Curated</a>, con la principal diferencia de que se requiere presentar el colateral antes o junto con la carga de datos de depósito.</p>
<p><a href="https://github.com/ethereum/consensus-specs/blob/v1.4.0/specs/phase0/beacon-chain.md#signingdata" target="_blank" rel="noopener noreferrer"><code>signature</code></a> <strong>debe</strong> firmar la raíz del <code>(mensaje de depósito, dominio)</code>. Donde <code>dominio</code> se utiliza para identificar la cadena, y <code>mensaje de depósito</code> tiene la forma de la siguiente tupla:</p>
<ul>
<li><code>clave pública del validador</code>;</li>
<li><code>credenciales de retiro</code> con la dirección real del <a href="/contracts/withdrawal-vault"><code>Contrato de Bóveda de Retiro de Lido</code></a>. Debe recuperarse del <a href="/contracts/staking-router#getwithdrawalcredentials">Enrutador de Staking</a>;</li>
<li><code>cantidad de 32 ETH</code>;</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="colateral">Colateral<a class="hash-link" aria-label="Direct link to Colateral" title="Direct link to Colateral" href="/staking-modules/csm/join-csm#colateral">​</a></h2>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Aquí y después, el término &#x27;colateral&#x27; tiene el siguiente significado:</p><p><strong>Colateral</strong> - una garantía de seguridad que los Operadores de Nodo deben presentar antes de cargar las claves de validador en CSM. Esta garantía cubre posibles pérdidas causadas por acciones inapropiadas del lado del Operador de Nodo. Una vez que el validador sale de la cadena Beacon y todas las pérdidas que ocurrieron están cubiertas, la garantía se puede reclamar o reutilizar para cargar nuevas claves de validador.</p></div></div>
<p>El colateral es una propiedad de un Operador de Nodo, no de un validador. El colateral se almacena en forma de stETH. Los Operadores de Nodo pueden presentar tokens de colateral en ETH, stETH y wstETH. Si se proporciona ETH, se apuesta, y se desempaqueta wstETH durante la presentación para garantizar que stETH sea la única forma de colateral.</p>
<p>El monto total del colateral requerido depende del número total de validadores del Operador de Nodo y tiene la forma de una curva (ver <a href="https://github.com/lidofinance/community-staking-module/blob/main/src/abstract/CSBondCurve.sol#L92" target="_blank" rel="noopener noreferrer"><code>getBondAmountByKeysCount(keysCount)</code></a>)</p>
<p><img decoding="async" loading="lazy" alt="join-csm-2" src="/assets/images/join-csm-2-d5e059fd3dc0441b5aa1c53c4d7aaab6.png" width="2226" height="1314" class="img_ev3q"></p>
<p>El gráfico anterior se puede volver a dibujar para la conveniencia del lector con respecto al número de validadores, no a los validadores totales.</p>
<p><img decoding="async" loading="lazy" alt="join-csm-3" src="/assets/images/join-csm-3-9b11f664a1de1a98685b297aff004399.png" width="2170" height="996" class="img_ev3q"></p>
<p>Puede haber varias curvas de colateral (implementaciones de la función <code>getBondAmountByKeysCount</code>). Se asigna una curva predeterminada a todos los Operadores de Nodo al crearlos. Más tarde, se puede establecer una curva personalizada para el Operador de Nodo.</p>
<p>Los Operadores de Nodo existentes pueden aumentar el colateral sin cargar datos de depósito para compensar las penalizaciones o para tener fondos de colateral cargados por adelantado.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="validadores-no-garantizados">Validadores no garantizados<a class="hash-link" aria-label="Direct link to Validadores no garantizados" title="Direct link to Validadores no garantizados" href="/staking-modules/csm/join-csm#validadores-no-garantizados">​</a></h3>
<p>El término &quot;no garantizado&quot; se introduce para referirse a los validadores para los cuales el colateral no cubre completamente a este validador. Teniendo en cuenta el enfoque cuando el colateral es común para todos los validadores del Operador de Nodo, los validadores no garantizados se pueden determinar de la manera ilustrada a continuación. En el ejemplo, el validador N+1 no está garantizado.</p>
<p><img decoding="async" loading="lazy" alt="join-csm-4" src="/assets/images/join-csm-4-e16e693d85f61db74fc411e20b02749b.png" width="2716" height="528" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="posibles-consecuencias-negativas-del-rebase-de-steth">Posibles consecuencias negativas del rebase de stETH<a class="hash-link" aria-label="Direct link to Posibles consecuencias negativas del rebase de stETH" title="Direct link to Posibles consecuencias negativas del rebase de stETH" href="/staking-modules/csm/join-csm#posibles-consecuencias-negativas-del-rebase-de-steth">​</a></h3>
<p>Con el colateral almacenado en stETH, existe el riesgo de una reducción en el monto del colateral debido a un rebase negativo de stETH. Esto podría resultar en que algunos Operadores de Nodo no puedan reclamar recompensas (debido a que el colateral real es menor de lo requerido) o incluso en que los validadores se vuelvan no garantizados. Este problema se describe en detalle en <a href="https://hackmd.io/@lido/BJqWx7P0p" target="_blank" rel="noopener noreferrer">Mecánica del Bono en Lido ADR</a>. Para este documento, vale la pena mencionar que CSM no requiere acciones adicionales debido a la baja probabilidad de rebase negativo de stETH y a un <a href="/contracts/insurance">fondo de seguro</a> dedicado a disposición de Lido DAO para su posible uso como cobertura.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="validación-y-anulación-de-datos-de-depósito-aka-aprobación-y-desaprobación">Validación y anulación de datos de depósito (aka aprobación y desaprobación)<a class="hash-link" aria-label="Direct link to Validación y anulación de datos de depósito (aka aprobación y desaprobación)" title="Direct link to Validación y anulación de datos de depósito (aka aprobación y desaprobación)" href="/staking-modules/csm/join-csm#validación-y-anulación-de-datos-de-depósito-aka-aprobación-y-desaprobación">​</a></h2>
<p>Dado el próximo <a href="https://hackmd.io/@lido/rJrTnEc2a" target="_blank" rel="noopener noreferrer">DSM</a> mejora, CSM utilizará un enfoque <a href="https://hackmd.io/@lido/ryw2Qo5ia" target="_blank" rel="noopener noreferrer">optimista de aprobación</a>. Los datos de depósito cargados se tratarán como válidos a menos que DSM informe lo contrario. En caso de detección de datos de depósito inválidos, DSM llama a <a href="https://github.com/lidofinance/community-staking-module/blob/main/src/CSModule.sol#L861" target="_blank" rel="noopener noreferrer"><code>decreaseVettedSigningKeysCount</code></a> para establecer el puntero <code>vettedKeys</code> a los datos de depósito antes del primer dato de depósito inválido. En este caso, un Operador de Nodo debe eliminar las claves inválidas para reanudar la asignación de participación a las claves válidas no depositadas.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="claves-depositables">Claves depositables<a class="hash-link" aria-label="Direct link to Claves depositables" title="Direct link to Claves depositables" href="/staking-modules/csm/join-csm#claves-depositables">​</a></h2>
<p>Varios factores determinan si el depósito se puede realizar utilizando los datos de depósito correspondientes. Esta información se refleja en la propiedad <code>depositableKeys</code> del Operador de Nodo. Esta propiedad indica el número de registros de datos de depósito extraídos secuencialmente a partir del último registro de depósito disponible en el almacenamiento de claves del Operador de Nodo para depósitos por el enrutador de staking. Este número se determina de la siguiente manera:</p>
<ul>
<li><code>targetLimit</code> no está establecido -&gt; <code>vettedKeys - depositedKeys - unbondedKeys</code></li>
<li><code>targetLimit</code> está establecido -&gt; <code>mínimo(vettedKeys, targetLimit) - depositedKeys - unbondedKeys</code></li>
<li>Operador de Nodo tiene <code>stuckKeys != 0</code> sin importar el <code>targetLimit</code> -&gt; <code>0</code>.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cola-de-asignación-de-stake">Cola de asignación de Stake<a class="hash-link" aria-label="Direct link to Cola de asignación de Stake" title="Direct link to Cola de asignación de Stake" href="/staking-modules/csm/join-csm#cola-de-asignación-de-stake">​</a></h2>
<p>La cola de asignación de stake en CSM es una cola <a href="https://en.wikipedia.org/wiki/FIFO_(computing_and_electronics)" target="_blank" rel="noopener noreferrer">FIFO</a> (primero en entrar, primero en salir) tradicional. Los Operadores de Nodo ocupan lugares en la cola con los lotes <code>{noId, keysCount}</code> y esperan su turno.</p>
<p><img decoding="async" loading="lazy" alt="join-csm-5" src="/assets/images/join-csm-5-518cf6c776afc349ccaf75fcfcf8d868.png" width="2616" height="1385" class="img_ev3q"></p>
<p>Una vez que la cola alcanza el lote del Operador de Nodo, CSM verifica cuántas claves del lote se pueden depositar utilizando la fórmula: <code>mín(depositableKeys, keysInBatch)</code>.</p>
<p><img decoding="async" loading="lazy" alt="join-csm-6" src="/assets/images/join-csm-6-3e7a41f56bbe2a5b6616a659db553616.png" width="2058" height="1025" class="img_ev3q"></p>
<p>Puede darse el caso de que un Operador de Nodo tenga claves que no están en la cola porque se omitieron durante las iteraciones de la cola al no ser depositables en ese momento. El método <code>normalizeQueue</code> permite a los Operadores de Nodo colocar todas las claves depositables de nuevo en la cola.</p>
<p>Hay varios punteros con respecto al almacenamiento de datos de depósito en CSM. Entre otros, hay punteros <code>totalAddedKeys</code> y <code>totalVettedKeys</code>. Con el enfoque optimista de aprobación, estos dos punteros deberían estar sincronizados la mayor parte del tiempo (<code>totalAddedKeys == totalVettedKeys</code>), dado que no hay informes sobre la presencia de datos de depósito inválidos. Por lo tanto, hay dos formas en que los datos de depósito se pueden colocar en la cola:</p>
<ul>
<li>Una vez que se cargan los datos de depósito, si <code>totalAddedKeys == totalVettedKeys</code>;</li>
<li>Después de llamar al método <a href="https://github.com/lidofinance/community-staking-module/blob/main/src/CSModule.sol#L978" target="_blank" rel="noopener noreferrer"><code>normalizeQueue</code></a>, en caso de</li>
</ul>
<p>que algunas claves no se colocaran en la cola al cargarse (<code>totalAddedKeys != totalVettedKeys</code> en el momento de la carga) o se omitieran durante las iteraciones de la cola;</p>
<p>Existe un método para verificar los próximos <code>X</code> elementos y eliminar aquellos que no contienen claves depositables. Este método es necesario para garantizar el funcionamiento de la cola incluso en escenarios catastróficos que resulten en una significativa &quot;contaminación&quot; de la cola con claves no depositables.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="eliminación-de-datos-de-depósito">Eliminación de datos de depósito<a class="hash-link" aria-label="Direct link to Eliminación de datos de depósito" title="Direct link to Eliminación de datos de depósito" href="/staking-modules/csm/join-csm#eliminación-de-datos-de-depósito">​</a></h2>
<p>El Operador de Nodo puede eliminar voluntariamente los datos de depósito cargados si aún no se han depositado. El <code>removalCharge</code> se confisca del colateral del Operador de Nodo en cada clave eliminada para cubrir los costos operativos máximos posibles asociados con el procesamiento de la cola. Los datos de depósito se pueden eliminar en lotes continuos (por ejemplo, desde el índice 5 hasta el 10).</p>
<p>Si el protocolo ya ha depositado el validador relacionado con los datos de depósito, el Operador de Nodo no puede eliminar los datos de depósito. La única forma de detener los deberes de validación es salir del validador en el CL. Una vez que el validador se retire completamente, el Operador de Nodo puede reclamar el exceso de colateral.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="período-de-adopción-temprana">Período de Adopción Temprana<a class="hash-link" aria-label="Direct link to Período de Adopción Temprana" title="Direct link to Período de Adopción Temprana" href="/staking-modules/csm/join-csm#período-de-adopción-temprana">​</a></h2>
<p>Uno de los desafíos con la entrada sin permisos para los Operadores de Nodo con condiciones atractivas es la posibilidad de que un actor importante ocupe todos los asientos en el módulo de participación. Para superar esto, se propone un Período de Adopción Temprana como la primera etapa del ciclo de vida principal de CSM. Se requiere una prueba de Merkle como boleto de entrada al CSM en la mainnet para unirse durante el Período de Adopción Temprana. Además de la capacidad para unirse, tales Operadores de Nodo serán elegibles para el &quot;descuento de colateral para el primer validador&quot;. Esto asegurará que durante el Período de Adopción Temprana, <a href="https://github.com/lidofinance/community-staking-module/tree/main/artifacts/holesky/early-adoption" target="_blank" rel="noopener noreferrer">validadores solitarios probados</a> podrán unirse con un pequeño beneficio.</p>
<p>Consulte el <a href="https://hackmd.io/@lido/HyKgaBMj6" target="_blank" rel="noopener noreferrer">documento detallado</a> para obtener más información sobre los mecanismos del Período de Adopción Temprana.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="lecturas-adicionales">Lecturas adicionales<a class="hash-link" aria-label="Direct link to Lecturas adicionales" title="Direct link to Lecturas adicionales" href="/staking-modules/csm/join-csm#lecturas-adicionales">​</a></h2>
<ul>
<li><a href="/staking-modules/csm/rewards">Recompensas</a></li>
<li><a href="/staking-modules/csm/penalties">Penalizaciones</a></li>
<li><a href="/staking-modules/csm/validator-exits">Salidas de validadores</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/adminseedlatam/lido-docs-spanish/edit/main/docs/staking-modules/csm/join-csm.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/staking-modules/csm/intro"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Introducción</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/staking-modules/csm/rewards"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Recompensas</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/staking-modules/csm/join-csm#creación-de-operador-de-nodo">Creación de Operador de Nodo</a></li><li><a class="table-of-contents__link toc-highlight" href="/staking-modules/csm/join-csm#preparación-y-carga-de-datos-de-depósito">Preparación y carga de datos de depósito</a></li><li><a class="table-of-contents__link toc-highlight" href="/staking-modules/csm/join-csm#colateral">Colateral</a><ul><li><a class="table-of-contents__link toc-highlight" href="/staking-modules/csm/join-csm#validadores-no-garantizados">Validadores no garantizados</a></li><li><a class="table-of-contents__link toc-highlight" href="/staking-modules/csm/join-csm#posibles-consecuencias-negativas-del-rebase-de-steth">Posibles consecuencias negativas del rebase de stETH</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/staking-modules/csm/join-csm#validación-y-anulación-de-datos-de-depósito-aka-aprobación-y-desaprobación">Validación y anulación de datos de depósito (aka aprobación y desaprobación)</a></li><li><a class="table-of-contents__link toc-highlight" href="/staking-modules/csm/join-csm#claves-depositables">Claves depositables</a></li><li><a class="table-of-contents__link toc-highlight" href="/staking-modules/csm/join-csm#cola-de-asignación-de-stake">Cola de asignación de Stake</a></li><li><a class="table-of-contents__link toc-highlight" href="/staking-modules/csm/join-csm#eliminación-de-datos-de-depósito">Eliminación de datos de depósito</a></li><li><a class="table-of-contents__link toc-highlight" href="/staking-modules/csm/join-csm#período-de-adopción-temprana">Período de Adopción Temprana</a></li><li><a class="table-of-contents__link toc-highlight" href="/staking-modules/csm/join-csm#lecturas-adicionales">Lecturas adicionales</a></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>