<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-guides/oracle-operator-manual" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Oracle Operator Manual | Lido Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://adminseedlatam.github.io/lido-docs-spanish/guides/oracle-operator-manual"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Oracle Operator Manual | Lido Docs"><meta data-rh="true" name="description" content="This document is intended for those who wish to participate in the Lido protocol as entity that runs - an entity who runs a daemons synchronizing state from Beacon Layer to Execution Layer of the protocol."><meta data-rh="true" property="og:description" content="This document is intended for those who wish to participate in the Lido protocol as entity that runs - an entity who runs a daemons synchronizing state from Beacon Layer to Execution Layer of the protocol."><link data-rh="true" rel="icon" href="/lido-docs-spanish/img/favicon-32x32.png"><link data-rh="true" rel="canonical" href="https://adminseedlatam.github.io/lido-docs-spanish/guides/oracle-operator-manual"><link data-rh="true" rel="alternate" href="https://adminseedlatam.github.io/lido-docs-spanish/guides/oracle-operator-manual" hreflang="en"><link data-rh="true" rel="alternate" href="https://adminseedlatam.github.io/lido-docs-spanish/guides/oracle-operator-manual" hreflang="x-default"><link rel="stylesheet" href="/lido-docs-spanish/assets/css/styles.4b5e42a6.css">
<script src="/lido-docs-spanish/assets/js/runtime~main.9ffc858b.js" defer="defer"></script>
<script src="/lido-docs-spanish/assets/js/main.d626f112.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/lido-docs-spanish/"><div class="navbar__logo"><img src="/lido-docs-spanish/img/logo.svg" alt="Lido Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/lido-docs-spanish/img/logo.svg" alt="Lido Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Lido Docs</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/adminseedlatam/lido-docs-spanish" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lido-docs-spanish/">Introducci√≥n</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lido-docs-spanish/lido-dao">Lido DAO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lido-docs-spanish/guides/lido-tokens-integration-guide">Lido tokens integration guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/lido-docs-spanish/guides/node-operators/general-overview">Guides</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/lido-docs-spanish/guides/node-operators/general-overview">Node Operators</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/lido-docs-spanish/guides/oracle-operator-manual">Oracle Operator Manual</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/lido-docs-spanish/guides/oracle-spec/accounting-oracle">Oracle specification</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/lido-docs-spanish/guides/deposit-security-manual">Deposit Security Committee manual</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/lido-docs-spanish/guides/tooling">Tooling</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/lido-docs-spanish/guides/multisig-deployment">Multisig deployment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/lido-docs-spanish/guides/protocol-levers">Protocol levers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/lido-docs-spanish/guides/etherscan-voting">DAO voting with Etherscan</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/lido-docs-spanish/guides/easy-track-guide">Guide to Easy Track</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/lido-docs-spanish/guides/address-ownership-guide">Verifying address ownership for Lido DAO ops</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/lido-docs-spanish/guides/multisig-signer-manual">Guide to being a signer at any Lido DAO multisigs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/lido-docs-spanish/guides/checking-aragon-vote">Checking the evm script from Aragon vote</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/lido-docs-spanish/guides/checking-gnosis-safe">How to verify the multisig is a Gnosis one</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/lido-docs-spanish/guides/1inch-pool-rewards">How to claim 1inch stETH/LDO pool rewards</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/lido-docs-spanish/guides/early-staker-airdrop">How to claim Lido early stakers airdrop</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/lido-docs-spanish/guides/jumpgates">How to Bridge Tokens through Jumpgate</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/lido-docs-spanish/guides/verify-lido-v2-upgrade-manual">Lido V2 mainnet parameters</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/lido-docs-spanish/integrations/api">Integrations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/lido-docs-spanish/token-guides/steth-superuser-functions">Token guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/lido-docs-spanish/contracts/lido-locator">Contracts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/lido-docs-spanish/security/bugbounty">Security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/lido-docs-spanish/deployed-contracts/">Deployed contracts</a><button aria-label="Expand sidebar category &#x27;Deployed contracts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/lido-docs-spanish/multisigs/emergency-brakes">Multisigs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/lido-docs-spanish/ipfs/about">IPFS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/lido-docs-spanish/staking-modules/csm/intro">Staking Modules</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/lido-docs-spanish/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Guides</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Oracle Operator Manual</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Oracle Operator Manual</h1>
<p>This document is intended for those who wish to participate in the Lido protocol as entity that runs - an entity who runs a daemons synchronizing state from Beacon Layer to Execution Layer of the protocol.
Due to the lack of native communication between these two networks, Lido employs a network of oracles to synchronize the system at regular intervals.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="tldr">TL;DR<a class="hash-link" aria-label="Direct link to TL;DR" title="Direct link to TL;DR" href="/lido-docs-spanish/guides/oracle-operator-manual#tldr">‚Äã</a></h2>
<ol>
<li>Generate an Ethereum address.</li>
<li>Launch and sync an <a href="https://ethereum.org/en/developers/docs/nodes-and-clients/#archive-node" target="_blank" rel="noopener noreferrer">archive</a> (archive data for at least 2 weeks) Execution Layer node with JSON-RPC endpoint enabled.</li>
<li>Launch and sync an <a href="https://ethereum.org/en/developers/docs/nodes-and-clients/#archive-node" target="_blank" rel="noopener noreferrer">archive</a> Consensus Layer node with API endpoint enabled.</li>
<li>Launch and sync a <a href="https://github.com/lidofinance/lido-keys-api" target="_blank" rel="noopener noreferrer">Keys API Service</a>.</li>
<li>Launch the accounting and ejector modules of Oracle.</li>
<li>[<strong>Optional</strong>] Add alerts to Oracle&#x27;s Prometheus metrics.</li>
<li>In case of mainnet share your address and intention to join the Oracle set with public. You need to publish it on Twitter and also write a message with a twitter link under Onboarding post on <a href="https://research.lido.fi/" target="_blank" rel="noopener noreferrer">the Research forum</a>.</li>
<li>Propose your Oracle&#x27;s ethereum address to Lido Team to vote on your address being added to the Oracle Members.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="intro">Intro<a class="hash-link" aria-label="Direct link to Intro" title="Direct link to Intro" href="/lido-docs-spanish/guides/oracle-operator-manual#intro">‚Äã</a></h2>
<p>The Lido Oracle mechanism comprises three main components. The first component is the Oracle smart-contract suite, which receives update reports from the oracles and passes them on to the Lido contract to execute the necessary actions based on the reported changes. The second component is the off-chain oracle daemon, run by each oracle node and responsible for monitoring the protocol state and generating update reports. The third component is the network of computer nodes that run by oracle member, which collectively provide the necessary information to the Oracle smart contract to calculate the new state of the protocol.</p>
<p>Based on the update reports received from the oracles, the Lido smart contract performs state transitions such as updating user balances, processing withdrawal requests, and distributing rewards to node operators. Thus, the Lido Oracle mechanism acts as a synchronization device that bridges the protocol across the execution and consensus layers. It ensures that the protocol is updated in a timely and accurate manner and allows for smooth and efficient operation of the entire Lido system.</p>
<p>The two core contracts in the Lido Oracle suite are called <a href="/lido-docs-spanish/contracts/accounting-oracle">AccountingOracle</a> and <a href="/lido-docs-spanish/contracts/validators-exit-bus-oracle">ValidatorsExitBus</a>. Together, these contracts collect information submitted by oracles about the state of validators and their balances, the amount of funds accumulated on protocol vaults, the number of withdrawal requests the protocol is able to process, and the validators are expected to be voluntary exited to finalize more withdrawal requests. This information is then used for these crucial processes:</p>
<ul>
<li>rebasing user balances,</li>
<li>distributing node operator rewards,</li>
<li>processing withdrawal requests,</li>
<li>making decision which validators should initiate voluntary exit,</li>
<li>distributing stake,</li>
<li>putting the protocol into the bunker mode.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="oracle-phases">Oracle phases<a class="hash-link" aria-label="Direct link to Oracle phases" title="Direct link to Oracle phases" href="/lido-docs-spanish/guides/oracle-operator-manual#oracle-phases">‚Äã</a></h2>
<p>In order to send the report data by the oracle operator to both <code>AccountingOracle</code> and <code>ValidatorsExitBusOracle</code>, it is necessary that:</p>
<ul>
<li>this operator participates in the oracle committee, and</li>
<li>a consensus for the corresponding report must be reached</li>
</ul>
<p>A process of sending the report data can be divided into 3 major stages:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="phase-1-submitting-a-report-hash-and-reaching-consensus">Phase 1. Submitting a report hash and reaching consensus<a class="hash-link" aria-label="Direct link to Phase 1. Submitting a report hash and reaching consensus" title="Direct link to Phase 1. Submitting a report hash and reaching consensus" href="/lido-docs-spanish/guides/oracle-operator-manual#phase-1-submitting-a-report-hash-and-reaching-consensus">‚Äã</a></h3>
<p>At the first stage, the oracles operators collect a report for a certain <code>refSlot</code> and send the hash to the <code>HashConsensus</code> contract.</p>
<p>The diagram below shows:
<code>ReportProcessor</code> - <code>AccountingOracle</code> or <code>ValidatorsExitBusOracle</code> contract.
<code>HashConsensus</code> -  a contract which manages oracle members committee and allows the members to reach consensus on the particular data hash for each reporting frame.</p>
<p>You can read more about HashConsensus <a href="/lido-docs-spanish/contracts/hash-consensus">here</a>.</p>
<!-- -->
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="phase-2-submitting-a-report-data">Phase 2. Submitting a report data<a class="hash-link" aria-label="Direct link to Phase 2. Submitting a report data" title="Direct link to Phase 2. Submitting a report data" href="/lido-docs-spanish/guides/oracle-operator-manual#phase-2-submitting-a-report-data">‚Äã</a></h3>
<p>When the consensus is reached, one of the oracles operators submits report data and triggers the core protocol state update (including the token rebase, distribution of node operator rewards, finalization of withdrawal requests, and deciding whether to go in the bunker mode) or emits <code>ValidatorExitRequest</code> events to inform node operators about new voluntary exit requests needed to perform.</p>
<!-- -->
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="phase-3-submitting-a-report-extra-data">Phase 3. Submitting a report extra data<a class="hash-link" aria-label="Direct link to Phase 3. Submitting a report extra data" title="Direct link to Phase 3. Submitting a report extra data" href="/lido-docs-spanish/guides/oracle-operator-manual#phase-3-submitting-a-report-extra-data">‚Äã</a></h3>
<p>This step is required for <code>AccountingOracle</code>, involving reward distribution for staking modules on this phase.</p>
<!-- -->
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="committee-membership">Committee membership<a class="hash-link" aria-label="Direct link to Committee membership" title="Direct link to Committee membership" href="/lido-docs-spanish/guides/oracle-operator-manual#committee-membership">‚Äã</a></h2>
<p>The current Oracle set consists of 9 participants:</p>
<ul>
<li>Chorus One <code>0x140bd8fbdc884f48da7cb1c09be8a2fadfea776e</code></li>
<li>Staking Facilities <code>0x404335bce530400a5814375e7ec1fb55faff3ea2</code></li>
<li>stakefish <code>0x946d3b081ed19173dc83cd974fc69e1e760b7d78</code></li>
<li>P2P Validator <code>0x007de4a5f7bc37e2f26c0cb2e8a95006ee9b89b5</code></li>
<li>Rated <a href="https://research.lido.fi/t/expansion-of-lidos-ethereum-oracle-set/2836/49" target="_blank" rel="noopener noreferrer">0xec4bfbaf681eb505b94e4a7849877dc6c600ca3a</a></li>
<li>bloXroute <a href="https://research.lido.fi/t/expansion-of-lidos-ethereum-oracle-set/2836/54" target="_blank" rel="noopener noreferrer">0x61c91ECd902EB56e314bB2D5c5C07785444Ea1c8</a></li>
<li>Instadapp <a href="https://research.lido.fi/t/expansion-of-lidos-ethereum-oracle-set/2836/53" target="_blank" rel="noopener noreferrer">0x1ca0fec59b86f549e1f1184d97cb47794c8af58d</a></li>
<li>Kyber Network <a href="https://research.lido.fi/t/expansion-of-lidos-ethereum-oracle-set/2836/52" target="_blank" rel="noopener noreferrer">0xA7410857ABbf75043d61ea54e07D57A6EB6EF186</a></li>
<li>ChainLayer <a href="https://research.lido.fi/t/expansion-of-lidos-ethereum-oracle-set/2836/69" target="_blank" rel="noopener noreferrer">0xc79F702202E3A6B0B6310B537E786B9ACAA19BAf</a></li>
</ul>
<p>The quorum is 5/9. This means that the report finalization can only occur when there are 5 identical reports from the 5 different oracle members.</p>
<p>See <a href="https://research.lido.fi/t/expansion-of-lidos-ethereum-oracle-set/2836" target="_blank" rel="noopener noreferrer">Expansion of Lido on Ethereum Oracle set</a> post for more details.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites" href="/lido-docs-spanish/guides/oracle-operator-manual#prerequisites">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="execution-client-node">Execution Client Node<a class="hash-link" aria-label="Direct link to Execution Client Node" title="Direct link to Execution Client Node" href="/lido-docs-spanish/guides/oracle-operator-manual#execution-client-node">‚Äã</a></h3>
<p>To prepare the report, Oracle fetches up to 10 days old events, makes historical requests for balance data and makes simulated reports on historical blocks. This requires an <a href="https://ethereum.org/en/developers/docs/nodes-and-clients/#archive-node" target="_blank" rel="noopener noreferrer">archive</a> execution node.
Oracle needs two weeks of archived data.</p>
<table><thead><tr><th>Client</th><th>Tested</th><th>Notes</th></tr></thead><tbody><tr><td><a href="https://geth.ethereum.org/" target="_blank" rel="noopener noreferrer">Geth</a></td><td></td><td><code>--gcmode=archive</code> <br> <code>--syncmode=snap</code> <br><br>OR<br><br><code>--gcmode=archive</code><br><code>--syncmode=full</code></td></tr><tr><td><a href="https://nethermind.io/" target="_blank" rel="noopener noreferrer">Nethermind</a></td><td></td><td>Not tested yet</td></tr><tr><td><a href="https://besu.hyperledger.org/en/stable/" target="_blank" rel="noopener noreferrer">Besu</a></td><td></td><td>Use <br><code>--rpc-max-logs-range=100000</code> <br> <code>--sync-mode=FULL</code> <br> <code>--data-storage-format=&quot;FOREST&quot;</code> <br> <code>--pruning-enabled</code> <br><code>--pruning-blocks-retained=100000</code> <br> params</td></tr><tr><td><a href="https://github.com/ledgerwatch/erigon" target="_blank" rel="noopener noreferrer">Erigon</a></td><td></td><td>Use <br> <code>--prune=htc</code> <br> <code>--prune.h.before=100000</code> <br> <code>--prune.t.before=100000</code> <br> <code>--prune.c.before=100000</code> <br> params</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="consensus-client-node">Consensus Client Node<a class="hash-link" aria-label="Direct link to Consensus Client Node" title="Direct link to Consensus Client Node" href="/lido-docs-spanish/guides/oracle-operator-manual#consensus-client-node">‚Äã</a></h3>
<p>To calculate some metrics for bunker mode Oracle needs <a href="https://ethereum.org/en/developers/docs/nodes-and-clients/#archive-node" target="_blank" rel="noopener noreferrer">archive</a> consensus node.</p>
<table><thead><tr><th>Client</th><th>Tested</th><th>Notes</th></tr></thead><tbody><tr><td><a href="https://lighthouse.sigmaprime.io/" target="_blank" rel="noopener noreferrer">Lighthouse</a></td><td></td><td>Use <code>--reconstruct-historic-states</code> param</td></tr><tr><td><a href="https://nethermind.io/" target="_blank" rel="noopener noreferrer">Lodestar</a></td><td></td><td>Not tested yet</td></tr><tr><td><a href="https://nimbus.guide/quick-start.html" target="_blank" rel="noopener noreferrer">Nimbus</a></td><td></td><td>Not tested yet</td></tr><tr><td><a href="https://github.com/ledgerwatch/erigon" target="_blank" rel="noopener noreferrer">Prysm</a></td><td></td><td>Use <br> <code>--grpc-max-msg-size=104857600</code> <br> <code>--enable-historical-state-representation=true</code> <br> <code>--slots-per-archive-point=1024</code> <br> params</td></tr><tr><td><a href="https://docs.teku.consensys.net" target="_blank" rel="noopener noreferrer">Teku</a></td><td></td><td>Use <br> <code>--data-storage-mode=archive</code> <br><code>--data-storage-archive-frequency=1024</code><br> <code>--reconstruct-historic-states=true</code><br> params</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="keys-api-service">Keys API Service<a class="hash-link" aria-label="Direct link to Keys API Service" title="Direct link to Keys API Service" href="/lido-docs-spanish/guides/oracle-operator-manual#keys-api-service">‚Äã</a></h3>
<p>This is a separate service that uses Execution Client to fetch all lido keys. It stores the latest state of lido keys in database.</p>
<p><a href="https://github.com/lidofinance/lido-keys-api" target="_blank" rel="noopener noreferrer">Lido Keys API repository.</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-oracle-daemon">The oracle daemon<a class="hash-link" aria-label="Direct link to The oracle daemon" title="Direct link to The oracle daemon" href="/lido-docs-spanish/guides/oracle-operator-manual#the-oracle-daemon">‚Äã</a></h2>
<p>The Oracle daemon is a Python application that contains two modules:</p>
<ul>
<li>Accounting module</li>
<li>Ejector module</li>
</ul>
<p>The oracle source code is available at <a href="https://github.com/lidofinance/lido-oracle" target="_blank" rel="noopener noreferrer">https://github.com/lidofinance/lido-oracle</a>.</p>
<p>Modules fetch the reportable slot, and if this slot is finalized, calculate and send the report to AccountingOracle and ExitBusOracle smart contracts.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="environment-variables">Environment variables<a class="hash-link" aria-label="Direct link to Environment variables" title="Direct link to Environment variables" href="/lido-docs-spanish/guides/oracle-operator-manual#environment-variables">‚Äã</a></h3>
<p>The oracle daemon requires the following environment variables:</p>
<p><strong>Required</strong></p>
<ul>
<li><code>EXECUTION_CLIENT_URI</code> - list of Execution Client uris separated with comma. The second and next uris will be used as fallback.</li>
<li><code>CONSENSUS_CLIENT_URI</code> - list of Consensus Client uris separated with comma. The second and next uris will be used as fallback.</li>
<li><code>KEYS_API_URI</code> - list of Key API client uris separated with comma. The second and next uris will be used as fallback.</li>
<li><code>LIDO_LOCATOR_ADDRESS</code> - Lido Locator smart contract address.</li>
</ul>
<p><strong>Optional</strong></p>
<p><strong>One of:</strong></p>
<ul>
<li><code>MEMBER_PRIV_KEY</code> - Private key of the Oracle member account.</li>
<li><code>MEMBER_PRIV_KEY_FILE</code> - A path to the file contained the private key of the Oracle member account.</li>
</ul>
<p>Full list could be found <a href="https://github.com/lidofinance/lido-oracle#env-variables" target="_blank" rel="noopener noreferrer">here</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="lido-locator-address">Lido Locator address<a class="hash-link" aria-label="Direct link to Lido Locator address" title="Direct link to Lido Locator address" href="/lido-docs-spanish/guides/oracle-operator-manual#lido-locator-address">‚Äã</a></h3>
<p><strong>Mainnet</strong>
<strong><a href="https://etherscan.io/address/0xC1d0b3DE6792Bf6b4b37EccdcC24e45978Cfd2Eb" target="_blank" rel="noopener noreferrer">0xC1d0b3DE6792Bf6b4b37EccdcC24e45978Cfd2Eb</a></strong></p>
<p><strong>Hole≈°ky</strong>
<strong><a href="https://holesky.etherscan.io/address/0x28FAB2059C713A7F9D8c86Db49f9bb0e96Af1ef8" target="_blank" rel="noopener noreferrer">0x28FAB2059C713A7F9D8c86Db49f9bb0e96Af1ef8</a></strong></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="running-the-daemon">Running the daemon<a class="hash-link" aria-label="Direct link to Running the daemon" title="Direct link to Running the daemon" href="/lido-docs-spanish/guides/oracle-operator-manual#running-the-daemon">‚Äã</a></h3>
<p>Startup accounting module</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker run -d --name lido-oracle-accounting \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --env &quot;EXECUTION_CLIENT_URI=$EXECUTION_CLIENT_URI&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --env &quot;CONSENSUS_CLIENT_URI=$CONSENSUS_CLIENT_URI&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --env &quot;KEYS_API_URI=$KEYS_API_URI&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --env &quot;LIDO_LOCATOR_ADDRESS=$LOCATOR_ADDRESS&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --env &quot;MEMBER_PRIV_KEY=$MEMBER_PRIV_KEY&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  lidofinance/oracle@&lt;image-hash&gt; accounting</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Startup ejector module</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker run -d --name lido-oracle-ejector \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --env &quot;EXECUTION_CLIENT_URI=$EXECUTION_CLIENT_URI&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --env &quot;CONSENSUS_CLIENT_URI=$CONSENSUS_CLIENT_URI&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --env &quot;KEYS_API_URI=$KEYS_API_URI&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --env &quot;LIDO_LOCATOR_ADDRESS=$LOCATOR_ADDRESS&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --env &quot;MEMBER_PRIV_KEY=$MEMBER_PRIV_KEY&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  lidofinance/oracle@&lt;image-hash&gt; ejector</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Latest image hash</strong>
<a href="https://docs.lido.fi/guides/tooling/#oracle" target="_blank" rel="noopener noreferrer">https://docs.lido.fi/guides/tooling/#oracle</a></p>
<p>This will start the oracle in daemon mode. You can also run it in a one-off mode, for example if you‚Äôd prefer to trigger oracle execution as a <code>cron</code> job. In this case, set the <code>DAEMON</code> environment variable to 0.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="metrics-and-alerts">Metrics and Alerts<a class="hash-link" aria-label="Direct link to Metrics and Alerts" title="Direct link to Metrics and Alerts" href="/lido-docs-spanish/guides/oracle-operator-manual#metrics-and-alerts">‚Äã</a></h3>
<p>How to set up alerts and details about metrics could be found <a href="https://github.com/lidofinance/lido-oracle#alerts" target="_blank" rel="noopener noreferrer">here</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/adminseedlatam/lido-docs-spanish/edit/main/docs/guides/oracle-operator-manual.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/lido-docs-spanish/guides/node-operators/exits/tooling-setup"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Tooling Setup &amp; Configuration</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/lido-docs-spanish/guides/oracle-spec/accounting-oracle"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Accounting oracle</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guides/oracle-operator-manual#tldr">TL;DR</a></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guides/oracle-operator-manual#intro">Intro</a></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guides/oracle-operator-manual#oracle-phases">Oracle phases</a><ul><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guides/oracle-operator-manual#phase-1-submitting-a-report-hash-and-reaching-consensus">Phase 1. Submitting a report hash and reaching consensus</a></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guides/oracle-operator-manual#phase-2-submitting-a-report-data">Phase 2. Submitting a report data</a></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guides/oracle-operator-manual#phase-3-submitting-a-report-extra-data">Phase 3. Submitting a report extra data</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guides/oracle-operator-manual#committee-membership">Committee membership</a></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guides/oracle-operator-manual#prerequisites">Prerequisites</a><ul><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guides/oracle-operator-manual#execution-client-node">Execution Client Node</a></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guides/oracle-operator-manual#consensus-client-node">Consensus Client Node</a></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guides/oracle-operator-manual#keys-api-service">Keys API Service</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guides/oracle-operator-manual#the-oracle-daemon">The oracle daemon</a><ul><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guides/oracle-operator-manual#environment-variables">Environment variables</a></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guides/oracle-operator-manual#lido-locator-address">Lido Locator address</a></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guides/oracle-operator-manual#running-the-daemon">Running the daemon</a></li><li><a class="table-of-contents__link toc-highlight" href="/lido-docs-spanish/guides/oracle-operator-manual#metrics-and-alerts">Metrics and Alerts</a></li></ul></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>